webpackJsonp([9,54,84],{578:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(7),s=babelHelpers.interopRequireDefault(n),r=i(40),o=babelHelpers.interopRequireDefault(r),a=i(136),l=babelHelpers.interopRequireDefault(a),c=i(1802),u=babelHelpers.interopRequireDefault(c),d=i(1796),h=babelHelpers.interopRequireDefault(d),p=i(1778),f=babelHelpers.interopRequireDefault(p);t["default"]=s["default"].module("ng/apps/asset-player/app",[o["default"].name,u["default"].name,h["default"].name,f["default"].name]).config(l["default"])},596:function(e,t,i){"use strict";function n(e,t,i,n){e.mapping=[],e.mapping["send-asset-ready"]=n.getString("Lecture ready emails"),e.mapping["processing-error"]=n.getString("Video processing error emails"),e.mapping["daily-discussions-digest"]=n.getString("Daily Q&A digest"),e.mapping["new-course-announcement"]=n.getString("New announcement emails"),e.mapping["new-course-promotion"]=n.getString("Promotional emails"),e.studentEventMapping={"new-course-announcement":"settings educational-announcement-toggle","new-course-promotion":"settings promotional-announcement-toggle"},e.updateCourseSetting=function(){e.disabled||(e.settingValue=!e.settingValue,e.studentEventMapping[e.settingKey]&&t.$emit("courseEmailSettingChanged",{value:e.studentEventMapping[e.settingKey]}),i.save({course_id:e.courseId},{setting:e.settingKey,value:e.settingValue?"on":"off"}))}}function s(){return{controller:n,restrict:"E",replace:!0,scope:{disabled:"=",courseId:"=",settingKey:"=",settingValue:"="},templateUrl:f["default"],link:function(e){e.settingText=e.mapping[e.settingKey]}}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(7),o=babelHelpers.interopRequireDefault(r),a=i(136),l=babelHelpers.interopRequireDefault(a),c=i(569),u=babelHelpers.interopRequireDefault(c),d=i(40),h=babelHelpers.interopRequireDefault(d),p=i(1998),f=babelHelpers.interopRequireDefault(p),g=o["default"].module("ng/directives/settings/email-setting.ng-directive",[h["default"].name,u["default"].name]).directive("emailSetting",s).config(l["default"]);n.$inject=["$scope","$rootScope","UserCourseSettings","gettextCatalog"],t["default"]=g},654:function(e,t,i){"use strict";function n(e){e.strictMode(!1)}function s(e){return Ke?void e.otherwise("/early-access"):void e.otherwise("/overview")}function r(e){if(e.state("base",{url:"","abstract":!0,template:"<ui-view></ui-view>",controller:"CourseController",resolve:{initCurriculumService:["Curriculum","CurrentCourse","ViewMode",function(e,t,i){i.isFreePreviewer()&&(0,u["default"])("body").addClass("is-preview"),e.init(t.id,t.content_length_video)}]}}).state("base.taking",{url:"/t","abstract":!0,templateUrl:z["default"],controller:"CourseTakingController"}).state("base.taking.interstitial_v2",{params:{id:"",type:null},templateUrl:he["default"],controller:"InterstitialV2Controller"}).state("base.taking.lecture",{url:"/lecture/:id",templateUrl:me["default"],controller:"LectureViewController",data:{objectType:"lecture"}}).state("base.taking.lecture.start",{url:"?start"}).state("base.taking.quiz",{url:"/quiz/:id",controller:"QuizViewController",templateUrl:ke["default"]}).state("base.taking.quiz.start",{url:"/start",template:'<practice-test-start-page quiz="quiz" start-quiz="startQuiz">\n                       </practice-test-start-page>'}).state("base.taking.quiz.question",{url:"/test",template:'<practice-test-question-page\n                           quiz="quiz"\n                           quiz-attempt="latestQuizAttempt"\n                           question="currentQuestion"\n                           show-current-question="showCurrentQuestion"\n                           show-results-page="showResultsPage"\n                           reset-idle-timer="resetIdleTimer">\n                       </practice-test-question-page>'}).state("base.taking.quiz.results",{url:"/results?expanded",reloadOnSearch:!1,template:'<practice-test-results-page\n                           quiz="quiz"\n                           all-quiz-attempts="allQuizAttempts"\n                           load-all-attempts="loadAllAttempts"\n                           compute-chart-data="computeChartData">\n                       </practice-test-results-page>'}).state("base.taking.quiz.attempt-results",{url:"/results/:attemptId",template:'<practice-test-attempt-results-page\n                          quiz="quiz"\n                          quiz-attempt="quizAttemptToReview"\n                          load-attempt-results="loadAttemptResults"\n                          compute-chart-data="computeChartData">\n                       </practice-test-attempt-results-page>'}).state("base.taking.practice",{url:"/practice/:id",controller:"PracticeViewController",templateUrl:Be["default"],"abstract":!0}).state("base.taking.practice.start-page",{url:"",controller:"PracticeStartPageController",templateUrl:Pe["default"],data:{nextTab:"base.taking.practice.introduction",showProgressBar:!1,tab:"start_page"}}).state("base.taking.practice.introduction",{url:"/introduction",controller:"PracticeIntroductionController",templateUrl:Ie["default"],data:{nextTab:"base.taking.practice.submission",showProgressBar:!0}}).state("base.taking.practice.submission",{url:"/submission",controller:"PracticeSubmissionController",templateUrl:ze["default"],data:{nextTab:"base.taking.practice.instructor_solution",prevTab:"base.taking.practice.introduction",showProgressBar:!0}}).state("base.taking.practice.instructor_solution",{url:"/instructor-solution",controller:"PracticeSolutionController",templateUrl:je["default"],data:{nextTab:"base.taking.practice.give_feedback",prevTab:"base.taking.practice.submission",showProgressBar:!0}}).state("base.taking.practice.give_feedback",{url:"/give-feedback",controller:"PracticeGiveFeedbackController",templateUrl:We["default"],data:{nextTab:"base.taking.practice.summary",prevTab:"base.taking.practice.instructor_solution",showProgressBar:!0,tab:"give_feedback"}}).state("base.taking.practice.summary",{url:"/summary",controller:"PracticeSummaryController",templateUrl:Ve["default"],data:{nextTab:null,showProgressBar:!1,tab:"summary"}}).state("base.taking.practice.summary-detail",{url:"/summary/:submissionId/commenter/:commenterId",params:{cachedUser:null},controller:"PracticeSummaryDetailController",templateUrl:Ge["default"],data:{showProgressBar:!1}}),Ke){var t=["$state","CourseProgress","Curriculum",function(e,t,i){i.ensureCurriculumLoaded().then(function(){t.get({courseId:i.courseId,"fields[course]":"next_curriculum_object"}).$promise.then(function(t){var i=t.next_curriculum_object;e.go("base.taking."+i._class,{id:i.id})})})}];return void e.state("base.early-access",{controller:t,url:"/early-access"})}e.state("base.taking.review",{params:{courseId:"",curriculumItem:null},templateUrl:Se["default"],controller:"ReviewPromptController"}).state("base.dashboard",{url:"?show_review_popup","abstract":!0,templateUrl:J["default"],controller:"DashboardController"}).state("base.dashboard.overview",{url:"/overview",templateUrl:ie["default"],controller:"OverviewController",data:{tabName:"Overview"}}).state("base.dashboard.content",{url:"/content",templateUrl:G["default"],controller:"ContentController",data:{tabName:"Course Content"}}).state("base.dashboard.questions",{url:"/questions?num_replies",templateUrl:oe["default"],controller:"QuestionsController",data:{tabName:"Q&A"}}).state("base.dashboard.question-details",{url:"/questions/:id",controller:"QuestionDetailsController",templateUrl:ue["default"],data:{tabName:"Q&A"}}).state("base.dashboard.bookmarks",{url:"/bookmarks",template:"<bookmarks-list></bookmarks-list>",data:{tabName:"Bookmarks"}}).state("base.dashboard.announcements",{url:"/announcements?ids,preview_announcement_title,preview_announcement_content,preview_announcement",templateUrl:W["default"],controller:"AnnouncementsController",data:{tabName:"Announcements"}})}function o(e){e.decorator("$exceptionHandler",["$delegate",function(e){return function(t,i){m["default"].captureException(t),e(t,i)}}])}Object.defineProperty(t,"__esModule",{value:!0});var a=i(7),l=babelHelpers.interopRequireDefault(a);i(379),i(256),i(565);var c=i(5),u=babelHelpers.interopRequireDefault(c),d=i(2734),h=babelHelpers.interopRequireDefault(d),p=i(2732),f=babelHelpers.interopRequireDefault(p),g=i(570),m=babelHelpers.interopRequireDefault(g),v=i(136),b=babelHelpers.interopRequireDefault(v),w=i(567),y=babelHelpers.interopRequireDefault(w),A=i(2167),k=babelHelpers.interopRequireDefault(A),C=i(1853),x=babelHelpers.interopRequireDefault(C),_=i(40),S=babelHelpers.interopRequireDefault(_),E=i(35),F=babelHelpers.interopRequireDefault(E),D=i(2463),$=babelHelpers.interopRequireDefault(D),q=i(2465),R=babelHelpers.interopRequireDefault(q),T=i(2464),B=babelHelpers.interopRequireDefault(T),L=i(1743),P=babelHelpers.interopRequireDefault(L),M=i(1779),I=babelHelpers.interopRequireDefault(M),H=i(2976),z=babelHelpers.interopRequireDefault(H),O=i(2471),j=babelHelpers.interopRequireDefault(O),N=i(2984),W=babelHelpers.interopRequireDefault(N),U=i(2472),V=babelHelpers.interopRequireDefault(U),Q=i(2985),G=babelHelpers.interopRequireDefault(Q),K=i(2473),Y=babelHelpers.interopRequireDefault(K),X=i(2986),J=babelHelpers.interopRequireDefault(X),Z=i(2474),ee=babelHelpers.interopRequireDefault(Z),te=i(2989),ie=babelHelpers.interopRequireDefault(te),ne=i(2476),se=babelHelpers.interopRequireDefault(ne),re=i(2991),oe=babelHelpers.interopRequireDefault(re),ae=i(2475),le=babelHelpers.interopRequireDefault(ae),ce=i(2990),ue=babelHelpers.interopRequireDefault(ce),de=i(2993),he=babelHelpers.interopRequireDefault(de),pe=i(2480),fe=babelHelpers.interopRequireDefault(pe),ge=i(2996),me=babelHelpers.interopRequireDefault(ge),ve=i(2483),be=babelHelpers.interopRequireDefault(ve),we=i(2503),ye=babelHelpers.interopRequireDefault(we),Ae=i(3031),ke=babelHelpers.interopRequireDefault(Ae),Ce=i(2519),xe=babelHelpers.interopRequireDefault(Ce),_e=i(3035),Se=babelHelpers.interopRequireDefault(_e),Ee=i(2089),Fe=babelHelpers.interopRequireDefault(Ee),De=i(1750),$e=babelHelpers.interopRequireDefault(De),qe=i(2485),Re=babelHelpers.interopRequireDefault(qe),Te=i(3005),Be=babelHelpers.interopRequireDefault(Te),Le=i(3001),Pe=babelHelpers.interopRequireDefault(Le),Me=i(2999),Ie=babelHelpers.interopRequireDefault(Me),He=i(3002),ze=babelHelpers.interopRequireDefault(He),Oe=i(3e3),je=babelHelpers.interopRequireDefault(Oe),Ne=i(2998),We=babelHelpers.interopRequireDefault(Ne),Ue=i(3004),Ve=babelHelpers.interopRequireDefault(Ue),Qe=i(3003),Ge=babelHelpers.interopRequireDefault(Qe);i(3050);var Ke=F["default"].features.course.is_early_access,Ye=l["default"].module("ng/apps/course-taking-v4/app",["ui.router","ngAnimate","angular-inview",h["default"].name,f["default"].name,S["default"].name,be["default"].name,x["default"].name,y["default"].name,k["default"].name,ye["default"].name,xe["default"].name,I["default"].name,$e["default"].name,Fe["default"].name,B["default"].name,R["default"].name,Y["default"].name,V["default"].name,ee["default"].name,j["default"].name,se["default"].name,le["default"].name,j["default"].name,$["default"].name,P["default"].name,fe["default"].name,Re["default"].name]).config(["$urlMatcherFactoryProvider",n]).config(["$urlRouterProvider",s]).config(["$stateProvider",r]).config(b["default"]).config(["$provide",o]).run(["$rootScope","$location","$state","Mobile",function(e,t,i,n){e.$on("$stateChangeStart",function(e,i,n,s,r){Ye.locationSearch=l["default"].copy(t.search()),""!==s.name&&delete Ye.locationSearch.start}),e.$on("$stateChangeSuccess",function(e,i,n,s,r){var o=l["default"].extend({},Ye.locationSearch,t.search());""!==s.name&&delete o.ids,"base.taking.quiz.results"===s.name&&delete o.expanded,l["default"].equals(o,t.search())||t.search(o).replace(),window.dataLayer=[]})}]);t["default"]=Ye},1720:function(e,t,i){var n,s;n=[i(7),i(5),i(162),i(1721)],s=function(e,t,i,n){return e.module("ng/filters/htmlutils.ng-filter",[n.name]).filter("textToHtml",function(){return function(e){if(!e)return e;e=t("<i/>").text(e).html().replace(/\n/g,"<br/>");for(var i=/(http|ftp|https):\/\/[\w-]+(\.[\w-]+)+([\w.,@?^=%&amp;:\/~+#-]*[\w@?^=%&amp;\/~+#-])?/gi,n=[],s=[],r=void 0;null!==(r=i.exec(e));)n.push(r.index),s.push(r[0]);if(0===n.length)return e;for(var o=e.substring(0,n[0]),a=void 0,l=0;l<n.length;l++)a=l+1<n.length?e.substring(n[l],n[l+1]):e.substring(n[l]),o+=a.replace(s[l],'<a href="'+s[l]+'" target="_blank" rel="nofollow noreferrer" >'+s[l]+"</a>");return o}}).filter("removeHTMLWhiteSpace",["Utils",function(e){return function(e){return e.replace(/&nbsp;/g,"")}}]).filter("removeAllWhiteSpace",["Utils",function(e){return function(e){return e.replace(/\s/g,"")}}]).filter("isStrippedHTMLEmpty",["Utils",function(e){return function(t){return!e.trimTags(t)}}]).filter("thousandsToK",function(){return function(e){return e>=1e3?(e=Math.round(e/100)/10,e.toString().replace(".0","")+"K"):e.toString()}}).filter("mysqlDate",["$filter",function(e){return function(t,n){var s=i["default"],r="America/Los_Angeles",o=s.tz(t,r);return e("date")(o.toDate(),n,o.utcOffset())}}]).filter("firstNameRestInitials",function(){return function(e){var t=e.split(" ");return t[0]+" "+t.slice(1).join(" ").replace(/(\S)\S*\s*/gi,"$1.")}}).filter("stripBreaks",function(){return function(e){var t=String(e).replace(/<((p)|(br))\/?>/gm,"");return t}}).filter("stripImages",function(){return function(e){var t=String(e).replace(/<img\/?>/gm,"");return t}}).filter("stripLists",function(){return function(e){var t=String(e).replace(/<((ul)|(ol)|(li)|(dl))\/?>/gm,"");return t}}).filter("openBlankTarget",function(){return function(t){if(null===t||void 0===t)return"";var i=e.element("<div>"+t+"</div>");return i.find("a").attr("target","_blank"),i.html()}})}.apply(t,n),!(void 0!==s&&(e.exports=s))},1721:function(e,t,i){var n,s;n=[i(7),i(135)],s=function(e,t){return e.module("ng/services/utils.ng-factory",[t.name]).factory("Utils",["$timeout","$q","gettextCatalog",function(t,i,n){function s(t){e.extend(this,t)}return s.trimTags=function(t){return e.isString(t)?t.replace(/(<([^>]+)>)/gi,""):null},s.replaceImgTag=function(t){return e.isString(t)?t.replace(/<img[^>]+>/gm,n.getString("[image]")):null},s.removeItemFromArray=function(e,t){var i=t.indexOf(e);return i<=0&&(t.splice(i,1),!0)},s.convertBoolToInt=function(e){if("boolean"==typeof e)return e?1:0},s.convertParamToBool=function(e){return"true"===e||e>0},s.htmlTagsHasContent=function(e){return!!s.trimTags(e)},s.joinObjWithEnclosedTag=function(t,i){var n=void 0,s=void 0,r=void 0,o="";for(s in t)if(Object.prototype.hasOwnProperty.call(t,s))for(r=t[s],e.isArray(r)||(r=[r]),n=0;n<r.length;n++)o+="<"+i+">"+t[s]+"</"+i+">";return o},s.debounce=function(e,n,s){var r=void 0,o=i.defer();return function(){function a(){r=null,s||(o.resolve(e.apply(d,c)),o=i.defer())}for(var l=arguments.length,c=Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=this,h=s&&!r;return r&&t.cancel(r),r=t(a,n),h&&(o.resolve(e.apply(d,c)),o=i.defer()),o.promise}},s}])}.apply(t,n),!(void 0!==s&&(e.exports=s))},1722:function(e,t,i){var n,s;n=[i(35),i(41),i(199),i(374)],s=function(e,t,i,n){function s(){this._trackerName="courseDashboardTracker",this._dimensions={userId:"dimension1",userType:"dimension3",courseType:"dimension4",ctVersion:"dimension5"},this._eventData={userId:t.id,userType:null,courseId:null,courseType:null,objectId:null,objectType:null,ctVersion:null},i.createAccount(e.third_party.google_analytics_id_for_course_taking,this._trackerName),i.setValue(this._dimensions.userId,t.id,this._trackerName)}return s.prototype.BASE="base",s.prototype.R1="1",s.prototype.setUserType=function(e){i.setValue(this._dimensions.userType,e,this._trackerName),this._eventData.userType=e},s.prototype.setCourseId=function(e){this._eventData.courseId=e},s.prototype.setCourseType=function(e){i.setValue(this._dimensions.courseType,e,this._trackerName),this._eventData.courseType=e},s.prototype.setCurriculumObject=function(e,t){this._eventData.objectType=e,this._eventData.objectId=t},s.prototype.setCTVersion=function(e){i.setValue(this._dimensions.ctVersion,e,this._trackerName),this._eventData.ctVersion=e},s.prototype.isGATrackingEnabled=function(e){return"Teach Tab"===e},s.prototype.track=function(e,t,s,r,o,a,l){if(this._eventData.courseId){this.isGATrackingEnabled(t)&&i.trackEvent(t,s,r,o,this._trackerName,a);var c={};for(var u in this._eventData)c[u]=this._eventData[u];c.category=t,c.action=s,c.extra=JSON.stringify(a);for(var d in l)c[d]=l[d];n.trackPageEvent("trackclick",e,c)}},new s}.apply(t,n),!(void 0!==s&&(e.exports=s))},1727:function(e,t,i){"use strict";function n(e,t){return function(i){var n={templateUrl:i.templateUrl||c["default"],defaultLabels:{title:t.getString("Please Confirm"),ok:t.getString("OK"),cancel:t.getString("Cancel")}};return i.settings&&(r["default"].merge(n,i.settings),delete i.settings),e(i.text?i:{text:i},n)}}Object.defineProperty(t,"__esModule",{value:!0});var s=i(7),r=babelHelpers.interopRequireDefault(s);i(1736),i(194);var o=i(135),a=babelHelpers.interopRequireDefault(o),l=i(1735),c=babelHelpers.interopRequireDefault(l),u=r["default"].module("ng/services/confirm.ng-factory",["angular-confirm","ui.bootstrap",a["default"].name]).factory("udConfirm",["$confirm","gettextCatalog",n]);t["default"]=u},1730:function(e,t,i){var n,s;n=[i(7)],s=function(e){function t(){var t=function(t){e.extend(this,t)};return t.configure=function(e,i){var n=t.getNew();return n.setPage(i.search().p),n.setPageSize(i.search().pageSize),n.setNextPageFunction(function(){e.loadingAlready||(e.loadingAlready=!0,i.search("p",n.getPage()+1))}),n.setPreviousPageFunction(function(){!e.loadingAlready&&n.page>1&&(e.loadingAlready=!0,i.search("p",n.getPage()-1))}),n},t.getNew=function(e){var t={page:1,pageSize:e||12,total:0};return t.setPage=function(e){t.page=e?parseInt(e,10):t.page},t.setPageSize=function(e){t.pageSize=e?parseInt(e,10):t.pageSize},t.setTotal=function(e){t.total=parseInt(e,10)},t.getPage=function(){return parseInt(t.page,10)},t.getPageSize=function(){return parseInt(t.pageSize,10)},t.getRangeMin=function(){return 1+(t.page-1)*t.pageSize},t.getRangeMax=function(){return Math.min(t.total,t.page*t.pageSize)},t.getNumPages=function(){return Math.ceil(t.total/t.pageSize)},t.setNextPageFunction=function(e){t.nextPageFunction=e},t.getNextPageFunction=function(){return t.nextPageFunction},t.setPreviousPageFunction=function(e){t.previousPageFunction=e},t.getPreviousPageFunction=function(){return t.previousPageFunction},t.setPageFunction=function(e){t.loadPageFunction=e},t.getPageFunction=function(){return t.loadPageFunction},t.loadPage=function(e){t.isPageEnabled(e)&&t.loadPageFunction&&t.loadPageFunction(e)},t.loadPreviousPage=function(){t.isPreviousPageEnabled()&&t.previousPageFunction&&t.previousPageFunction()},t.loadNextPage=function(){t.isNextPageEnabled()&&t.nextPageFunction&&t.nextPageFunction()},t.isPageEnabled=function(e){return t.getNumPages()>=e&&e>0},t.isPreviousPageEnabled=function(){return t.page>1},t.isNextPageEnabled=function(){return t.page<t.getNumPages()},t.setData=function(e){t.setPage(e.page),t.setPageSize(e.pageSize),t.setTotal(e.total)},t},t}return e.module("ng/services/pagination.ng-factory",[]).factory("Pagination",t)}.apply(t,n),!(void 0!==s&&(e.exports=s))},1732:function(e,t,i){var n,s;n=[i(7),i(135),i(1721)],s=function(e,t,i){return e.module("ng/filters/utility.ng-filter",[t.name,i.name]).filter("secondsToHHMMSS",["$filter",function(e){return function(t){var i=t>3600?"HH:mm:ss":"mm:ss";return e("date")(new Date(1970,1,1,0,0,t,0),i)}}]).filter("numToNearestX",function(){return function(e,t){return e%t<=Math.floor(t/2)?e-e%t:e+(t-e%t)}}).filter("getPercentage",function(){return function(e,t,i,n){return 0===t?i:(n||(n=1),Math.round(e/t*100*n)/n)}}).filter("trimTags",["Utils",function(e){return e.trimTags}]).filter("replaceImgTag",["Utils",function(e){return e.replaceImgTag}]).filter("capitalize",function(){return function(e){if(null!==e&&void 0!==e)return e=e.toLowerCase(),e.substring(0,1).toUpperCase()+e.substring(1)}}).filter("toArray",function(){return function(t,i){return e.isObject(t)?i?Object.keys(t).map(function(i){var n=t[i];return e.isObject(n)?Object.defineProperty(n,"$key",{enumerable:!1,value:i}):Object.defineProperty({$value:n},"$key",{enumerable:!1,value:i})}):Object.keys(t).map(function(e){return t[e]}):t}})}.apply(t,n),!(void 0!==s&&(e.exports=s))},1735:function(e,t){var i="/ng/services/confirm.ng-template.html",n='<div class=modal-header ng-if=data.title> <button ng-if=!data.noCloseButton type=button class=close aria-label="{{ data.cancel }}" ng-click=cancel()> <span class="udi udi-close"></span> </button> <h4 class=modal-title id=myModalLabel>{{ data.title }}</h4> </div> <div class=modal-body>{{ data.text }}</div> <div class=modal-footer> <div class=modal-footer--inner> <button type=button class="btn btn-tertiary" ng-click=cancel() ng-if=data.cancel>{{ data.cancel }}</button> <button type=button class="btn btn-primary" ng-click=ok()>{{ data.ok }}</button> </div> </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(i,n)}]),e.exports=i},1736:function(e,t,i){(function(e){/*
	 * angular-confirm
	 * https://github.com/Schlogen/angular-confirm
	 * @version v1.1.2 - 2015-10-26
	 * @license Apache
	 */
e.module("angular-confirm",["ui.bootstrap.modal"]).controller("ConfirmModalController",["$scope","$modalInstance","data",function(t,i,n){t.data=e.copy(n),t.ok=function(){i.close()},t.cancel=function(){i.dismiss("cancel")}}]).value("$confirmModalDefaults",{template:'<div class="modal-header"><h3 class="modal-title">{{data.title}}</h3></div><div class="modal-body">{{data.text}}</div><div class="modal-footer"><button class="btn btn-primary" ng-click="ok()">{{data.ok}}</button><button class="btn btn-default" ng-click="cancel()">{{data.cancel}}</button></div>',controller:"ConfirmModalController",defaultLabels:{title:"Confirm",ok:"OK",cancel:"Cancel"}}).factory("$confirm",["$modal","$confirmModalDefaults",function(t,i){return function(n,s){var r=e.copy(i);return s=e.extend(r,s||{}),n=e.extend({},s.defaultLabels,n||{}),"templateUrl"in s&&"template"in s&&delete s.template,s.resolve={data:function(){return n}},t.open(s).result}}]).directive("confirm",["$confirm",function(t){return{priority:1,restrict:"A",scope:{confirmIf:"=",ngClick:"&",confirm:"@",confirmSettings:"=",confirmTitle:"@",confirmOk:"@",confirmCancel:"@"},link:function(i,n,s){n.unbind("click").bind("click",function(n){if(n.preventDefault(),e.isUndefined(i.confirmIf)||i.confirmIf){var s={text:i.confirm};i.confirmTitle&&(s.title=i.confirmTitle),i.confirmOk&&(s.ok=i.confirmOk),i.confirmCancel&&(s.cancel=i.confirmCancel),t(s,i.confirmSettings||{}).then(i.ngClick)}else i.$apply(i.ngClick)})}}}])}).call(t,i(7))},1739:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(7),s=babelHelpers.interopRequireDefault(n);i(137);var r=function(e){return e("/api-2.0/practices/:id",{"fields[practice]":"title,is_free,is_published,sort_order,estimated_duration,object_index,description,num_submissions"},{get:{method:"GET",cache:!0},update:{method:"PATCH"}})},o=function(e){return e("/api-2.0/practices/:practiceId/components/:id",{},{get:{method:"GET"},update:{method:"PATCH"}})},a=function(e){return e("/api-2.0/practices/:practiceId/supplementary-assets/:id")},l=function(e){return e("/api-2.0/practices/:practiceId/questions/:id",{},{update:{method:"PATCH"}})},c=function(e){return e("/api-2.0/practices/:practiceId/feedback-questions/:id")},u=function(e){return e("/api-2.0/practices/:practiceId/feedback-user-answers/:id",null,{update:{method:"PATCH"}})},d=function(e){return e("/api-2.0/practices/:practiceId/user-assigned-submissions/:id",{},{partial_update:{method:"PATCH"}})},h=function(e){return e("/api-2.0/practices/:practiceId/user-attempted-practices/:id",{},{partial_update:{method:"PATCH"}})},p=function(e){return e("/api-2.0/practices/:practiceId/user-attempted-practices/:attemptId/user-answers",{},{partial_update:{method:"PATCH"}})},f=function(e){return e("/api-2.0/practices/:practiceId/user-attempted-practices/:attemptId/feedback-user-answers/:feedbackQuestionAnswerId/comments/:commentId",{},{update:{method:"PATCH"}})},g=s["default"].module("ng/services/v2/practice-resources.ng-factory",["ngResource"]).factory("SubscribedPractice",["$resource",r]).factory("PracticeComponent",["$resource",o]).factory("PracticeSupplementaryAsset",["$resource",a]).factory("PracticeQuestion",["$resource",l]).factory("PracticeFeedbackQuestion",["$resource",c]).factory("PracticeFeedbackQuestionAnswer",["$resource",u]).factory("FeedbackQuestionAnswerComment",["$resource",f]).factory("PracticeAssignedSubmission",["$resource",d]).factory("PracticeSubmission",["$resource",h]).factory("PracticeSubmissionAnswer",["$resource",p]);t["default"]=g},1743:function(e,t,i){var n,s;n=[i(7),i(40),i(567),i(568),i(35)],s=function(e,t,i,n,s){function r(t,i,n,r,o,a,l,c){function u(t){var n=this;return"undefined"==typeof t&&(t={"fields[course]":["favorite_time","archive_time","notification_settings"].join(",")}),t.courseId=this.id,i.get(t).$promise.then(function(t){return e.extend(n,t),n})}function d(){var e=this;return n.favoriteCourse(this.id,{"fields[course]":"favorite_time"}).then(function(t){return e.favorite_time=t.data.favorite_time,e})}function h(){var e=this;return n.unfavoriteCourse(this.id).then(function(){return e.favorite_time=null,e})}function p(){var e=this;return n.archiveCourse(this.id,{"fields[course]":"archive_time"}).then(function(t){return e.archive_time=t.data.archive_time,e})}function f(){var e=this;return n.unarchiveCourse(this.id).then(function(){return e.archive_time=null,e})}function g(){if(!this.canBeUnenrolled)throw l.getString("You cannot unenroll from course");return r["delete"]({courseId:this.id})}e.extend(this,t.course),this.canBeUnenrolled=s.features.course.students.unenroll,this.refundFeatureEnabled=s.features.course.refundable;var m=this;this.loadExtraData=u,this.favoriteCourse=d,this.unfavoriteCourse=h,this.archiveCourse=p,this.unarchiveCourse=f,this.unenroll=g,this._progressPromise=null,this.endPreview=function(){return c["delete"]("/api-2.0/users/me/course-previews/?course="+this.id)},this.getCertificateOfUser=function(){return o.get({course:this.id}).$promise.then(function(e){return e.results.length>0&&(m.certificate=e.results[0]),null})},this.createCertificate=function(){o.save({},{course_id:this.id}),this.certificate={is_ready:!1}};var v={courseId:this.id,"fields[course]":"next_curriculum_object,num_completed_items,num_published_items","fields[lecture]":"title,last_watched_second,object_index,thumbnail_url,asset","fields[practice]":"title,object_index","fields[asset]":"asset_type","fields[quiz]":"title,object_index,type"};this.resetProgress=function(){return a.save(v,{mark_as_not_started:1}).$promise},this.getProgressOfUser=function(){return this._progressPromise||(this._progressPromise=a.get(v).$promise),this._progressPromise},this.refreshProgressOfUser=function(){return this._progressPromise=null,this.getProgressOfUser()}}var o=e.module("ng/apps/course-taking-v4/current-course.ng-service",[t.name,i.name,n.name]).service("CurrentCourse",r);return r.$inject=["$rootScope","Course","User","SubscribedCourse","CourseCertificate","CourseProgress","gettextCatalog","$http"],o}.apply(t,n),!(void 0!==s&&(e.exports=s))},1744:function(e,t,i){var n,s;n=[i(7)],s=function(e){return e.module("ng/filters/currency.ng-filter",[]).filter("noFractionCurrency",["$filter","$locale",function(e,t){var i=e("currency"),n=t.NUMBER_FORMATS;return function(e,t){return i(e,t).replace(new RegExp("\\"+n.DECIMAL_SEP+"\\d{2}"),"")}}])}.apply(t,n),!(void 0!==s&&(e.exports=s))},1745:function(e,t,i){var n,s;!function(r,o){"undefined"!=typeof e&&e.exports?e.exports=o(i(1),i(43),i(7)):(n=[i(1),i(43),i(7)],s=function(e,t,i){return r.ngReact=o(e,t,i)}.apply(t,n),!(void 0!==s&&(e.exports=s)))}(this,function(e,t,i){"use strict";function n(e,t){if(i.isFunction(e))return e;if(!e)throw new Error("ReactComponent name attribute must be specified");var n;try{n=t.get(e)}catch(s){}if(!n)try{n=e.split(".").reduce(function(e,t){return e[t]},window)}catch(s){}if(!n)throw Error("Cannot find react component "+e);return n}function s(e,t){if(e.wrappedInApply)return e;var i=function(){var i=arguments,n=t.$root.$$phase;return"$apply"===n||"$digest"===n?e.apply(null,i):t.$apply(function(){return e.apply(null,i)})};return i.wrappedInApply=!0,i}function r(e,t){return Object.keys(e||{}).reduce(function(n,r){var o=e[r];return n[r]=i.isFunction(o)?s(o,t):o,n},{})}function o(e,t,n,s){"collection"===e&&i.isFunction(t.$watchCollection)?n.forEach(function(e){t.$watchCollection(e,s)}):"reference"===e?i.isFunction(t.$watchGroup)?t.$watchGroup(n,s):n.forEach(function(e){t.$watch(e,s)}):n.forEach(function(e){t.$watch(e,s,!0)})}function a(i,n,s,r){s.$evalAsync(function(){t.render(e.createElement(i,n),r[0])})}var l=function(e){return{restrict:"E",replace:!0,link:function(i,s,l){var c=n(l.name,e),u=function(){var e=i.$eval(l.props),t=r(e,i);a(c,t,i,s)};l.props?o(l.watchDepth,i,[l.props],u):u(),i.$on("$destroy",function(){l.onScopeDestroy?i.$eval(l.onScopeDestroy,{unmountComponent:t.unmountComponentAtNode.bind(this,s[0])}):t.unmountComponentAtNode(s[0])})}}},c=function(e){return function(s,l,c,u){var d={restrict:"E",replace:!0,link:function(c,d,h){var p=n(s,e);l=l||Object.keys(p.propTypes||{});var f=function(){var e={};l.forEach(function(t){e[t]=c.$eval(h[t])}),e=r(e,c),e=i.extend({},e,u),a(p,e,c,d)},g=l.map(function(e){return h[e]});o(h.watchDepth,c,g,f),f(),c.$on("$destroy",function(){h.onScopeDestroy?c.$eval(h.onScopeDestroy,{unmountComponent:t.unmountComponentAtNode.bind(this,d[0])}):t.unmountComponentAtNode(d[0])})}};return i.extend(d,c)}};return i.module("react",[]).directive("reactComponent",["$injector",l]).factory("reactDirective",["$injector",c])})},1747:function(e,t,i){"use strict";function n(e,t){t.props={className:t.btnClass,objectId:t.objectId,objectType:t.objectType,showLabel:t.showLabel,showTooltip:t.showTooltip,initReactionFor:function(i){d["default"].reaction(t,function(){return i.isOpen},function(i){i?(e.$broadcast("modalopened"),e.$broadcast("reportabusemodalopened",{objectType:t.objectType})):e.$broadcast("modalclosed")}),t.$on("reportabuseshowmodal",function(){(0,c.runInAction)(function(){i.isOpen=!0})})}}}function s(){return{restrict:"E",scope:{btnClass:"=",objectId:"=",objectType:"=",showLabel:"=?",showTooltip:"=?"},controller:n,template:'<react-component props="props" name="ReportAbuse"></react-component>'}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(7),o=babelHelpers.interopRequireDefault(r),a=i(1745),l=babelHelpers.interopRequireDefault(a),c=i(196),u=i(1764),d=babelHelpers.interopRequireDefault(u),h=i(1762),p=babelHelpers.interopRequireDefault(h);t["default"]=o["default"].module("ng/directives/common/report-abuse.ng-directive",[l["default"].name]).value("ReportAbuse",p["default"]).directive("reportAbuse",s),n.$inject=["$rootScope","$scope"]},1748:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(7),s=babelHelpers.interopRequireDefault(n),r=i(5),o=babelHelpers.interopRequireDefault(r),a=i(1721),l=babelHelpers.interopRequireDefault(a),c=i(1787),u=babelHelpers.interopRequireDefault(c);t["default"]=s["default"].module("ng/directives/common/ud-wysiwyg.ng-directive",[l["default"].name]).directive("udWysiwyg",["Utils",function(e){return{restrict:"E",transclude:!0,scope:{requestEditorInit:"=",requestEditorValue:"=",requestResetValue:"=",editorValue:"=",placeholderText:"@?",editorValueCollectedFn:"=?",redactorTheme:"@?",redactorToolbarFixed:"=?",redactorAddInlineStyle:"=?",minHeight:"@?"},templateUrl:u["default"],link:function(t,n){var r=n.find("textarea");t.redactorTheme||(t.redactorTheme="advanced-image-link"),s["default"].isDefined(t.redactorToolbarFixed)||(t.redactorToolbarFixed=!0),t.initEditor=function(){function i(e){t.editorValue=e,t.$$phase||t.$root.$$phase||t.$apply()}var n={change:e.debounce(i,200,!1)};t.redactorAddInlineStyle&&(n.syncBefore=function(e){var i=(0,o["default"])("<div/>").html(e),n=function(e){Object.prototype.hasOwnProperty.call(t.redactorAddInlineStyle,e)&&i.find(e+":not([style])").each(function(){(0,o["default"])(this).css(t.redactorAddInlineStyle[e])})};for(var s in t.redactorAddInlineStyle)n(s);return i.html()});var s={placeholder:t.placeholderText,toolbarFixed:t.redactorToolbarFixed,callbacks:n};t.minHeight&&(s.minHeight=parseInt(t.minHeight,10)),(0,o["default"])(r).ud_wysiwyg(s),t.setValue(t.editorValue)},t.getValue=function(){return r.data("ud-ud_wysiwyg")&&r.data("ud-ud_wysiwyg").getValue()},t.setValue=function(e){r.data("ud-ud_wysiwyg")&&r.data("ud-ud_wysiwyg").setValue(e)},t.resetValue=function(){r.data("ud-ud_wysiwyg")&&r.data("ud-ud_wysiwyg").setValue("")},t.destroyEditor=function(){r.data("ud-ud_wysiwyg")&&r.data("ud-ud_wysiwyg").destroy()},t.$watch("requestEditorValue",function(e){e===!0&&t.editorValueCollectedFn&&t.editorValueCollectedFn(t.editorValue?t.editorValue:"")}),t.$watch("requestResetValue",function(e){e===!0&&(t.resetValue(),t.requestResetValue=!1)}),t.$watch("requestEditorInit",function(e){e===!0&&i.e(4,function(e){i(571),t.initEditor()})}),t.$watch("placeholderText",function(e){r.attr("placeholder",e)})}}}])},1749:function(e,t,i){!function(t,i){"object"==typeof e&&e.exports?e.exports=t.document?i(t):function(e){return i(e)}:t.Highcharts=i()}("undefined"!=typeof window?window:this,function(e){function t(e,t){var i="Highcharts error #"+e+": www.highcharts.com/errors/"+e;if(t)throw Error(i);ce.console&&console.log(i)}function n(){var e,t,i=arguments,n={},s=function(e,t){var i,n;"object"!=typeof e&&(e={});for(n in t)t.hasOwnProperty(n)&&(i=t[n],e[n]=i&&"object"==typeof i&&"[object Array]"!==Object.prototype.toString.call(i)&&"renderTo"!==n&&"number"!=typeof i.nodeType?s(e[n]||{},i):t[n]);return e};for(i[0]===!0&&(n=i[1],i=Array.prototype.slice.call(i,2)),t=i.length,e=0;e<t;e++)n=s(n,i[e]);return n}function s(e,t){return parseInt(e,t||10)}function r(e){return"string"==typeof e}function o(e){return e&&"object"==typeof e}function a(e){return"[object Array]"===Object.prototype.toString.call(e)}function l(e){return"number"==typeof e}function c(e){return de.log(e)/de.LN10}function u(e){return de.pow(10,e)}function d(e,t){for(var i=e.length;i--;)if(e[i]===t){e.splice(i,1);break}}function h(e){return e!==M&&null!==e}function p(e,t,i){var n,s;if(r(t))h(i)?e.setAttribute(t,i):e&&e.getAttribute&&(s=e.getAttribute(t));else if(h(t)&&o(t))for(n in t)e.setAttribute(n,t[n]);return s}function f(e){return a(e)?e:[e]}function g(e,t,i){return t?setTimeout(e,t,i):void e.call(0,i)}function m(e,t){xe&&!De&&t&&t.opacity!==M&&(t.filter="alpha(opacity="+100*t.opacity+")"),Oe(e.style,t)}function v(e,t,i,n,s){return e=ue.createElement(e),t&&Oe(e,t),s&&m(e,{padding:0,border:"none",margin:0}),i&&m(e,i),n&&n.appendChild(e),e}function b(e,t){var i=function(){};return i.prototype=new e,Oe(i.prototype,t),i}function w(e,t){return Array((t||2)+1-String(e).length).join(0)+e}function y(e){return 6e4*(G&&G(e)||Q||0)}function A(e,t){for(var i,n,s,r,o,a="{",l=!1,c=[];(a=e.indexOf(a))!==-1;){if(i=e.slice(0,a),l){for(n=i.split(":"),s=n.shift().split("."),o=s.length,i=t,r=0;r<o;r++)i=i[s[r]];n.length&&(n=n.join(":"),s=/\.([0-9])/,r=O.lang,o=void 0,/f$/.test(n)?(o=(o=n.match(s))?o[1]:-1,null!==i&&(i=le.numberFormat(i,o,r.decimalPoint,n.indexOf(",")>-1?r.thousandsSep:""))):i=j(n,i))}c.push(i),e=e.slice(a+1),a=(l=!l)?"}":"{"}return c.push(e),c.join("")}function k(e){return de.pow(10,pe(de.log(e)/de.LN10))}function C(e,t,i,n,s){var r,o=e,i=je(i,1);for(r=e/i,t||(t=[1,2,2.5,5,10],n===!1&&(1===i?t=[1,2,5,10]:i<=.1&&(t=[1/i]))),n=0;n<t.length&&(o=t[n],!(s&&o*i>=e||!s&&r<=(t[n]+(t[n+1]||t[n]))/2));n++);return o*=i}function x(e,t){var i,n,s=e.length;for(n=0;n<s;n++)e[n].safeI=n;for(e.sort(function(e,n){return i=t(e,n),0===i?e.safeI-n.safeI:i}),n=0;n<s;n++)delete e[n].safeI}function _(e){for(var t=e.length,i=e[0];t--;)e[t]<i&&(i=e[t]);return i}function S(e){for(var t=e.length,i=e[0];t--;)e[t]>i&&(i=e[t]);return i}function E(e,t){for(var i in e)e[i]&&e[i]!==t&&e[i].destroy&&e[i].destroy(),delete e[i]}function F(e){z||(z=v(Me)),e&&z.appendChild(e),z.innerHTML=""}function D(e,t){return parseFloat(e.toPrecision(t||14))}function $(e,t){t.renderer.globalAnimation=je(e,t.animation)}function q(e){return{init:function(t){var i=e.fx;e.extend(e.easing,{easeOutQuad:function(e,t,i,n,s){return-n*(t/=s)*(t-2)+i}}),e.each(["cur","_default","width","height","opacity"],function(t,n){var s,r=i.step;"cur"===n?r=i.prototype:"_default"===n&&e.Tween&&(r=e.Tween.propHooks[n],n="set"),(s=r[n])&&(r[n]=function(e){var i,r;if(r=t?e:this,"align"!==r.prop)return i=r.elem,i.attr?i.attr(r.prop.replace("strokeWidth","stroke-width"),"cur"===n?void 0:r.now):s.apply(this,arguments)})}),Ne(e.cssHooks.opacity,"get",function(e,t,i){return t.attr?t.opacity||0:e.call(this,t,i)}),this.addAnimSetter("d",function(e){var i,n=e.elem;e.started||(i=t.init(n,n.d,n.toD),e.start=i[0],e.end=i[1],e.started=!0),n.attr("d",t.step(e.start,e.end,e.pos,n.toD))}),this.each=Array.prototype.forEach?function(e,t){return Array.prototype.forEach.call(e,t)}:function(e,t){var i,n=e.length;for(i=0;i<n;i++)if(t.call(e[i],e[i],i,e)===!1)return i},e.fn.highcharts=function(){var e,t,i="Chart",n=arguments;return this[0]&&(r(n[0])&&(i=n[0],n=Array.prototype.slice.call(n,1)),e=n[0],e!==M&&(e.chart=e.chart||{},e.chart.renderTo=this[0],new le[i](e,n[1]),t=this),e===M&&(t=Le[p(this[0],"data-highcharts-chart")])),t}},addAnimSetter:function(t,i){e.Tween?e.Tween.propHooks[t]={set:i}:e.fx.step[t]=i},getScript:e.getScript,inArray:e.inArray,adapterRun:function(t,i){return e(t)[i]()},grep:e.grep,map:function(e,t){var i,n=[],s=e.length;for(i=0;i<s;i++)n[i]=t.call(e[i],e[i],i,e);return n},offset:function(t){return e(t).offset()},addEvent:function(t,i,n){e(t).bind(i,n)},removeEvent:function(t,i,n){var s=ue.removeEventListener?"removeEventListener":"detachEvent";ue[s]&&t&&!t[s]&&(t[s]=function(){}),e(t).unbind(i,n)},fireEvent:function(t,i,n,s){var r,o=e.Event(i),a="detached"+i;!xe&&n&&(delete n.layerX,delete n.layerY,delete n.returnValue),Oe(o,n),t[i]&&(t[a]=t[i],t[i]=null),e.each(["preventDefault","stopPropagation"],function(e,t){var i=o[t];o[t]=function(){try{i.call(o)}catch(e){"preventDefault"===t&&(r=!0)}}}),e(t).trigger(o),t[a]&&(t[i]=t[a],t[a]=null),s&&!o.isDefaultPrevented()&&!r&&s(o)},washMouseEvent:function(e){var t=e.originalEvent||e;return t.pageX===M&&(t.pageX=e.pageX,t.pageY=e.pageY),t},animate:function(t,i,n){var s=e(t);t.style||(t.style={}),i.d&&(t.toD=i.d,i.d=1),s.stop(),i.opacity!==M&&t.attr&&(i.opacity+="px"),t.hasAnim=1,s.animate(i,n)},stop:function(t){t.hasAnim&&e(t).stop()}}}function R(){var e=O.global,t=e.useUTC,i=t?"getUTC":"get",n=t?"setUTC":"set";U=e.Date||window.Date,Q=t&&e.timezoneOffset,G=t&&e.getTimezoneOffset,V=function(e,i,n,s,r,o){var a;return t?(a=U.UTC.apply(0,arguments),a+=y(a)):a=new U(e,i,je(n,1),je(s,0),je(r,0),je(o,0)).getTime(),a},K=i+"Minutes",Y=i+"Hours",X=i+"Day",J=i+"Date",Z=i+"Month",ee=i+"FullYear",te=n+"Milliseconds",ie=n+"Seconds",ne=n+"Minutes",se=n+"Hours",re=n+"Date",oe=n+"Month",ae=n+"FullYear"}function T(e){return this instanceof T?void this.init(e):new T(e)}function B(){}function L(e,t,i,n){this.axis=e,this.pos=t,this.type=i||"",this.isNew=!0,!i&&!n&&this.addLabel()}function P(e,t,i,n,s){var r=e.chart.inverted;this.axis=e,this.isNegative=i,this.options=t,this.x=n,this.total=null,this.points={},this.stack=s,this.alignOptions={align:t.align||(r?i?"left":"right":"center"),verticalAlign:t.verticalAlign||(r?"middle":i?"bottom":"top"),y:je(t.y,r?4:i?14:-6),x:je(t.x,r?i?-6:6:0)},this.textAlign=t.textAlign||(r?i?"right":"left":"center")}var M,I,H,z,O,j,N,W,U,V,Q,G,K,Y,X,J,Z,ee,te,ie,ne,se,re,oe,ae,le,ce=e||window,ue=ce.document,de=Math,he=de.round,pe=de.floor,fe=de.ceil,ge=de.max,me=de.min,ve=de.abs,be=de.cos,we=de.sin,ye=de.PI,Ae=2*ye/360,ke=navigator.userAgent,Ce=ce.opera,xe=/(msie|trident|edge)/i.test(ke)&&!Ce,_e=8===ue.documentMode,Se=!xe&&/AppleWebKit/.test(ke),Ee=/Firefox/.test(ke),e=/(Mobile|Android|Windows Phone)/.test(ke),Fe="http://www.w3.org/2000/svg",De=!!ue.createElementNS&&!!ue.createElementNS(Fe,"svg").createSVGRect,$e=Ee&&parseInt(ke.split("Firefox/")[1],10)<4,qe=!De&&!xe&&!!ue.createElement("canvas").getContext,Re={},Te=0,Be=function(){},Le=[],Pe=0,Me="div",Ie=/^[0-9]+$/,He=["plotTop","marginRight","marginBottom","plotLeft"],ze={};le=ce.Highcharts?t(16,!0):function(e){return le.loadAdapter(e),le},le.seriesTypes=ze;var Oe=le.extend=function(e,t){var i;e||(e={});for(i in t)e[i]=t[i];return e},je=le.pick=function(){var e,t,i=arguments,n=i.length;for(e=0;e<n;e++)if(t=i[e],t!==M&&null!==t)return t},Ne=le.wrap=function(e,t,i){var n=e[t];e[t]=function(){var e=Array.prototype.slice.call(arguments);return e.unshift(n),i.apply(this,e)}};j=function(e,t,i){if(!h(t)||isNaN(t))return O.lang.invalidDate||"";var n,e=je(e,"%Y-%m-%d %H:%M:%S"),s=new U(t-y(t)),r=s[Y](),o=s[X](),a=s[J](),l=s[Z](),c=s[ee](),u=O.lang,d=u.weekdays,s=Oe({a:d[o].substr(0,3),A:d[o],d:w(a),e:a,w:o,b:u.shortMonths[l],B:u.months[l],m:w(l+1),y:c.toString().substr(2,2),Y:c,H:w(r),k:r,I:w(r%12||12),l:r%12||12,M:w(s[K]()),p:r<12?"AM":"PM",P:r<12?"am":"pm",S:w(s.getSeconds()),L:w(he(t%1e3),3)},le.dateFormats);for(n in s)for(;e.indexOf("%"+n)!==-1;)e=e.replace("%"+n,"function"==typeof s[n]?s[n](t):s[n]);return i?e.substr(0,1).toUpperCase()+e.substr(1):e},W={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},le.numberFormat=function(e,t,i,n){var r=O.lang,e=+e||0,o=t===-1?Math.min((e.toString().split(".")[1]||"").length,20):isNaN(t=Math.abs(t))?2:t,t=void 0===i?r.decimalPoint:i,n=void 0===n?r.thousandsSep:n,r=e<0?"-":"",i=String(s(e=ve(e).toFixed(o))),a=i.length>3?i.length%3:0;return r+(a?i.substr(0,a)+n:"")+i.substr(a).replace(/(\d{3})(?=\d)/g,"$1"+n)+(o?t+ve(e-i).toFixed(o).slice(2):"")},N={init:function(e,t,i){var n,s,r,t=t||"",o=e.shift,a=t.indexOf("C")>-1,l=a?7:3,t=t.split(" "),i=[].concat(i),c=function(e){for(n=e.length;n--;)"M"===e[n]&&e.splice(n+1,0,e[n+1],e[n+2],e[n+1],e[n+2])};if(a&&(c(t),c(i)),e.isArea&&(s=t.splice(t.length-6,6),r=i.splice(i.length-6,6)),o<=i.length/l&&t.length===i.length)for(;o--;)i=[].concat(i).splice(0,l).concat(i);if(e.shift=0,t.length)for(e=i.length;t.length<e;)o=[].concat(t).splice(t.length-l,l),a&&(o[l-6]=o[l-2],o[l-5]=o[l-1]),t=t.concat(o);return s&&(t=t.concat(s),i=i.concat(r)),[t,i]},step:function(e,t,i,n){var s=[],r=e.length;if(1===i)s=n;else if(r===t.length&&i<1)for(;r--;)n=parseFloat(e[r]),s[r]=isNaN(n)?e[r]:i*parseFloat(t[r]-n)+n;else s=t;return s}};var We,Ue,Ve,Qe,Ge,Ke,Ye,Xe,Je,Ze,et,tt;le.loadAdapter=function(e){e&&(e.fn&&e.fn.jquery&&(e=q(e)),e.init&&(e.init(N),delete e.init),le.extend(le,e),We=le.adapterRun,Ue=le.inArray,Ve=le.each,Qe=le.grep,Ge=le.offset,Ke=le.map,Ye=le.addEvent,Xe=le.removeEvent,Je=le.fireEvent,Ze=le.washMouseEvent,et=le.animate,tt=le.stop)},le.loadAdapter(ce.HighchartsAdapter||i(5)),O={colors:"#7cb5ec,#434348,#90ed7d,#f7a35c,#8085e9,#f15c80,#e4d354,#2b908f,#f45b5b,#91e8e1".split(","),symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),shortMonths:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),decimalPoint:".",numericSymbols:"k,M,G,T,P,E".split(","),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" "},global:{useUTC:!0,canvasToolsURL:"http://code.highcharts.com/modules/canvas-tools.js",VMLRadialGradientURL:"http://code.highcharts.com/4.1.10/gfx/vml-radial-gradient.png"},chart:{borderColor:"#4572A7",borderRadius:0,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],backgroundColor:"#FFFFFF",plotBorderColor:"#C0C0C0",resetZoomButton:{theme:{zIndex:20},position:{align:"right",x:-10,y:10}}},title:{text:"Chart title",align:"center",margin:15,style:{color:"#333333",fontSize:"18px"}},subtitle:{text:"",align:"center",style:{color:"#555555"}},plotOptions:{line:{allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},lineWidth:2,marker:{lineWidth:0,radius:4,lineColor:"#FFFFFF",states:{hover:{enabled:!0,lineWidthPlus:1,radiusPlus:2},select:{fillColor:"#FFFFFF",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{align:"center",formatter:function(){return null===this.y?"":le.numberFormat(this.y,-1)},style:{color:"contrast",fontSize:"11px",fontWeight:"bold",textShadow:"0 0 6px contrast, 0 0 3px contrast"},verticalAlign:"bottom",x:0,y:0,padding:5},cropThreshold:300,pointRange:0,softThreshold:!0,states:{hover:{lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{marker:{}}},stickyTracking:!0,turboThreshold:1e3}},labels:{style:{position:"absolute",color:"#3E576F"}},legend:{enabled:!0,align:"center",layout:"horizontal",labelFormatter:function(){return this.name},borderColor:"#909090",borderRadius:0,navigation:{activeColor:"#274b6d",inactiveColor:"#CCC"},shadow:!1,itemStyle:{color:"#333333",fontSize:"12px",fontWeight:"bold"},itemHoverStyle:{color:"#000"},itemHiddenStyle:{color:"#CCC"},itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"white",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:De,backgroundColor:"rgba(249, 249, 249, .85)",borderWidth:1,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},footerFormat:"",headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">●</span> {series.name}: <b>{point.y}</b><br/>',shadow:!0,snap:e?25:10,style:{color:"#333333",cursor:"default",fontSize:"12px",padding:"8px",pointerEvents:"none",whiteSpace:"nowrap"}},credits:{enabled:!0,text:"Highcharts.com",href:"http://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#909090",fontSize:"9px"}}};var it=O.plotOptions,nt=it.line;R(),T.prototype={parsers:[{regex:/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,parse:function(e){return[s(e[1]),s(e[2]),s(e[3]),parseFloat(e[4],10)]}},{regex:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,parse:function(e){return[s(e[1],16),s(e[2],16),s(e[3],16),1]}},{regex:/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,parse:function(e){return[s(e[1]),s(e[2]),s(e[3]),1]}}],init:function(e){var t,i,n,s;if((this.input=e)&&e.stops)this.stops=Ke(e.stops,function(e){return new T(e[1])});else for(n=this.parsers.length;n--&&!i;)s=this.parsers[n],(t=s.regex.exec(e))&&(i=s.parse(t));this.rgba=i||[]},get:function(e){var t,i=this.input,s=this.rgba;return this.stops?(t=n(i),t.stops=[].concat(t.stops),Ve(this.stops,function(i,n){t.stops[n]=[t.stops[n][0],i.get(e)]})):t=s&&!isNaN(s[0])?"rgb"===e||!e&&1===s[3]?"rgb("+s[0]+","+s[1]+","+s[2]+")":"a"===e?s[3]:"rgba("+s.join(",")+")":i,t},brighten:function(e){var t,i=this.rgba;if(this.stops)Ve(this.stops,function(t){t.brighten(e)});else if(l(e)&&0!==e)for(t=0;t<3;t++)i[t]+=s(255*e),i[t]<0&&(i[t]=0),i[t]>255&&(i[t]=255);return this},setOpacity:function(e){return this.rgba[3]=e,this}},B.prototype={opacity:1,textProps:"direction,fontSize,fontWeight,fontFamily,fontStyle,color,lineHeight,width,textDecoration,textOverflow,textShadow".split(","),init:function(e,t){this.element="span"===t?v(t):ue.createElementNS(Fe,t),this.renderer=e},animate:function(e,t,i){return t=je(t,this.renderer.globalAnimation,!0),tt(this),t?(t=n(t,{}),i&&(t.complete=i),et(this,e,t)):this.attr(e,null,i),this},colorGradient:function(e,t,i){var s,r,o,l,c,u,d,p,f,g,m,v,b=this.renderer,w=[];if(e.linearGradient?r="linearGradient":e.radialGradient&&(r="radialGradient"),r){o=e[r],c=b.gradients,d=e.stops,g=i.radialReference,a(o)&&(e[r]=o={x1:o[0],y1:o[1],x2:o[2],y2:o[3],gradientUnits:"userSpaceOnUse"}),"radialGradient"===r&&g&&!h(o.gradientUnits)&&(l=o,o=n(o,b.getRadialAttr(g,l),{gradientUnits:"userSpaceOnUse"}));for(m in o)"id"!==m&&w.push(m,o[m]);for(m in d)w.push(d[m]);w=w.join(","),c[w]?g=c[w].attr("id"):(o.id=g="highcharts-"+Te++,c[w]=u=b.createElement(r).attr(o).add(b.defs),u.radAttr=l,u.stops=[],Ve(d,function(e){0===e[1].indexOf("rgba")?(s=T(e[1]),p=s.get("rgb"),f=s.get("a")):(p=e[1],f=1),e=b.createElement("stop").attr({offset:e[0],"stop-color":p,"stop-opacity":f}).add(u),u.stops.push(e)})),v="url("+b.url+"#"+g+")",i.setAttribute(t,v),i.gradient=w,e.toString=function(){return v}}},applyTextShadow:function(e){var t,i=this.element,n=e.indexOf("contrast")!==-1,r={},o=this.renderer.forExport,a=o||i.style.textShadow!==M&&!xe;n&&(r.textShadow=e=e.replace(/contrast/g,this.renderer.getContrast(i.style.fill))),(Se||o)&&(r.textRendering="geometricPrecision"),a?this.css(r):(this.fakeTS=!0,this.ySetter=this.xSetter,t=[].slice.call(i.getElementsByTagName("tspan")),Ve(e.split(/\s?,\s?/g),function(e){var n,r,o=i.firstChild,e=e.split(" ");n=e[e.length-1],(r=e[e.length-2])&&Ve(t,function(e,t){var a;0===t&&(e.setAttribute("x",i.getAttribute("x")),t=i.getAttribute("y"),e.setAttribute("y",t||0),null===t&&i.setAttribute("y",0)),a=e.cloneNode(1),p(a,{"class":"highcharts-text-shadow",fill:n,stroke:n,"stroke-opacity":1/ge(s(r),3),"stroke-width":r,"stroke-linejoin":"round"}),i.insertBefore(a,o)})}))},attr:function(e,t,i){var n,s,r,o=this.element,a=this;if("string"==typeof e&&t!==M&&(n=e,e={},e[n]=t),"string"==typeof e)a=(this[e+"Getter"]||this._defaultGetter).call(this,e,o);else{for(n in e)t=e[n],r=!1,this.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)/.test(n)&&(s||(this.symbolAttr(e),s=!0),r=!0),!this.rotation||"x"!==n&&"y"!==n||(this.doTransform=!0),r||(this[n+"Setter"]||this._defaultSetter).call(this,t,n,o),this.shadows&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(n)&&this.updateShadows(n,t);this.doTransform&&(this.updateTransform(),this.doTransform=!1)}return i&&i(),a},updateShadows:function(e,t){for(var i=this.shadows,n=i.length;n--;)i[n].setAttribute(e,"height"===e?Math.max(t-(i[n].cutHeight||0),0):"d"===e?this.d:t)},addClass:function(e){var t=this.element,i=p(t,"class")||"";return i.indexOf(e)===-1&&p(t,"class",i+" "+e),this},symbolAttr:function(e){var t=this;Ve("x,y,r,start,end,width,height,innerR,anchorX,anchorY".split(","),function(i){t[i]=je(e[i],t[i])}),t.attr({d:t.renderer.symbols[t.symbolName](t.x,t.y,t.width,t.height,t)})},clip:function(e){return this.attr("clip-path",e?"url("+this.renderer.url+"#"+e.id+")":"none")},crisp:function(e){var t,i,n={},s=e.strokeWidth||this.strokeWidth||0;i=he(s)%2/2,e.x=pe(e.x||this.x||0)+i,e.y=pe(e.y||this.y||0)+i,e.width=pe((e.width||this.width||0)-2*i),e.height=pe((e.height||this.height||0)-2*i),e.strokeWidth=s;for(t in e)this[t]!==e[t]&&(this[t]=n[t]=e[t]);return n},css:function(e){var t,i,n=this.styles,r={},o=this.element,a="";if(t=!n,e&&e.color&&(e.fill=e.color),n)for(i in e)e[i]!==n[i]&&(r[i]=e[i],t=!0);if(t){if(t=this.textWidth=e&&e.width&&"text"===o.nodeName.toLowerCase()&&s(e.width)||this.textWidth,n&&(e=Oe(n,r)),this.styles=e,t&&(qe||!De&&this.renderer.forExport)&&delete e.width,xe&&!De)m(this.element,e);else{n=function(e,t){return"-"+t.toLowerCase()};for(i in e)a+=i.replace(/([A-Z])/g,n)+":"+e[i]+";";p(o,"style",a)}t&&this.added&&this.renderer.buildText(this)}return this},on:function(e,t){var i=this,n=i.element;return H&&"click"===e?(n.ontouchstart=function(e){i.touchEventFired=U.now(),e.preventDefault(),t.call(n,e)},n.onclick=function(e){(ke.indexOf("Android")===-1||U.now()-(i.touchEventFired||0)>1100)&&t.call(n,e)}):n["on"+e]=t,this},setRadialReference:function(e){var t=this.renderer.gradients[this.element.gradient];return this.element.radialReference=e,t&&t.radAttr&&t.animate(this.renderer.getRadialAttr(e,t.radAttr)),this},translate:function(e,t){return this.attr({translateX:e,translateY:t})},invert:function(){return this.inverted=!0,this.updateTransform(),this},updateTransform:function(){var e=this.translateX||0,t=this.translateY||0,i=this.scaleX,n=this.scaleY,s=this.inverted,r=this.rotation,o=this.element;s&&(e+=this.attr("width"),t+=this.attr("height")),e=["translate("+e+","+t+")"],s?e.push("rotate(90) scale(-1,1)"):r&&e.push("rotate("+r+" "+(o.getAttribute("x")||0)+" "+(o.getAttribute("y")||0)+")"),(h(i)||h(n))&&e.push("scale("+je(i,1)+" "+je(n,1)+")"),e.length&&o.setAttribute("transform",e.join(" "))},toFront:function(){var e=this.element;return e.parentNode.appendChild(e),this},align:function(e,t,i){var n,s,o,a,l={};return s=this.renderer,o=s.alignedObjects,e?(this.alignOptions=e,this.alignByTranslate=t,(!i||r(i))&&(this.alignTo=n=i||"renderer",d(o,this),o.push(this),i=null)):(e=this.alignOptions,t=this.alignByTranslate,n=this.alignTo),i=je(i,s[n],s),n=e.align,s=e.verticalAlign,o=(i.x||0)+(e.x||0),a=(i.y||0)+(e.y||0),"right"!==n&&"center"!==n||(o+=(i.width-(e.width||0))/{
right:1,center:2}[n]),l[t?"translateX":"x"]=he(o),"bottom"!==s&&"middle"!==s||(a+=(i.height-(e.height||0))/({bottom:1,middle:2}[s]||1)),l[t?"translateY":"y"]=he(a),this[this.placed?"animate":"attr"](l),this.placed=!0,this.alignAttr=l,this},getBBox:function(e,t){var i,n,s,r,o=this.renderer,a=this.element,l=this.styles;n=this.textStr;var c,u,d,h=a.style,p=o.cache,f=o.cacheKeys;if(s=je(t,this.rotation),r=s*Ae,n!==M&&(d=["",s||0,l&&l.fontSize,a.style.width].join(","),d=""===n||Ie.test(n)?"num:"+n.toString().length+d:n+d),d&&!e&&(i=p[d]),!i){if(a.namespaceURI===Fe||o.forExport){try{u=this.fakeTS&&function(e){Ve(a.querySelectorAll(".highcharts-text-shadow"),function(t){t.style.display=e})},Ee&&h.textShadow?(c=h.textShadow,h.textShadow=""):u&&u("none"),i=a.getBBox?Oe({},a.getBBox()):{width:a.offsetWidth,height:a.offsetHeight},c?h.textShadow=c:u&&u("")}catch(g){}(!i||i.width<0)&&(i={width:0,height:0})}else i=this.htmlGetBBox();if(o.isSVG&&(o=i.width,n=i.height,xe&&l&&"11px"===l.fontSize&&"16.9"===n.toPrecision(3)&&(i.height=n=14),s&&(i.width=ve(n*we(r))+ve(o*be(r)),i.height=ve(n*be(r))+ve(o*we(r)))),d){for(;f.length>250;)delete p[f.shift()];p[d]||f.push(d),p[d]=i}}return i},show:function(e){return this.attr({visibility:e?"inherit":"visible"})},hide:function(){return this.attr({visibility:"hidden"})},fadeOut:function(e){var t=this;t.animate({opacity:0},{duration:e||150,complete:function(){t.attr({y:-9999})}})},add:function(e){var t,i=this.renderer,n=this.element;return e&&(this.parentGroup=e),this.parentInverted=e&&e.inverted,void 0!==this.textStr&&i.buildText(this),this.added=!0,(!e||e.handleZ||this.zIndex)&&(t=this.zIndexSetter()),t||(e?e.element:i.box).appendChild(n),this.onAdd&&this.onAdd(),this},safeRemoveChild:function(e){var t=e.parentNode;t&&t.removeChild(e)},destroy:function(){var e,t,i=this,n=i.element||{},s=i.shadows,r=i.renderer.isSVG&&"SPAN"===n.nodeName&&i.parentGroup;if(n.onclick=n.onmouseout=n.onmouseover=n.onmousemove=n.point=null,tt(i),i.clipPath&&(i.clipPath=i.clipPath.destroy()),i.stops){for(t=0;t<i.stops.length;t++)i.stops[t]=i.stops[t].destroy();i.stops=null}for(i.safeRemoveChild(n),s&&Ve(s,function(e){i.safeRemoveChild(e)});r&&r.div&&0===r.div.childNodes.length;)n=r.parentGroup,i.safeRemoveChild(r.div),delete r.div,r=n;i.alignTo&&d(i.renderer.alignedObjects,i);for(e in i)delete i[e];return null},shadow:function(e,t,i){var n,s,r,o,a,l,c=[],u=this.element;if(e){for(o=je(e.width,3),a=(e.opacity||.15)/o,l=this.parentInverted?"(-1,-1)":"("+je(e.offsetX,1)+", "+je(e.offsetY,1)+")",n=1;n<=o;n++)s=u.cloneNode(0),r=2*o+1-2*n,p(s,{isShadow:"true",stroke:e.color||"black","stroke-opacity":a*n,"stroke-width":r,transform:"translate"+l,fill:"none"}),i&&(p(s,"height",ge(p(s,"height")-r,0)),s.cutHeight=r),t?t.element.appendChild(s):u.parentNode.insertBefore(s,u),c.push(s);this.shadows=c}return this},xGetter:function(e){return"circle"===this.element.nodeName&&(e={x:"cx",y:"cy"}[e]||e),this._defaultGetter(e)},_defaultGetter:function(e){return e=je(this[e],this.element?this.element.getAttribute(e):null,0),/^[\-0-9\.]+$/.test(e)&&(e=parseFloat(e)),e},dSetter:function(e,t,i){e&&e.join&&(e=e.join(" ")),/(NaN| {2}|^$)/.test(e)&&(e="M 0 0"),i.setAttribute(t,e),this[t]=e},dashstyleSetter:function(e){var t;if(e=e&&e.toLowerCase()){for(e=e.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(","),t=e.length;t--;)e[t]=s(e[t])*this["stroke-width"];e=e.join(",").replace("NaN","none"),this.element.setAttribute("stroke-dasharray",e)}},alignSetter:function(e){this.element.setAttribute("text-anchor",{left:"start",center:"middle",right:"end"}[e])},opacitySetter:function(e,t,i){this[t]=e,i.setAttribute(t,e)},titleSetter:function(e){var t=this.element.getElementsByTagName("title")[0];t||(t=ue.createElementNS(Fe,"title"),this.element.appendChild(t)),t.appendChild(ue.createTextNode(String(je(e),"").replace(/<[^>]*>/g,"")))},textSetter:function(e){e!==this.textStr&&(delete this.bBox,this.textStr=e,this.added&&this.renderer.buildText(this))},fillSetter:function(e,t,i){"string"==typeof e?i.setAttribute(t,e):e&&this.colorGradient(e,t,i)},visibilitySetter:function(e,t,i){"inherit"===e?i.removeAttribute(t):i.setAttribute(t,e)},zIndexSetter:function(e,t){var i,n,r,o=this.renderer,a=this.parentGroup,o=(a||o).element||o.box,l=this.element;i=this.added;var c;if(h(e)&&(l.setAttribute(t,e),e=+e,this[t]===e&&(i=!1),this[t]=e),i){for((e=this.zIndex)&&a&&(a.handleZ=!0),a=o.childNodes,c=0;c<a.length&&!r;c++)i=a[c],n=p(i,"zIndex"),i!==l&&(s(n)>e||!h(e)&&h(n))&&(o.insertBefore(l,i),r=!0);r||o.appendChild(l)}return r},_defaultSetter:function(e,t,i){i.setAttribute(t,e)}},B.prototype.yGetter=B.prototype.xGetter,B.prototype.translateXSetter=B.prototype.translateYSetter=B.prototype.rotationSetter=B.prototype.verticalAlignSetter=B.prototype.scaleXSetter=B.prototype.scaleYSetter=function(e,t){this[t]=e,this.doTransform=!0},B.prototype["stroke-widthSetter"]=B.prototype.strokeSetter=function(e,t,i){this[t]=e,this.stroke&&this["stroke-width"]?(this.strokeWidth=this["stroke-width"],B.prototype.fillSetter.call(this,this.stroke,"stroke",i),i.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0):"stroke-width"===t&&0===e&&this.hasStroke&&(i.removeAttribute("stroke"),this.hasStroke=!1)};var st=function(){this.init.apply(this,arguments)};st.prototype={Element:B,init:function(e,t,i,n,s,r){var o,a=location,n=this.createElement("svg").attr({version:"1.1"}).css(this.getStyle(n));o=n.element,e.appendChild(o),e.innerHTML.indexOf("xmlns")===-1&&p(o,"xmlns",Fe),this.isSVG=!0,this.box=o,this.boxWrapper=n,this.alignedObjects=[],this.url=(Ee||Se)&&ue.getElementsByTagName("base").length?a.href.replace(/#.*?$/,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"",this.createElement("desc").add().element.appendChild(ue.createTextNode("Created with Highcharts 4.1.10")),this.defs=this.createElement("defs").add(),this.allowHTML=r,this.forExport=s,this.gradients={},this.cache={},this.cacheKeys=[],this.setSize(t,i,!1);var l;Ee&&e.getBoundingClientRect&&(this.subPixelFix=t=function(){m(e,{left:0,top:0}),l=e.getBoundingClientRect(),m(e,{left:fe(l.left)-l.left+"px",top:fe(l.top)-l.top+"px"})},t(),Ye(ce,"resize",t))},getStyle:function(e){return this.style=Oe({fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Arial, Helvetica, sans-serif',fontSize:"12px"},e)},isHidden:function(){return!this.boxWrapper.getBBox().width},destroy:function(){var e=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),E(this.gradients||{}),this.gradients=null,e&&(this.defs=e.destroy()),this.subPixelFix&&Xe(ce,"resize",this.subPixelFix),this.alignedObjects=null},createElement:function(e){var t=new this.Element;return t.init(this,e),t},draw:function(){},getRadialAttr:function(e,t){return{cx:e[0]-e[2]/2+t.cx*e[2],cy:e[1]-e[2]/2+t.cy*e[2],r:t.r*e[2]}},buildText:function(e){for(var t,i,n=e.element,r=this,o=r.forExport,a=je(e.textStr,"").toString(),l=a.indexOf("<")!==-1,c=n.childNodes,u=p(n,"x"),d=e.styles,h=e.textWidth,f=d&&d.lineHeight,g=d&&d.textShadow,v=d&&"ellipsis"===d.textOverflow,b=c.length,w=h&&!e.added&&this.box,y=function(e){return f?s(f):r.fontMetrics(/(px|em)$/.test(e&&e.style.fontSize)?e.style.fontSize:d&&d.fontSize||r.style.fontSize||12,e).h},A=function(e){return e.replace(/&lt;/g,"<").replace(/&gt;/g,">")};b--;)n.removeChild(c[b]);l||g||v||a.indexOf(" ")!==-1?(t=/<.*style="([^"]+)".*>/,i=/<.*href="(http[^"]+)".*>/,w&&w.appendChild(n),a=l?a.replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g):[a],""===a[a.length-1]&&a.pop(),Ve(a,function(s,a){var l,c=0,s=s.replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||");l=s.split("|||"),Ve(l,function(s){if(""!==s||1===l.length){var f,g={},b=ue.createElementNS(Fe,"tspan");if(t.test(s)&&(f=s.match(t)[1].replace(/(;| |^)color([ :])/,"$1fill$2"),p(b,"style",f)),i.test(s)&&!o&&(p(b,"onclick",'location.href="'+s.match(i)[1]+'"'),m(b,{cursor:"pointer"})),s=A(s.replace(/<(.|\n)*?>/g,"")||" ")," "!==s){if(b.appendChild(ue.createTextNode(s)),c?g.dx=0:a&&null!==u&&(g.x=u),p(b,g),n.appendChild(b),!c&&a&&(!De&&o&&m(b,{display:"block"}),p(b,"dy",y(b))),h){for(var w,k,C,g=s.replace(/([^\^])-/g,"$1- ").split(" "),x=l.length>1||a||g.length>1&&"nowrap"!==d.whiteSpace,_=[],S=y(b),E=1,F=e.rotation,D=s,$=D.length;(x||v)&&(g.length||_.length);)e.rotation=0,w=e.getBBox(!0),C=w.width,!De&&r.forExport&&(C=r.measureSpanWidth(b.firstChild.data,e.styles)),w=C>h,void 0===k&&(k=w),v&&k?($/=2,""===D||!w&&$<.5?g=[]:(w&&(k=!0),D=s.substring(0,D.length+(w?-1:1)*fe($)),g=[D+(h>3?"…":"")],b.removeChild(b.firstChild))):w&&1!==g.length?(b.removeChild(b.firstChild),_.unshift(g.pop())):(g=_,_=[],g.length&&(E++,b=ue.createElementNS(Fe,"tspan"),p(b,{dy:S,x:u}),f&&p(b,"style",f),n.appendChild(b)),C>h&&(h=C)),g.length&&b.appendChild(ue.createTextNode(g.join(" ").replace(/- /g,"-")));k&&e.attr("title",e.textStr),e.rotation=F}c++}}})}),w&&w.removeChild(n),g&&e.applyTextShadow&&e.applyTextShadow(g)):n.appendChild(ue.createTextNode(A(a)))},getContrast:function(e){return e=T(e).rgba,e[0]+e[1]+e[2]>384?"#000000":"#FFFFFF"},button:function(e,t,i,s,r,o,a,l,c){var u,d,h,p,f,g,m=this.label(e,t,i,c,null,null,null,null,"button"),v=0,e={x1:0,y1:0,x2:0,y2:1},r=n({"stroke-width":1,stroke:"#CCCCCC",fill:{linearGradient:e,stops:[[0,"#FEFEFE"],[1,"#F6F6F6"]]},r:2,padding:5,style:{color:"black"}},r);return h=r.style,delete r.style,o=n(r,{stroke:"#68A",fill:{linearGradient:e,stops:[[0,"#FFF"],[1,"#ACF"]]}},o),p=o.style,delete o.style,a=n(r,{stroke:"#68A",fill:{linearGradient:e,stops:[[0,"#9BD"],[1,"#CDF"]]}},a),f=a.style,delete a.style,l=n(r,{style:{color:"#CCC"}},l),g=l.style,delete l.style,Ye(m.element,xe?"mouseover":"mouseenter",function(){3!==v&&m.attr(o).css(p)}),Ye(m.element,xe?"mouseout":"mouseleave",function(){3!==v&&(u=[r,o,a][v],d=[h,p,f][v],m.attr(u).css(d))}),m.setState=function(e){(m.state=v=e)?2===e?m.attr(a).css(f):3===e&&m.attr(l).css(g):m.attr(r).css(h)},m.on("click",function(e){3!==v&&s.call(m,e)}).attr(r).css(Oe({cursor:"default"},h))},crispLine:function(e,t){return e[1]===e[4]&&(e[1]=e[4]=he(e[1])-t%2/2),e[2]===e[5]&&(e[2]=e[5]=he(e[2])+t%2/2),e},path:function(e){var t={fill:"none"};return a(e)?t.d=e:o(e)&&Oe(t,e),this.createElement("path").attr(t)},circle:function(e,t,i){return e=o(e)?e:{x:e,y:t,r:i},t=this.createElement("circle"),t.xSetter=function(e){this.element.setAttribute("cx",e)},t.ySetter=function(e){this.element.setAttribute("cy",e)},t.attr(e)},arc:function(e,t,i,n,s,r){return o(e)&&(t=e.y,i=e.r,n=e.innerR,s=e.start,r=e.end,e=e.x),e=this.symbol("arc",e||0,t||0,i||0,i||0,{innerR:n||0,start:s||0,end:r||0}),e.r=i,e},rect:function(e,t,i,n,s,r){var s=o(e)?e.r:s,a=this.createElement("rect"),e=o(e)?e:e===M?{}:{x:e,y:t,width:ge(i,0),height:ge(n,0)};return r!==M&&(e.strokeWidth=r,e=a.crisp(e)),s&&(e.r=s),a.rSetter=function(e){p(this.element,{rx:e,ry:e})},a.attr(e)},setSize:function(e,t,i){var n=this.alignedObjects,s=n.length;for(this.width=e,this.height=t,this.boxWrapper[je(i,!0)?"animate":"attr"]({width:e,height:t});s--;)n[s].align()},g:function(e){var t=this.createElement("g");return h(e)?t.attr({"class":"highcharts-"+e}):t},image:function(e,t,i,n,s){var r={preserveAspectRatio:"none"};return arguments.length>1&&Oe(r,{x:t,y:i,width:n,height:s}),r=this.createElement("image").attr(r),r.element.setAttributeNS?r.element.setAttributeNS("http://www.w3.org/1999/xlink","href",e):r.element.setAttribute("hc-svg-href",e),r},symbol:function(e,t,i,n,s,r){var o,a,l,c=this.symbols[e],c=c&&c(he(t),he(i),n,s,r),u=/^url\((.*?)\)$/;return c?(o=this.path(c),Oe(o,{symbolName:e,x:t,y:i,width:n,height:s}),r&&Oe(o,r)):u.test(e)&&(l=function(e,t){e.element&&(e.attr({width:t[0],height:t[1]}),e.alignByTranslate||e.translate(he((n-t[0])/2),he((s-t[1])/2)))},a=e.match(u)[1],e=Re[a]||r&&r.width&&r.height&&[r.width,r.height],o=this.image(a).attr({x:t,y:i}),o.isImg=!0,e?l(o,e):(o.attr({width:0,height:0}),v("img",{onload:function(){0===this.width&&(m(this,{position:"absolute",top:"-999em"}),document.body.appendChild(this)),l(o,Re[a]=[this.width,this.height]),this.parentNode&&this.parentNode.removeChild(this)},src:a}))),o},symbols:{circle:function(e,t,i,n){var s=.166*i;return["M",e+i/2,t,"C",e+i+s,t,e+i+s,t+n,e+i/2,t+n,"C",e-s,t+n,e-s,t,e+i/2,t,"Z"]},square:function(e,t,i,n){return["M",e,t,"L",e+i,t,e+i,t+n,e,t+n,"Z"]},triangle:function(e,t,i,n){return["M",e+i/2,t,"L",e+i,t+n,e,t+n,"Z"]},"triangle-down":function(e,t,i,n){return["M",e,t,"L",e+i,t,e+i/2,t+n,"Z"]},diamond:function(e,t,i,n){return["M",e+i/2,t,"L",e+i,t+n/2,e+i/2,t+n,e,t+n/2,"Z"]},arc:function(e,t,i,n,s){var r=s.start,i=s.r||i||n,o=s.end-.001,n=s.innerR,a=s.open,l=be(r),c=we(r),u=be(o),o=we(o),s=s.end-r<ye?0:1;return["M",e+i*l,t+i*c,"A",i,i,0,s,1,e+i*u,t+i*o,a?"M":"L",e+n*u,t+n*o,"A",n,n,0,s,0,e+n*l,t+n*c,a?"":"Z"]},callout:function(e,t,i,n,s){var r,o=me(s&&s.r||0,i,n),a=o+6,l=s&&s.anchorX,s=s&&s.anchorY;return r=["M",e+o,t,"L",e+i-o,t,"C",e+i,t,e+i,t,e+i,t+o,"L",e+i,t+n-o,"C",e+i,t+n,e+i,t+n,e+i-o,t+n,"L",e+o,t+n,"C",e,t+n,e,t+n,e,t+n-o,"L",e,t+o,"C",e,t,e,t,e+o,t],l&&l>i&&s>t+a&&s<t+n-a?r.splice(13,3,"L",e+i,s-6,e+i+6,s,e+i,s+6,e+i,t+n-o):l&&l<0&&s>t+a&&s<t+n-a?r.splice(33,3,"L",e,s+6,e-6,s,e,s-6,e,t+o):s&&s>n&&l>e+a&&l<e+i-a?r.splice(23,3,"L",l+6,t+n,l,t+n+6,l-6,t+n,e+o,t+n):s&&s<0&&l>e+a&&l<e+i-a&&r.splice(3,3,"L",l-6,t,l,t-6,l+6,t,i-o,t),r}},clipRect:function(e,t,i,n){var s="highcharts-"+Te++,r=this.createElement("clipPath").attr({id:s}).add(this.defs),e=this.rect(e,t,i,n,0).add(r);return e.id=s,e.clipPath=r,e.count=0,e},text:function(e,t,i,n){var s=qe||!De&&this.forExport,r={};return!n||!this.allowHTML&&this.forExport?(r.x=Math.round(t||0),i&&(r.y=Math.round(i)),(e||0===e)&&(r.text=e),e=this.createElement("text").attr(r),s&&e.css({position:"absolute"}),n||(e.xSetter=function(e,t,i){var n,s,r=i.getElementsByTagName("tspan"),o=i.getAttribute(t);for(s=0;s<r.length;s++)n=r[s],n.getAttribute(t)===o&&n.setAttribute(t,e);i.setAttribute(t,e)}),e):this.html(e,t,i)},fontMetrics:function(e,t){var i,n,e=e||this.style.fontSize;return!e&&t&&ce.getComputedStyle&&(t=t.element||t,e=(i=ce.getComputedStyle(t,""))&&i.fontSize),e=/px/.test(e)?s(e):/em/.test(e)?12*parseFloat(e):12,i=e<24?e+3:he(1.2*e),n=he(.8*i),{h:i,b:n,f:e}},rotCorr:function(e,t,i){var n=e;return t&&i&&(n=ge(n*be(t*Ae),4)),{x:-e/3*we(t*Ae),y:n}},label:function(e,t,i,s,r,o,a,l,c){var u,d,p,f,g,m,v,b,w,y,A,k=this,C=k.g(c),x=k.text("",0,0,a).attr({zIndex:1}),_=0,S=3,E=0,F=0,D={};w=function(){var e,t;e=x.element.style,d=(void 0===p||void 0===f||C.styles.textAlign)&&h(x.textStr)&&x.getBBox(),C.width=(p||d.width||0)+2*S+E,C.height=(f||d.height||0)+2*S,v=S+k.fontMetrics(e&&e.fontSize,x).b,b&&(u||(e=F,t=(l?-v:0)+F,C.box=u=s?k.symbol(s,e,t,C.width,C.height,D):k.rect(e,t,C.width,C.height,0,D["stroke-width"]),u.isImg||u.attr("fill","none"),u.add(C)),u.isImg||u.attr(Oe({width:he(C.width),height:he(C.height)},D)),D=null)},y=function(){var e,t=C.styles,t=t&&t.textAlign,i=E+S;e=l?0:v,h(p)&&d&&("center"===t||"right"===t)&&(i+={center:.5,right:1}[t]*(p-d.width)),i===x.x&&e===x.y||(x.attr("x",i),e!==M&&x.attr("y",e)),x.x=i,x.y=e},A=function(e,t){u?u.attr(e,t):D[e]=t},C.onAdd=function(){x.add(C),C.attr({text:e||0===e?e:"",x:t,y:i}),u&&h(r)&&C.attr({anchorX:r,anchorY:o})},C.widthSetter=function(e){p=e},C.heightSetter=function(e){f=e},C.paddingSetter=function(e){h(e)&&e!==S&&(S=C.padding=e,y())},C.paddingLeftSetter=function(e){h(e)&&e!==E&&(E=e,y())},C.alignSetter=function(e){e={left:0,center:.5,right:1}[e],e!==_&&(_=e,d&&C.attr({x:t}))},C.textSetter=function(e){e!==M&&x.textSetter(e),w(),y()},C["stroke-widthSetter"]=function(e,t){e&&(b=!0),F=e%2/2,A(t,e)},C.strokeSetter=C.fillSetter=C.rSetter=function(e,t){"fill"===t&&e&&(b=!0),A(t,e)},C.anchorXSetter=function(e,t){r=e,A(t,he(e)-F-g)},C.anchorYSetter=function(e,t){o=e,A(t,e-m)},C.xSetter=function(e){C.x=e,_&&(e-=_*((p||d.width)+2*S)),g=he(e),C.attr("translateX",g)},C.ySetter=function(e){m=C.y=he(e),C.attr("translateY",m)};var $=C.css;return Oe(C,{css:function(e){if(e){var t={},e=n(e);Ve(C.textProps,function(i){e[i]!==M&&(t[i]=e[i],delete e[i])}),x.css(t)}return $.call(C,e)},getBBox:function(){return{width:d.width+2*S,height:d.height+2*S,x:d.x-S,y:d.y-S}},shadow:function(e){return u&&u.shadow(e),C},destroy:function(){Xe(C.element,"mouseenter"),Xe(C.element,"mouseleave"),x&&(x=x.destroy()),u&&(u=u.destroy()),B.prototype.destroy.call(C),C=k=w=y=A=null}})}},I=st,Oe(B.prototype,{htmlCss:function(e){var t=this.element;return(t=e&&"SPAN"===t.tagName&&e.width)&&(delete e.width,this.textWidth=t,this.updateTransform()),e&&"ellipsis"===e.textOverflow&&(e.whiteSpace="nowrap",e.overflow="hidden"),this.styles=Oe(this.styles,e),m(this.element,e),this},htmlGetBBox:function(){var e=this.element;return"text"===e.nodeName&&(e.style.position="absolute"),{x:e.offsetLeft,y:e.offsetTop,width:e.offsetWidth,height:e.offsetHeight}},htmlUpdateTransform:function(){if(this.added){var e=this.renderer,t=this.element,i=this.translateX||0,n=this.translateY||0,r=this.x||0,o=this.y||0,a=this.textAlign||"left",l={left:0,center:.5,right:1}[a],c=this.shadows,u=this.styles;if(m(t,{marginLeft:i,marginTop:n}),c&&Ve(c,function(e){m(e,{marginLeft:i+1,marginTop:n+1})}),this.inverted&&Ve(t.childNodes,function(i){e.invertChild(i,t)}),"SPAN"===t.tagName){var d,p=this.rotation,f=s(this.textWidth),g=[p,a,t.innerHTML,this.textWidth,this.textAlign].join(",");g!==this.cTT&&(d=e.fontMetrics(t.style.fontSize).b,h(p)&&this.setSpanRotation(p,l,d),c=je(this.elemWidth,t.offsetWidth),c>f&&/[ \-]/.test(t.textContent||t.innerText)&&(m(t,{width:f+"px",display:"block",whiteSpace:u&&u.whiteSpace||"normal"}),c=f),this.getSpanCorrection(c,d,l,p,a)),m(t,{left:r+(this.xCorr||0)+"px",top:o+(this.yCorr||0)+"px"}),Se&&(d=t.offsetHeight),this.cTT=g}}else this.alignOnAdd=!0},setSpanRotation:function(e,t,i){var n={},s=xe?"-ms-transform":Se?"-webkit-transform":Ee?"MozTransform":Ce?"-o-transform":"";n[s]=n.transform="rotate("+e+"deg)",n[s+(Ee?"Origin":"-origin")]=n.transformOrigin=100*t+"% "+i+"px",m(this.element,n)},getSpanCorrection:function(e,t,i){this.xCorr=-e*i,this.yCorr=-t}}),Oe(st.prototype,{html:function(e,t,i){var n=this.createElement("span"),s=n.element,r=n.renderer;return n.textSetter=function(e){e!==s.innerHTML&&delete this.bBox,s.innerHTML=this.textStr=e,n.htmlUpdateTransform()},n.xSetter=n.ySetter=n.alignSetter=n.rotationSetter=function(e,t){"align"===t&&(t="textAlign"),n[t]=e,n.htmlUpdateTransform()},n.attr({text:e,x:he(t),y:he(i)}).css({position:"absolute",fontFamily:this.style.fontFamily,fontSize:this.style.fontSize}),s.style.whiteSpace="nowrap",n.css=n.htmlCss,r.isSVG&&(n.add=function(e){var t,i=r.box.parentNode,o=[];if(this.parentGroup=e){if(t=e.div,!t){for(;e;)o.push(e),e=e.parentGroup;Ve(o.reverse(),function(e){var n,s=p(e.element,"class");s&&(s={className:s}),t=e.div=e.div||v(Me,s,{position:"absolute",left:(e.translateX||0)+"px",top:(e.translateY||0)+"px"},t||i),n=t.style,Oe(e,{translateXSetter:function(t,i){n.left=t+"px",e[i]=t,e.doTransform=!0},translateYSetter:function(t,i){n.top=t+"px",e[i]=t,e.doTransform=!0}}),Ve(["opacity","visibility"],function(t){Ne(e,t+"Setter",function(e,t,i,s){e.call(this,t,i,s),n[i]=t})})})}}else t=i;return t.appendChild(s),n.added=!0,n.alignOnAdd&&n.htmlUpdateTransform(),n}),n}});var rt;if(!De&&!qe){rt={init:function(e,t){var i=["<",t,' filled="f" stroked="f"'],n=["position: ","absolute",";"],s=t===Me;("shape"===t||s)&&n.push("left:0;top:0;width:1px;height:1px;"),n.push("visibility: ",s?"hidden":"visible"),i.push(' style="',n.join(""),'"/>'),t&&(i=s||"span"===t||"img"===t?i.join(""):e.prepVML(i),this.element=v(i)),this.renderer=e},add:function(e){var t=this.renderer,i=this.element,n=t.box,s=e&&e.inverted,n=e?e.element||e:n;return e&&(this.parentGroup=e),s&&t.invertChild(i,n),n.appendChild(i),this.added=!0,this.alignOnAdd&&!this.deferUpdateTransform&&this.updateTransform(),this.onAdd&&this.onAdd(),this},updateTransform:B.prototype.htmlUpdateTransform,setSpanRotation:function(){var e=this.rotation,t=be(e*Ae),i=we(e*Ae);m(this.element,{filter:e?["progid:DXImageTransform.Microsoft.Matrix(M11=",t,", M12=",-i,", M21=",i,", M22=",t,", sizingMethod='auto expand')"].join(""):"none"})},getSpanCorrection:function(e,t,i,n,s){var r,o=n?be(n*Ae):1,a=n?we(n*Ae):0,l=je(this.elemHeight,this.element.offsetHeight);this.xCorr=o<0&&-e,this.yCorr=a<0&&-l,r=o*a<0,this.xCorr+=a*t*(r?1-i:i),this.yCorr-=o*t*(n?r?i:1-i:1),s&&"left"!==s&&(this.xCorr-=e*i*(o<0?-1:1),n&&(this.yCorr-=l*i*(a<0?-1:1)),m(this.element,{textAlign:s}))},pathToVML:function(e){for(var t=e.length,i=[];t--;)l(e[t])?i[t]=he(10*e[t])-5:"Z"===e[t]?i[t]="x":(i[t]=e[t],!e.isArc||"wa"!==e[t]&&"at"!==e[t]||(i[t+5]===i[t+7]&&(i[t+7]+=e[t+7]>e[t+5]?1:-1),i[t+6]===i[t+8]&&(i[t+8]+=e[t+8]>e[t+6]?1:-1)));return i.join(" ")||"x"},clip:function(e){var t,i=this;return e?(t=e.members,d(t,i),t.push(i),i.destroyClip=function(){d(t,i)},e=e.getCSS(i)):(i.destroyClip&&i.destroyClip(),e={clip:_e?"inherit":"rect(auto)"}),i.css(e)},css:B.prototype.htmlCss,safeRemoveChild:function(e){e.parentNode&&F(e)},destroy:function(){return this.destroyClip&&this.destroyClip(),B.prototype.destroy.apply(this)},on:function(e,t){return this.element["on"+e]=function(){var e=ce.event;e.target=e.srcElement,t(e)},this},cutOffPath:function(e,t){var i,e=e.split(/[ ,]/);return i=e.length,9!==i&&11!==i||(e[i-4]=e[i-2]=s(e[i-2])-10*t),e.join(" ")},shadow:function(e,t,i){var n,r,o,a,l,c,u,d=[],h=this.element,p=this.renderer,f=h.style,g=h.path;if(g&&"string"!=typeof g.value&&(g="x"),l=g,e){for(c=je(e.width,3),u=(e.opacity||.15)/c,n=1;n<=3;n++)a=2*c+1-2*n,i&&(l=this.cutOffPath(g.value,a+.5)),o=['<shape isShadow="true" strokeweight="',a,'" filled="false" path="',l,'" coordsize="10 10" style="',h.style.cssText,'" />'],r=v(p.prepVML(o),null,{left:s(f.left)+je(e.offsetX,1),top:s(f.top)+je(e.offsetY,1)}),i&&(r.cutOff=a+1),o=['<stroke color="',e.color||"black",'" opacity="',u*n,'"/>'],v(p.prepVML(o),null,null,r),t?t.element.appendChild(r):h.parentNode.insertBefore(r,h),d.push(r);this.shadows=d}return this},updateShadows:Be,setAttr:function(e,t){_e?this.element[e]=t:this.element.setAttribute(e,t)},classSetter:function(e){this.element.className=e},dashstyleSetter:function(e,t,i){(i.getElementsByTagName("stroke")[0]||v(this.renderer.prepVML(["<stroke/>"]),null,null,i))[t]=e||"solid",this[t]=e},dSetter:function(e,t,i){var n=this.shadows,e=e||[];if(this.d=e.join&&e.join(" "),i.path=e=this.pathToVML(e),n)for(i=n.length;i--;)n[i].path=n[i].cutOff?this.cutOffPath(e,n[i].cutOff):e;this.setAttr(t,e)},fillSetter:function(e,t,i){var n=i.nodeName;"SPAN"===n?i.style.color=e:"IMG"!==n&&(i.filled="none"!==e,this.setAttr("fillcolor",this.renderer.color(e,i,t,this)))},opacitySetter:Be,rotationSetter:function(e,t,i){i=i.style,this[t]=i[t]=e,i.left=-he(we(e*Ae)+1)+"px",i.top=he(be(e*Ae))+"px"},strokeSetter:function(e,t,i){this.setAttr("strokecolor",this.renderer.color(e,i,t))},"stroke-widthSetter":function(e,t,i){i.stroked=!!e,this[t]=e,l(e)&&(e+="px"),this.setAttr("strokeweight",e)},titleSetter:function(e,t){this.setAttr(t,e)},visibilitySetter:function(e,t,i){"inherit"===e&&(e="visible"),this.shadows&&Ve(this.shadows,function(i){i.style[t]=e}),"DIV"===i.nodeName&&(e="hidden"===e?"-999em":0,_e||(i.style[t]=e?"visible":"hidden"),t="top"),i.style[t]=e},xSetter:function(e,t,i){this[t]=e,"x"===t?t="left":"y"===t&&(t="top"),this.updateClipping?(this[t]=e,this.updateClipping()):i.style[t]=e},zIndexSetter:function(e,t,i){i.style[t]=e}},le.VMLElement=rt=b(B,rt),rt.prototype.ySetter=rt.prototype.widthSetter=rt.prototype.heightSetter=rt.prototype.xSetter;var ot={Element:rt,isIE8:ke.indexOf("MSIE 8.0")>-1,init:function(e,t,i,n){var s;if(this.alignedObjects=[],n=this.createElement(Me).css(Oe(this.getStyle(n),{position:"relative"})),s=n.element,e.appendChild(n.element),this.isVML=!0,this.box=s,this.boxWrapper=n,this.gradients={},this.cache={},this.cacheKeys=[],this.setSize(t,i,!1),!ue.namespaces.hcv){ue.namespaces.add("hcv","urn:schemas-microsoft-com:vml");try{ue.createStyleSheet().cssText="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } "}catch(r){ue.styleSheets[0].cssText+="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } "}}},isHidden:function(){return!this.box.offsetWidth},clipRect:function(e,t,i,n){var s=this.createElement(),r=o(e);return Oe(s,{members:[],count:0,left:(r?e.x:e)+1,top:(r?e.y:t)+1,width:(r?e.width:i)-1,height:(r?e.height:n)-1,getCSS:function(e){var t=e.element,i=t.nodeName,e=e.inverted,n=this.top-("shape"===i?t.offsetTop:0),s=this.left,t=s+this.width,r=n+this.height,n={clip:"rect("+he(e?s:n)+"px,"+he(e?r:t)+"px,"+he(e?t:r)+"px,"+he(e?n:s)+"px)"};return!e&&_e&&"DIV"===i&&Oe(n,{width:t+"px",height:r+"px"}),n},updateClipping:function(){Ve(s.members,function(e){e.element&&e.css(s.getCSS(e))})}})},color:function(e,t,i,n){var s,r,o,a=this,l=/^rgba/,c="none";if(e&&e.linearGradient?o="gradient":e&&e.radialGradient&&(o="pattern"),o){var u,d,h,p,f,g,m,b,w=e.linearGradient||e.radialGradient,y="",e=e.stops,A=[],k=function(){r=['<fill colors="'+A.join(",")+'" opacity="',f,'" o:opacity2="',p,'" type="',o,'" ',y,'focus="100%" method="any" />'],v(a.prepVML(r),null,null,t)};if(h=e[0],b=e[e.length-1],h[0]>0&&e.unshift([0,h[1]]),b[0]<1&&e.push([1,b[1]]),Ve(e,function(e,t){l.test(e[1])?(s=T(e[1]),u=s.get("rgb"),d=s.get("a")):(u=e[1],d=1),A.push(100*e[0]+"% "+u),t?(f=d,g=u):(p=d,m=u)}),"fill"===i)if("gradient"===o)i=w.x1||w[0]||0,e=w.y1||w[1]||0,h=w.x2||w[2]||0,w=w.y2||w[3]||0,y='angle="'+(90-180*de.atan((w-e)/(h-i))/ye)+'"',k();else{var C,c=w.r,x=2*c,_=2*c,S=w.cx,E=w.cy,F=t.radialReference,c=function(){F&&(C=n.getBBox(),S+=(F[0]-C.x)/C.width-.5,E+=(F[1]-C.y)/C.height-.5,x*=F[2]/C.width,_*=F[2]/C.height),y='src="'+O.global.VMLRadialGradientURL+'" size="'+x+","+_+'" origin="0.5,0.5" position="'+S+","+E+'" color2="'+m+'" ',k()};n.added?c():n.onAdd=c,c=g}else c=u}else l.test(e)&&"IMG"!==t.tagName?(s=T(e),r=["<",i,' opacity="',s.get("a"),'"/>'],v(this.prepVML(r),null,null,t),c=s.get("rgb")):(c=t.getElementsByTagName(i),c.length&&(c[0].opacity=1,c[0].type="solid"),c=e);return c},prepVML:function(e){var t=this.isIE8,e=e.join("");return t?(e=e.replace("/>",' xmlns="urn:schemas-microsoft-com:vml" />'),e=e.indexOf('style="')===-1?e.replace("/>",' style="display:inline-block;behavior:url(#default#VML);" />'):e.replace('style="','style="display:inline-block;behavior:url(#default#VML);')):e=e.replace("<","<hcv:"),e},text:st.prototype.html,path:function(e){var t={coordsize:"10 10"};return a(e)?t.d=e:o(e)&&Oe(t,e),this.createElement("shape").attr(t)},circle:function(e,t,i){var n=this.symbol("circle");return o(e)&&(i=e.r,t=e.y,e=e.x),n.isCircle=!0,n.r=i,n.attr({x:e,y:t})},g:function(e){var t;return e&&(t={className:"highcharts-"+e,"class":"highcharts-"+e}),this.createElement(Me).attr(t)},image:function(e,t,i,n,s){var r=this.createElement("img").attr({src:e});return arguments.length>1&&r.attr({x:t,y:i,width:n,height:s}),r},createElement:function(e){return"rect"===e?this.symbol(e):st.prototype.createElement.call(this,e)},invertChild:function(e,t){var i=this,n=t.style,r="IMG"===e.tagName&&e.style;m(e,{flip:"x",left:s(n.width)-(r?s(r.top):1),top:s(n.height)-(r?s(r.left):1),rotation:-90}),Ve(e.childNodes,function(t){i.invertChild(t,e)})},symbols:{arc:function(e,t,i,n,s){var r=s.start,o=s.end,a=s.r||i||n,i=s.innerR,n=be(r),l=we(r),c=be(o),u=we(o);return o-r===0?["x"]:(r=["wa",e-a,t-a,e+a,t+a,e+a*n,t+a*l,e+a*c,t+a*u],s.open&&!i&&r.push("e","M",e,t),r.push("at",e-i,t-i,e+i,t+i,e+i*c,t+i*u,e+i*n,t+i*l,"x","e"),r.isArc=!0,r)},circle:function(e,t,i,n,s){return s&&(i=n=2*s.r),s&&s.isCircle&&(e-=i/2,t-=n/2),["wa",e,t,e+i,t+n,e+i,t+n/2,e+i,t+n/2,"e"]},rect:function(e,t,i,n,s){return st.prototype.symbols[h(s)&&s.r?"callout":"square"].call(0,e,t,i,n,s)}}};le.VMLRenderer=rt=function(){this.init.apply(this,arguments)},rt.prototype=n(st.prototype,ot),I=rt}st.prototype.measureSpanWidth=function(e,t){var i,n=ue.createElement("span");return i=ue.createTextNode(e),n.appendChild(i),m(n,t),this.box.appendChild(n),i=n.offsetWidth,F(n),i};var at;qe&&(le.CanVGRenderer=rt=function(){Fe="http://www.w3.org/1999/xhtml"},rt.prototype.symbols={},at=function(){function e(){var e,i=t.length;for(e=0;e<i;e++)t[e]();t=[]}var t=[];return{push:function(i,n){0===t.length&&le.getScript(n,e),t.push(i)}}}(),I=rt),L.prototype={addLabel:function(){var e,t=this.axis,i=t.options,s=t.chart,r=t.categories,o=t.names,a=this.pos,l=i.labels,c=t.tickPositions,d=a===c[0],p=a===c[c.length-1],o=r?je(r[a],o[a],a):a,r=this.label,c=c.info;t.isDatetimeAxis&&c&&(e=i.dateTimeLabelFormats[c.higherRanks[a]||c.unitName]),this.isFirst=d,this.isLast=p,i=t.labelFormatter.call({axis:t,chart:s,isFirst:d,isLast:p,dateTimeLabelFormat:e,value:t.isLog?D(u(o)):o}),h(r)?r&&r.attr({text:i}):(this.labelLength=(this.label=r=h(i)&&l.enabled?s.renderer.text(i,0,0,l.useHTML).css(n(l.style)).add(t.labelGroup):null)&&r.getBBox().width,this.rotation=0)},getLabelSize:function(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0},handleOverflow:function(e){var t,i=this.axis,n=e.x,s=i.chart.chartWidth,r=i.chart.spacing,o=je(i.labelLeft,me(i.pos,r[3])),r=je(i.labelRight,ge(i.pos+i.len,s-r[1])),a=this.label,l=this.rotation,c={left:0,center:.5,right:1}[i.labelAlign],u=a.getBBox().width,d=i.slotWidth,h=1,p={};l?l<0&&n-c*u<o?t=he(n/be(l*Ae)-o):l>0&&n+c*u>r&&(t=he((s-n)/be(l*Ae))):(s=n+(1-c)*u,n-c*u<o?d=e.x+d*(1-c)-o:s>r&&(d=r-e.x+d*c,h=-1),d=me(i.slotWidth,d),d<i.slotWidth&&"center"===i.labelAlign&&(e.x+=h*(i.slotWidth-d-c*(i.slotWidth-me(u,d)))),(u>d||i.autoRotation&&a.styles.width)&&(t=d)),t&&(p.width=t,i.options.labels.style.textOverflow||(p.textOverflow="ellipsis"),a.css(p))},getPosition:function(e,t,i,n){var s=this.axis,r=s.chart,o=n&&r.oldChartHeight||r.chartHeight;return{x:e?s.translate(t+i,null,null,n)+s.transB:s.left+s.offset+(s.opposite?(n&&r.oldChartWidth||r.chartWidth)-s.right-s.left:0),y:e?o-s.bottom+s.offset-(s.opposite?s.height:0):o-s.translate(t+i,null,null,n)-s.transB}},getLabelPosition:function(e,t,i,n,s,r,o,a){var l=this.axis,c=l.transA,u=l.reversed,d=l.staggerLines,p=l.tickRotCorr||{x:0,y:0},f=s.y;return h(f)||(f=2===l.side?p.y+8:f=be(i.rotation*Ae)*(p.y-i.getBBox(!1,0).height/2)),e=e+s.x+p.x-(r&&n?r*c*(u?-1:1):0),t=t+f-(r&&!n?r*c*(u?1:-1):0),d&&(i=o/(a||1)%d,l.opposite&&(i=d-i-1),t+=i*(l.labelOffset/d)),{x:e,y:he(t)}},getMarkPath:function(e,t,i,n,s,r){return r.crispLine(["M",e,t,"L",e+(s?0:-i),t+(s?i:0)],n)},render:function(e,t,i){var n=this.axis,s=n.options,r=n.chart.renderer,o=n.horiz,a=this.type,l=this.label,c=this.pos,u=s.labels,d=this.gridLine,h=a?a+"Grid":"grid",p=a?a+"Tick":"tick",f=s[h+"LineWidth"],g=s[h+"LineColor"],m=s[h+"LineDashStyle"],v=s[p+"Length"],h=je(s[p+"Width"],!a&&n.isXAxis?1:0),b=s[p+"Color"],w=s[p+"Position"],p=this.mark,y=u.step,A=!0,k=n.tickmarkOffset,C=this.getPosition(o,c,k,t),x=C.x,C=C.y,_=o&&x===n.pos+n.len||!o&&C===n.pos?-1:1,i=je(i,1);this.isActive=!0,f&&(c=n.getPlotLinePath(c+k,f*_,t,!0),d===M&&(d={stroke:g,"stroke-width":f},m&&(d.dashstyle=m),a||(d.zIndex=1),t&&(d.opacity=0),this.gridLine=d=f?r.path(c).attr(d).add(n.gridGroup):null),!t&&d&&c&&d[this.isNew?"attr":"animate"]({d:c,opacity:i})),h&&v&&("inside"===w&&(v=-v),n.opposite&&(v=-v),a=this.getMarkPath(x,C,v,h*_,o,r),p?p.animate({d:a,opacity:i}):this.mark=r.path(a).attr({stroke:b,"stroke-width":h,opacity:i}).add(n.axisGroup)),l&&!isNaN(x)&&(l.xy=C=this.getLabelPosition(x,C,l,o,u,k,e,y),this.isFirst&&!this.isLast&&!je(s.showFirstLabel,1)||this.isLast&&!this.isFirst&&!je(s.showLastLabel,1)?A=!1:o&&!n.isRadial&&!u.step&&!u.rotation&&!t&&0!==i&&this.handleOverflow(C),y&&e%y&&(A=!1),A&&!isNaN(C.y)?(C.opacity=i,l[this.isNew?"attr":"animate"](C),this.isNew=!1):l.attr("y",-9999));
},destroy:function(){E(this,this.axis)}},le.PlotLineOrBand=function(e,t){this.axis=e,t&&(this.options=t,this.id=t.id)},le.PlotLineOrBand.prototype={render:function(){var e,t=this,i=t.axis,s=i.horiz,r=t.options,o=r.label,a=t.label,l=r.width,u=r.to,d=r.from,p=h(d)&&h(u),f=r.value,g=r.dashStyle,m=t.svgElem,v=[],b=r.color,w=r.zIndex,y=r.events,A={},k=i.chart.renderer;if(i.isLog&&(d=c(d),u=c(u),f=c(f)),l)v=i.getPlotLinePath(f,l),A={stroke:b,"stroke-width":l},g&&(A.dashstyle=g);else{if(!p)return;v=i.getPlotBandPath(d,u,r),b&&(A.fill=b),r.borderWidth&&(A.stroke=r.borderColor,A["stroke-width"]=r.borderWidth)}if(h(w)&&(A.zIndex=w),m)v?(m.show(),m.animate({d:v})):(m.hide(),a&&(t.label=a=a.destroy()));else if(v&&v.length&&(t.svgElem=m=k.path(v).attr(A).add(),y))for(e in r=function(e){m.on(e,function(i){y[e].apply(t,[i])})},y)r(e);return o&&h(o.text)&&v&&v.length&&i.width>0&&i.height>0&&!v.flat?(o=n({align:s&&p&&"center",x:s?!p&&4:10,verticalAlign:!s&&p&&"middle",y:s?p?16:10:p?6:-4,rotation:s&&!p&&90},o),a||(A={align:o.textAlign||o.align,rotation:o.rotation},h(w)&&(A.zIndex=w),t.label=a=k.text(o.text,0,0,o.useHTML).attr(A).css(o.style).add()),i=[v[1],v[4],p?v[6]:v[1]],p=[v[2],v[5],p?v[7]:v[2]],v=_(i),s=_(p),a.align(o,!1,{x:v,y:s,width:S(i)-v,height:S(p)-s}),a.show()):a&&a.hide(),t},destroy:function(){d(this.axis.plotLinesAndBands,this),delete this.axis,E(this)}};var lt=le.Axis=function(){this.init.apply(this,arguments)};lt.prototype={defaultOptions:{dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},endOnTick:!1,gridLineColor:"#D8D8D8",labels:{enabled:!0,style:{color:"#606060",cursor:"default",fontSize:"11px"},x:0,y:15},lineColor:"#C0D0E0",lineWidth:1,minPadding:.01,maxPadding:.01,minorGridLineColor:"#E0E0E0",minorGridLineWidth:1,minorTickColor:"#A0A0A0",minorTickLength:2,minorTickPosition:"outside",startOfWeek:1,startOnTick:!1,tickColor:"#C0D0E0",tickLength:10,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",title:{align:"middle",style:{color:"#707070"}},type:"linear"},defaultYAxisOptions:{endOnTick:!0,gridLineWidth:1,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8,y:3},lineWidth:0,maxPadding:.05,minPadding:.05,startOnTick:!0,title:{rotation:270,text:"Values"},stackLabels:{enabled:!1,formatter:function(){return le.numberFormat(this.total,-1)},style:n(it.line.dataLabels.style,{color:"#000000"})}},defaultLeftAxisOptions:{labels:{x:-15,y:null},title:{rotation:270}},defaultRightAxisOptions:{labels:{x:15,y:null},title:{rotation:90}},defaultBottomAxisOptions:{labels:{autoRotation:[-45],x:0,y:null},title:{rotation:0}},defaultTopAxisOptions:{labels:{autoRotation:[-45],x:0,y:-15},title:{rotation:0}},init:function(e,t){var i=t.isX;this.chart=e,this.horiz=e.inverted?!i:i,this.coll=(this.isXAxis=i)?"xAxis":"yAxis",this.opposite=t.opposite,this.side=t.side||(this.horiz?this.opposite?0:2:this.opposite?1:3),this.setOptions(t);var n=this.options,s=n.type;this.labelFormatter=n.labels.formatter||this.defaultLabelFormatter,this.userOptions=t,this.minPixelPadding=0,this.reversed=n.reversed,this.visible=n.visible!==!1,this.zoomEnabled=n.zoomEnabled!==!1,this.categories=n.categories||"category"===s,this.names=this.names||[],this.isLog="logarithmic"===s,this.isDatetimeAxis="datetime"===s,this.isLinked=h(n.linkedTo),this.ticks={},this.labelEdge=[],this.minorTicks={},this.plotLinesAndBands=[],this.alternateBands={},this.len=0,this.minRange=this.userMinRange=n.minRange||n.maxZoom,this.range=n.range,this.offset=n.offset||0,this.stacks={},this.oldStacks={},this.stacksTouched=0,this.min=this.max=null,this.crosshair=je(n.crosshair,f(e.options.tooltip.crosshairs)[i?0:1],!1);var r,n=this.options.events;Ue(this,e.axes)===-1&&(i&&!this.isColorAxis?e.axes.splice(e.xAxis.length,0,this):e.axes.push(this),e[this.coll].push(this)),this.series=this.series||[],e.inverted&&i&&this.reversed===M&&(this.reversed=!0),this.removePlotLine=this.removePlotBand=this.removePlotBandOrLine;for(r in n)Ye(this,r,n[r]);this.isLog&&(this.val2lin=c,this.lin2val=u)},setOptions:function(e){this.options=n(this.defaultOptions,this.isXAxis?{}:this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],n(O[this.coll],e))},defaultLabelFormatter:function(){var e,t=this.axis,i=this.value,n=t.categories,s=this.dateTimeLabelFormat,r=O.lang.numericSymbols,o=r&&r.length,a=t.options.labels.format,t=t.isLog?i:t.tickInterval;if(a)e=A(a,this);else if(n)e=i;else if(s)e=j(s,i);else if(o&&t>=1e3)for(;o--&&e===M;)n=Math.pow(1e3,o+1),t>=n&&10*i%n===0&&null!==r[o]&&(e=le.numberFormat(i/n,-1)+r[o]);return e===M&&(e=ve(i)>=1e4?le.numberFormat(i,-1):le.numberFormat(i,-1,M,"")),e},getSeriesExtremes:function(){var e=this,t=e.chart;e.hasVisibleSeries=!1,e.dataMin=e.dataMax=e.threshold=null,e.softThreshold=!e.isXAxis,e.buildStacks&&e.buildStacks(),Ve(e.series,function(i){if(i.visible||!t.options.chart.ignoreHiddenSeries){var n,s=i.options,r=s.threshold;e.hasVisibleSeries=!0,e.isLog&&r<=0&&(r=null),e.isXAxis?(s=i.xData,s.length&&(e.dataMin=me(je(e.dataMin,s[0]),_(s)),e.dataMax=ge(je(e.dataMax,s[0]),S(s)))):(i.getExtremes(),n=i.dataMax,i=i.dataMin,h(i)&&h(n)&&(e.dataMin=me(je(e.dataMin,i),i),e.dataMax=ge(je(e.dataMax,n),n)),h(r)&&(e.threshold=r),s.softThreshold&&!e.isLog||(e.softThreshold=!1))}})},translate:function(e,t,i,n,s,r){var o=this.linkedParent||this,a=1,c=0,u=n?o.oldTransA:o.transA,n=n?o.oldMin:o.min,d=o.minPixelPadding,s=(o.doPostTranslate||o.isLog&&s)&&o.lin2val;return u||(u=o.transA),i&&(a*=-1,c=o.len),o.reversed&&(a*=-1,c-=a*(o.sector||o.len)),t?(e=e*a+c,e-=d,e=e/u+n,s&&(e=o.lin2val(e))):(s&&(e=o.val2lin(e)),"between"===r&&(r=.5),e=a*(e-n)*u+c+a*d+(l(r)?u*r*o.pointRange:0)),e},toPixels:function(e,t){return this.translate(e,!1,!this.horiz,null,!0)+(t?0:this.pos)},toValue:function(e,t){return this.translate(e-(t?0:this.pos),!0,!this.horiz,null,!0)},getPlotLinePath:function(e,t,i,n,s){var r,o,a,l=this.chart,c=this.left,u=this.top,d=i&&l.oldChartHeight||l.chartHeight,h=i&&l.oldChartWidth||l.chartWidth;r=this.transB;var p=function(e,t,i){return(e<t||e>i)&&(n?e=me(ge(t,e),i):a=!0),e},s=je(s,this.translate(e,null,null,i)),e=i=he(s+r);return r=o=he(d-s-r),isNaN(s)?a=!0:this.horiz?(r=u,o=d-this.bottom,e=i=p(e,c,c+this.width)):(e=c,i=h-this.right,r=o=p(r,u,u+this.height)),a&&!n?null:l.renderer.crispLine(["M",e,r,"L",i,o],t||1)},getLinearTickPositions:function(e,t,i){var n,s=D(pe(t/e)*e),r=D(fe(i/e)*e),o=[];if(t===i&&l(t))return[t];for(t=s;t<=r&&(o.push(t),t=D(t+e),t!==n);)n=t;return o},getMinorTickPositions:function(){var e,t=this.options,i=this.tickPositions,n=this.minorTickInterval,s=[],r=this.pointRangePadding||0;e=this.min-r;var r=this.max+r,o=r-e;if(o&&o/n<this.len/3)if(this.isLog)for(r=i.length,e=1;e<r;e++)s=s.concat(this.getLogTickPositions(n,i[e-1],i[e],!0));else if(this.isDatetimeAxis&&"auto"===t.minorTickInterval)s=s.concat(this.getTimeTicks(this.normalizeTimeTickInterval(n),e,r,t.startOfWeek));else for(i=e+(i[0]-e)%n;i<=r;i+=n)s.push(i);return 0!==s.length&&this.trimTicks(s,t.startOnTick,t.endOnTick),s},adjustForMinRange:function(){var e,t,i,n,s,r,o,a=this.options,l=this.min,c=this.max,u=this.dataMax-this.dataMin>=this.minRange;this.isXAxis&&this.minRange===M&&!this.isLog&&(h(a.min)||h(a.max)?this.minRange=null:(Ve(this.series,function(e){for(s=e.xData,i=r=e.xIncrement?1:s.length-1;i>0;i--)n=s[i]-s[i-1],(t===M||n<t)&&(t=n)}),this.minRange=me(5*t,this.dataMax-this.dataMin))),c-l<this.minRange&&(o=this.minRange,e=(o-c+l)/2,e=[l-e,je(a.min,l-e)],u&&(e[2]=this.dataMin),l=S(e),c=[l+o,je(a.max,l+o)],u&&(c[2]=this.dataMax),c=_(c),c-l<o&&(e[0]=c-o,e[1]=je(a.min,c-o),l=S(e))),this.min=l,this.max=c},setAxisTranslation:function(e){var t,i=this,n=i.max-i.min,s=i.axisPointRange||0,o=0,a=0,l=i.linkedParent,c=!!i.categories,u=i.transA,d=i.isXAxis;(d||c||s)&&(l?(o=l.minPointOffset,a=l.pointRangePadding):(Ve(i.series,function(e){var i=e.closestPointRange;!e.noSharedTooltip&&h(i)&&(t=h(t)?me(t,i):i)}),Ve(i.series,function(e){var n=c?1:d?je(e.options.pointRange,t,0):i.axisPointRange||0,e=e.options.pointPlacement;s=ge(s,n),i.single||(o=ge(o,r(e)?0:n/2),a=ge(a,"on"===e?0:n))})),l=i.ordinalSlope&&t?i.ordinalSlope/t:1,i.minPointOffset=o*=l,i.pointRangePadding=a*=l,i.pointRange=me(s,n),d&&(i.closestPointRange=t)),e&&(i.oldTransA=u),i.translationSlope=i.transA=u=i.len/(n+a||1),i.transB=i.horiz?i.left:i.bottom,i.minPixelPadding=u*o},minFromRange:function(){return this.max-this.range},setTickInterval:function(e){var i,n,s,r,o=this,a=o.chart,u=o.options,d=o.isLog,p=o.isDatetimeAxis,f=o.isXAxis,g=o.isLinked,m=u.maxPadding,v=u.minPadding,b=u.tickInterval,w=u.tickPixelInterval,y=o.categories,A=o.threshold,x=o.softThreshold;!p&&!y&&!g&&this.getTickAmount(),s=je(o.userMin,u.min),r=je(o.userMax,u.max),g?(o.linkedParent=a[o.coll][u.linkedTo],a=o.linkedParent.getExtremes(),o.min=je(a.min,a.dataMin),o.max=je(a.max,a.dataMax),u.type!==o.linkedParent.options.type&&t(11,1)):(!x&&h(A)&&(o.dataMin>=A?(i=A,v=0):o.dataMax<=A&&(n=A,m=0)),o.min=je(s,i,o.dataMin),o.max=je(r,n,o.dataMax)),d&&(!e&&me(o.min,je(o.dataMin,o.min))<=0&&t(10,1),o.min=D(c(o.min),15),o.max=D(c(o.max),15)),o.range&&h(o.max)&&(o.userMin=o.min=s=ge(o.min,o.minFromRange()),o.userMax=r=o.max,o.range=null),o.beforePadding&&o.beforePadding(),o.adjustForMinRange(),y||o.axisPointRange||o.usePercentage||g||!h(o.min)||!h(o.max)||!(a=o.max-o.min)||(!h(s)&&v&&(o.min-=a*v),!h(r)&&m&&(o.max+=a*m)),l(u.floor)&&(o.min=ge(o.min,u.floor)),l(u.ceiling)&&(o.max=me(o.max,u.ceiling)),x&&h(o.dataMin)&&(A=A||0,!h(s)&&o.min<A&&o.dataMin>=A?o.min=A:!h(r)&&o.max>A&&o.dataMax<=A&&(o.max=A)),o.tickInterval=o.min===o.max||void 0===o.min||void 0===o.max?1:g&&!b&&w===o.linkedParent.options.tickPixelInterval?b=o.linkedParent.tickInterval:je(b,this.tickAmount?(o.max-o.min)/ge(this.tickAmount-1,1):void 0,y?1:(o.max-o.min)*w/ge(o.len,w)),f&&!e&&Ve(o.series,function(e){e.processData(o.min!==o.oldMin||o.max!==o.oldMax)}),o.setAxisTranslation(!0),o.beforeSetTickPositions&&o.beforeSetTickPositions(),o.postProcessTickInterval&&(o.tickInterval=o.postProcessTickInterval(o.tickInterval)),o.pointRange&&!b&&(o.tickInterval=ge(o.pointRange,o.tickInterval)),e=je(u.minTickInterval,o.isDatetimeAxis&&o.closestPointRange),!b&&o.tickInterval<e&&(o.tickInterval=e),p||d||b||(o.tickInterval=C(o.tickInterval,null,k(o.tickInterval),je(u.allowDecimals,!(o.tickInterval>.5&&o.tickInterval<5&&o.max>1e3&&o.max<9999)),!!this.tickAmount)),!this.tickAmount&&this.len&&(o.tickInterval=o.unsquish()),this.setTickPositions()},setTickPositions:function(){var e,t,i=this.options,n=i.tickPositions,s=i.tickPositioner,r=i.startOnTick,o=i.endOnTick;this.tickmarkOffset=this.categories&&"between"===i.tickmarkPlacement&&1===this.tickInterval?.5:0,this.minorTickInterval="auto"===i.minorTickInterval&&this.tickInterval?this.tickInterval/5:i.minorTickInterval,this.tickPositions=e=n&&n.slice(),!e&&(e=this.isDatetimeAxis?this.getTimeTicks(this.normalizeTimeTickInterval(this.tickInterval,i.units),this.min,this.max,i.startOfWeek,this.ordinalPositions,this.closestPointRange,!0):this.isLog?this.getLogTickPositions(this.tickInterval,this.min,this.max):this.getLinearTickPositions(this.tickInterval,this.min,this.max),e.length>this.len&&(e=[e[0],e.pop()]),this.tickPositions=e,s&&(s=s.apply(this,[this.min,this.max])))&&(this.tickPositions=e=s),this.isLinked||(this.trimTicks(e,r,o),this.min===this.max&&h(this.min)&&!this.tickAmount&&(t=!0,this.min-=.5,this.max+=.5),this.single=t,!n&&!s&&this.adjustTickAmount())},trimTicks:function(e,t,i){var n=e[0],s=e[e.length-1],r=this.minPointOffset||0;t?this.min=n:this.min-r>n&&e.shift(),i?this.max=s:this.max+r<s&&e.pop(),0===e.length&&h(n)&&e.push((s+n)/2)},alignToOthers:function(){var e,t={},i=this.options;return this.chart.options.chart.alignTicks!==!1&&i.alignTicks!==!1&&Ve(this.chart[this.coll],function(i){var n=i.options,n=[i.horiz?n.left:n.top,n.width,n.height,n.pane].join(",");i.series.length&&(t[n]?e=!0:t[n]=1)}),e},getTickAmount:function(){var e=this.options,t=e.tickAmount,i=e.tickPixelInterval;!h(e.tickInterval)&&this.len<i&&!this.isRadial&&!this.isLog&&e.startOnTick&&e.endOnTick&&(t=2),!t&&this.alignToOthers()&&(t=fe(this.len/i)+1),t<4&&(this.finalTickAmt=t,t=5),this.tickAmount=t},adjustTickAmount:function(){var e=this.tickInterval,t=this.tickPositions,i=this.tickAmount,n=this.finalTickAmt,s=t&&t.length;if(s<i){for(;t.length<i;)t.push(D(t[t.length-1]+e));this.transA*=(s-1)/(i-1),this.max=t[t.length-1]}else s>i&&(this.tickInterval*=2,this.setTickPositions());if(h(n)){for(e=i=t.length;e--;)(3===n&&e%2===1||n<=2&&e>0&&e<i-1)&&t.splice(e,1);this.finalTickAmt=M}},setScale:function(){var e,t;this.oldMin=this.min,this.oldMax=this.max,this.oldAxisLength=this.len,this.setAxisSize(),t=this.len!==this.oldAxisLength,Ve(this.series,function(t){(t.isDirtyData||t.isDirty||t.xAxis.isDirty)&&(e=!0)}),t||e||this.isLinked||this.forceRedraw||this.userMin!==this.oldUserMin||this.userMax!==this.oldUserMax||this.alignToOthers()?(this.resetStacks&&this.resetStacks(),this.forceRedraw=!1,this.getSeriesExtremes(),this.setTickInterval(),this.oldUserMin=this.userMin,this.oldUserMax=this.userMax,this.isDirty||(this.isDirty=t||this.min!==this.oldMin||this.max!==this.oldMax)):this.cleanStacks&&this.cleanStacks()},setExtremes:function(e,t,i,n,s){var r=this,o=r.chart,i=je(i,!0);Ve(r.series,function(e){delete e.kdTree}),s=Oe(s,{min:e,max:t}),Je(r,"setExtremes",s,function(){r.userMin=e,r.userMax=t,r.eventArgs=s,i&&o.redraw(n)})},zoom:function(e,t){var i=this.dataMin,n=this.dataMax,s=this.options,r=me(i,je(s.min,i)),s=ge(n,je(s.max,n));return this.allowZoomOutside||(h(i)&&e<=r&&(e=r),h(n)&&t>=s&&(t=s)),this.displayBtn=e!==M||t!==M,this.setExtremes(e,t,!1,M,{trigger:"zoom"}),!0},setAxisSize:function(){var e=this.chart,t=this.options,i=t.offsetLeft||0,n=this.horiz,s=je(t.width,e.plotWidth-i+(t.offsetRight||0)),r=je(t.height,e.plotHeight),o=je(t.top,e.plotTop),t=je(t.left,e.plotLeft+i),i=/%$/;i.test(r)&&(r=parseFloat(r)/100*e.plotHeight),i.test(o)&&(o=parseFloat(o)/100*e.plotHeight+e.plotTop),this.left=t,this.top=o,this.width=s,this.height=r,this.bottom=e.chartHeight-r-o,this.right=e.chartWidth-s-t,this.len=ge(n?s:r,0),this.pos=n?t:o},getExtremes:function(){var e=this.isLog;return{min:e?D(u(this.min)):this.min,max:e?D(u(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}},getThreshold:function(e){var t=this.isLog,i=t?u(this.min):this.min,t=t?u(this.max):this.max;return null===e?e=t<0?t:i:i>e?e=i:t<e&&(e=t),this.translate(e,0,1,0,1)},autoLabelAlign:function(e){return e=(je(e,0)-90*this.side+720)%360,e>15&&e<165?"right":e>195&&e<345?"left":"center"},unsquish:function(){var e,t,i,n=this.ticks,s=this.options.labels,r=this.horiz,o=this.tickInterval,a=o,l=this.len/(((this.categories?1:0)+this.max-this.min)/o),c=s.rotation,u=this.chart.renderer.fontMetrics(s.style.fontSize,n[0]&&n[0].label),d=Number.MAX_VALUE,p=function(e){return e/=l||1,e=e>1?fe(e):1,e*o};return r?(i=!s.staggerLines&&!s.step&&(h(c)?[c]:l<je(s.autoRotationLimit,80)&&s.autoRotation))&&Ve(i,function(i){var n;(i===c||i&&i>=-90&&i<=90)&&(t=p(ve(u.h/we(Ae*i))),n=t+ve(i/360),n<d&&(d=n,e=i,a=t))}):s.step||(a=p(u.h)),this.autoRotation=i,this.labelRotation=je(e,c),a},renderUnsquish:function(){var e,t,i,s=this.chart,o=s.renderer,a=this.tickPositions,l=this.ticks,c=this.options.labels,u=this.horiz,d=s.margin,h=this.categories?a.length:a.length-1,d=this.slotWidth=u&&(c.step||0)<2&&!c.rotation&&(this.staggerLines||1)*s.plotWidth/h||!u&&(d[3]&&d[3]-s.spacing[3]||.33*s.chartWidth),p=ge(1,he(d-2*(c.padding||5))),f={},h=o.fontMetrics(c.style.fontSize,l[0]&&l[0].label),g=c.style.textOverflow,m=0;if(r(c.rotation)||(f.rotation=c.rotation||0),this.autoRotation)Ve(a,function(e){(e=l[e])&&e.labelLength>m&&(m=e.labelLength)}),m>p&&m>h.h?f.rotation=this.labelRotation:this.labelRotation=0;else if(d&&(e={width:p+"px"},!g))for(e.textOverflow="clip",t=a.length;!u&&t--;)i=a[t],(p=l[i].label)&&("ellipsis"===p.styles.textOverflow&&p.css({textOverflow:"clip"}),(p.getBBox().height>this.len/a.length-(h.h-h.f)||l[i].labelLength>d)&&(p.specCss={textOverflow:"ellipsis"}));f.rotation&&(e={width:(m>.5*s.chartHeight?.33*s.chartHeight:s.chartHeight)+"px"},!g)&&(e.textOverflow="ellipsis"),this.labelAlign=f.align=c.align||this.autoLabelAlign(this.labelRotation),Ve(a,function(t){var i=(t=l[t])&&t.label;i&&(i.attr(f),e&&i.css(n(e,i.specCss)),delete i.specCss,t.rotation=f.rotation)}),this.tickRotCorr=o.rotCorr(h.b,this.labelRotation||0,0!==this.side)},hasData:function(){return this.hasVisibleSeries||h(this.min)&&h(this.max)&&!!this.tickPositions},getOffset:function(){var e,t,i,n,s=this,r=s.chart,o=r.renderer,a=s.options,l=s.tickPositions,c=s.ticks,u=s.horiz,d=s.side,p=r.inverted?[1,0,3,2][d]:d,f=0,g=0,m=a.title,v=a.labels,b=0,w=s.opposite,y=r.axisOffset,r=r.clipOffset,A=[-1,1,1,-1][d],k=s.axisParent;if(e=s.hasData(),s.showAxis=t=e||je(a.showEmpty,!0),s.staggerLines=s.horiz&&v.staggerLines,s.axisGroup||(s.gridGroup=o.g("grid").attr({zIndex:a.gridZIndex||1}).add(k),s.axisGroup=o.g("axis").attr({zIndex:a.zIndex||2}).add(k),s.labelGroup=o.g("axis-labels").attr({zIndex:v.zIndex||7}).addClass("highcharts-"+s.coll.toLowerCase()+"-labels").add(k)),e||s.isLinked)Ve(l,function(e){c[e]?c[e].addLabel():c[e]=new L(s,e)}),s.renderUnsquish(),v.reserveSpace!==!1&&(0===d||2===d||{1:"left",3:"right"}[d]===s.labelAlign||"center"===s.labelAlign)&&Ve(l,function(e){b=ge(c[e].getLabelSize(),b)}),s.staggerLines&&(b*=s.staggerLines,s.labelOffset=b*(s.opposite?-1:1));else for(n in c)c[n].destroy(),delete c[n];m&&m.text&&m.enabled!==!1&&(s.axisTitle||(s.axisTitle=o.text(m.text,0,0,m.useHTML).attr({zIndex:7,rotation:m.rotation||0,align:m.textAlign||{low:w?"right":"left",middle:"center",high:w?"left":"right"}[m.align]}).addClass("highcharts-"+this.coll.toLowerCase()+"-title").css(m.style).add(s.axisGroup),s.axisTitle.isNew=!0),t&&(f=s.axisTitle.getBBox()[u?"height":"width"],i=m.offset,g=h(i)?0:je(m.margin,u?5:10)),s.axisTitle[t?"show":"hide"](!0)),s.offset=A*je(a.offset,y[d]),s.tickRotCorr=s.tickRotCorr||{x:0,y:0},o=2===d?s.tickRotCorr.y:0,u=Math.abs(b)+g+(b&&A*(u?je(v.y,s.tickRotCorr.y+8):v.x)-o),s.axisTitleMargin=je(i,u),y[d]=ge(y[d],s.axisTitleMargin+f+A*s.offset,u),a=a.offset?0:2*pe(a.lineWidth/2),r[p]=ge(r[p],a)},getLinePath:function(e){var t=this.chart,i=this.opposite,n=this.offset,s=this.horiz,r=this.left+(i?this.width:0)+n,n=t.chartHeight-this.bottom-(i?this.height:0)+n;return i&&(e*=-1),t.renderer.crispLine(["M",s?this.left:r,s?n:this.top,"L",s?t.chartWidth-this.right:r,s?n:t.chartHeight-this.bottom],e)},getTitlePosition:function(){var e=this.horiz,t=this.left,i=this.top,n=this.len,r=this.options.title,o=e?t:i,a=this.opposite,l=this.offset,c=r.x||0,u=r.y||0,d=s(r.style.fontSize||12),n={low:o+(e?0:n),middle:o+n/2,high:o+(e?n:0)}[r.align],t=(e?i+this.height:t)+(e?1:-1)*(a?-1:1)*this.axisTitleMargin+(2===this.side?d:0);return{x:e?n+c:t+(a?this.width:0)+l+c,y:e?t+u-(a?this.height:0)+l:n+u}},render:function(){var e,t,i,n=this,s=n.chart,r=s.renderer,o=n.options,a=n.isLog,l=n.isLinked,c=n.tickPositions,d=n.axisTitle,p=n.ticks,f=n.minorTicks,m=n.alternateBands,v=o.stackLabels,b=o.alternateGridColor,w=n.tickmarkOffset,y=o.lineWidth,A=s.hasRendered&&h(n.oldMin)&&!isNaN(n.oldMin),k=n.showAxis,C=r.globalAnimation;n.labelEdge.length=0,n.overlap=!1,Ve([p,f,m],function(e){for(var t in e)e[t].isActive=!1}),(n.hasData()||l)&&(n.minorTickInterval&&!n.categories&&Ve(n.getMinorTickPositions(),function(e){f[e]||(f[e]=new L(n,e,"minor")),A&&f[e].isNew&&f[e].render(null,!0),f[e].render(null,!1,1)}),c.length&&(Ve(c,function(e,t){(!l||e>=n.min&&e<=n.max)&&(p[e]||(p[e]=new L(n,e)),A&&p[e].isNew&&p[e].render(t,!0,.1),p[e].render(t))}),w&&(0===n.min||n.single))&&(p[-1]||(p[-1]=new L(n,(-1),null,(!0))),p[-1].render(-1)),b&&Ve(c,function(e,r){i=c[r+1]!==M?c[r+1]+w:n.max-w,r%2===0&&e<n.max&&i<=n.max+(s.polar?-w:w)&&(m[e]||(m[e]=new le.PlotLineOrBand(n)),t=e+w,m[e].options={from:a?u(t):t,to:a?u(i):i,color:b},m[e].render(),m[e].isActive=!0)}),n._addedPlotLB||(Ve((o.plotLines||[]).concat(o.plotBands||[]),function(e){n.addPlotBandOrLine(e)}),n._addedPlotLB=!0)),Ve([p,f,m],function(e){var t,i,n=[],r=C?C.duration||500:0;for(t in e)e[t].isActive||(e[t].render(t,!1,0),e[t].isActive=!1,n.push(t));g(function(){for(i=n.length;i--;)e[n[i]]&&!e[n[i]].isActive&&(e[n[i]].destroy(),delete e[n[i]])},e!==m&&s.hasRendered&&r?r:0)}),y&&(e=n.getLinePath(y),n.axisLine?n.axisLine.animate({d:e}):n.axisLine=r.path(e).attr({stroke:o.lineColor,"stroke-width":y,zIndex:7}).add(n.axisGroup),n.axisLine[k?"show":"hide"](!0)),d&&k&&(d[d.isNew?"attr":"animate"](n.getTitlePosition()),d.isNew=!1),v&&v.enabled&&n.renderStackTotals(),n.isDirty=!1},redraw:function(){this.visible&&(this.render(),Ve(this.plotLinesAndBands,function(e){e.render()})),Ve(this.series,function(e){e.isDirty=!0})},destroy:function(e){var t,i=this,n=i.stacks,s=i.plotLinesAndBands;e||Xe(i);for(t in n)E(n[t]),n[t]=null;for(Ve([i.ticks,i.minorTicks,i.alternateBands],function(e){E(e)}),e=s.length;e--;)s[e].destroy();Ve("stackTotalGroup,axisLine,axisTitle,axisGroup,cross,gridGroup,labelGroup".split(","),function(e){i[e]&&(i[e]=i[e].destroy())}),this.cross&&this.cross.destroy()},drawCrosshair:function(e,t){var i,n,s,r=this.crosshair;!this.crosshair||(h(t)||!je(r.snap,!0))===!1||t&&t.series&&t.series[this.coll]!==this?this.hideCrosshair():(je(r.snap,!0)?h(t)&&(i=this.isXAxis?t.plotX:this.len-t.plotY):i=this.horiz?e.chartX-this.pos:this.len-e.chartY+this.pos,i=this.isRadial?this.getPlotLinePath(this.isXAxis?t.x:je(t.stackY,t.y))||null:this.getPlotLinePath(null,null,null,null,i)||null,null===i?this.hideCrosshair():(n=this.categories&&!this.isRadial,s=je(r.width,n?this.transA:1),this.cross?this.cross.attr({d:i,visibility:"visible","stroke-width":s}):(n={"stroke-width":s,stroke:r.color||(n?"rgba(155,200,255,0.2)":"#C0C0C0"),zIndex:je(r.zIndex,2)},r.dashStyle&&(n.dashstyle=r.dashStyle),this.cross=this.chart.renderer.path(i).attr(n).add())))},hideCrosshair:function(){this.cross&&this.cross.hide()}},Oe(lt.prototype,{getPlotBandPath:function(e,t){var i=this.getPlotLinePath(t,null,null,!0),n=this.getPlotLinePath(e,null,null,!0);return n&&i?(n.flat=n.toString()===i.toString(),n.push(i[4],i[5],i[1],i[2])):n=null,n},addPlotBand:function(e){return this.addPlotBandOrLine(e,"plotBands")},addPlotLine:function(e){return this.addPlotBandOrLine(e,"plotLines")},addPlotBandOrLine:function(e,t){var i=new le.PlotLineOrBand(this,e).render(),n=this.userOptions;return i&&(t&&(n[t]=n[t]||[],n[t].push(e)),this.plotLinesAndBands.push(i)),i},removePlotBandOrLine:function(e){for(var t=this.plotLinesAndBands,i=this.options,n=this.userOptions,s=t.length;s--;)t[s].id===e&&t[s].destroy();Ve([i.plotLines||[],n.plotLines||[],i.plotBands||[],n.plotBands||[]],function(t){for(s=t.length;s--;)t[s].id===e&&d(t,t[s])})}}),lt.prototype.getTimeTicks=function(e,t,i,n){var s,r=[],o={},a=O.global.useUTC,l=new U(t-y(t)),c=e.unitRange,u=e.count;if(h(t)){l[te](c>=W.second?0:u*pe(l.getMilliseconds()/u)),c>=W.second&&l[ie](c>=W.minute?0:u*pe(l.getSeconds()/u)),c>=W.minute&&l[ne](c>=W.hour?0:u*pe(l[K]()/u)),c>=W.hour&&l[se](c>=W.day?0:u*pe(l[Y]()/u)),c>=W.day&&l[re](c>=W.month?1:u*pe(l[J]()/u)),c>=W.month&&(l[oe](c>=W.year?0:u*pe(l[Z]()/u)),s=l[ee]()),c>=W.year&&(s-=s%u,l[ae](s)),c===W.week&&l[re](l[J]()-l[X]()+je(n,1)),t=1,(Q||G)&&(l=l.getTime(),l=new U(l+y(l))),s=l[ee]();for(var n=l.getTime(),d=l[Z](),p=l[J](),f=(W.day+(a?y(l):6e4*l.getTimezoneOffset()))%W.day;n<i;)r.push(n),c===W.year?n=V(s+t*u,0):c===W.month?n=V(s,d+t*u):a||c!==W.day&&c!==W.week?n+=c*u:n=V(s,d,p+t*u*(c===W.day?1:7)),t++;r.push(n),Ve(Qe(r,function(e){return c<=W.hour&&e%W.day===f}),function(e){o[e]="day"})}return r.info=Oe(e,{higherRanks:o,totalRange:c*u}),r},lt.prototype.normalizeTimeTickInterval=function(e,t){var i,n=t||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],s=n[n.length-1],r=W[s[0]],o=s[1];for(i=0;i<n.length&&(s=n[i],r=W[s[0]],o=s[1],!(n[i+1]&&e<=(r*o[o.length-1]+W[n[i+1][0]])/2));i++);return r===W.year&&e<5*r&&(o=[1,2,5]),n=C(e/r,o,"year"===s[0]?ge(k(e/r),1):1),{unitRange:r,count:n,unitName:s[0]}},lt.prototype.getLogTickPositions=function(e,t,i,n){var s=this.options,r=this.len,o=[];if(n||(this._minorAutoInterval=null),e>=.5)e=he(e),o=this.getLinearTickPositions(e,t,i);else if(e>=.08)for(var a,l,d,h,p,r=pe(t),s=e>.3?[1,2,4]:e>.15?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];r<i+1&&!p;r++)for(l=s.length,a=0;a<l&&!p;a++)d=c(u(r)*s[a]),d>t&&(!n||h<=i)&&h!==M&&o.push(h),h>i&&(p=!0),h=d;else t=u(t),i=u(i),e=s[n?"minorTickInterval":"tickInterval"],e=je("auto"===e?null:e,this._minorAutoInterval,(i-t)*(s.tickPixelInterval/(n?5:1))/((n?r/this.tickPositions.length:r)||1)),e=C(e,null,k(e)),o=Ke(this.getLinearTickPositions(e,t,i),c),n||(this._minorAutoInterval=e/5);return n||(this.tickInterval=e),o};var ct=le.Tooltip=function(){this.init.apply(this,arguments)};ct.prototype={init:function(e,t){var i=t.borderWidth,n=t.style,r=s(n.padding);this.chart=e,this.options=t,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.label=e.renderer.label("",0,0,t.shape||"callout",null,null,t.useHTML,null,"tooltip").attr({padding:r,fill:t.backgroundColor,"stroke-width":i,r:t.borderRadius,zIndex:8}).css(n).css({padding:0}).add().attr({y:-9999}),qe||this.label.shadow(t.shadow),this.shared=t.shared},destroy:function(){this.label&&(this.label=this.label.destroy()),clearTimeout(this.hideTimer),clearTimeout(this.tooltipTimeout)},move:function(e,t,i,n){var s=this,r=s.now,o=s.options.animation!==!1&&!s.isHidden&&(ve(e-r.x)>1||ve(t-r.y)>1),a=s.followPointer||s.len>1;Oe(r,{x:o?(2*r.x+e)/3:e,y:o?(r.y+t)/2:t,anchorX:a?M:o?(2*r.anchorX+i)/3:i,anchorY:a?M:o?(r.anchorY+n)/2:n}),s.label.attr(r),o&&(clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){s&&s.move(e,t,i,n)},32))},hide:function(e){var t=this;clearTimeout(this.hideTimer),e=je(e,this.options.hideDelay,500),this.isHidden||(this.hideTimer=g(function(){t.label[e?"fadeOut":"hide"](),t.isHidden=!0},e))},getAnchor:function(e,t){var i,n,s,r=this.chart,o=r.inverted,a=r.plotTop,l=r.plotLeft,c=0,u=0,e=f(e);return i=e[0].tooltipPos,this.followPointer&&t&&(t.chartX===M&&(t=r.pointer.normalize(t)),i=[t.chartX-r.plotLeft,t.chartY-a]),i||(Ve(e,function(e){n=e.series.yAxis,s=e.series.xAxis,c+=e.plotX+(!o&&s?s.left-l:0),u+=(e.plotLow?(e.plotLow+e.plotHigh)/2:e.plotY)+(!o&&n?n.top-a:0)}),c/=e.length,u/=e.length,i=[o?r.plotWidth-u:c,this.shared&&!o&&e.length>1&&t?t.chartY-a:o?r.plotHeight-c:u]),Ke(i,he)},getPosition:function(e,t,i){var n,s=this.chart,r=this.distance,o={},a=i.h||0,l=["y",s.chartHeight,t,i.plotY+s.plotTop,s.plotTop,s.plotTop+s.plotHeight],c=["x",s.chartWidth,e,i.plotX+s.plotLeft,s.plotLeft,s.plotLeft+s.plotWidth],u=je(i.ttBelow,s.inverted&&!i.negative||!s.inverted&&i.negative),d=function(e,t,i,n,s,l){var c=i<n-r,d=n+r+i<t,h=n-r-i;if(n+=r,u&&d)o[e]=n;else if(!u&&c)o[e]=h;else if(c)o[e]=me(l-i,h-a<0?h:h-a);else{if(!d)return!1;o[e]=ge(s,n+a+i>t?n:n+a)}},h=function(e,t,i,n){var s;return n<r||n>t-r?s=!1:o[e]=n<i/2?1:n>t-i/2?t-i-2:n-i/2,s},p=function(e){var t=l;l=c,c=t,n=e},f=function(){d.apply(0,l)!==!1?h.apply(0,c)===!1&&!n&&(p(!0),f()):n?o.x=o.y=0:(p(!0),f())};return(s.inverted||this.len>1)&&p(),f(),o},defaultFormatter:function(e){var t,i=this.points||f(this);return t=[e.tooltipFooterHeaderFormatter(i[0])],t=t.concat(e.bodyFormatter(i)),t.push(e.tooltipFooterHeaderFormatter(i[0],!0)),t.join("")},refresh:function(e,t){var i,n,s,r,o=this.chart,a=this.label,l=this.options,c={},u=[];r=l.formatter||this.defaultFormatter;var d,c=o.hoverPoints,h=this.shared;clearTimeout(this.hideTimer),this.followPointer=f(e)[0].series.tooltipOptions.followPointer,s=this.getAnchor(e,t),i=s[0],n=s[1],!h||e.series&&e.series.noSharedTooltip?c=e.getLabelConfig():(o.hoverPoints=e,c&&Ve(c,function(e){e.setState()}),Ve(e,function(e){e.setState("hover"),u.push(e.getLabelConfig())}),c={x:e[0].category,y:e[0].y},c.points=u,this.len=u.length,e=e[0]),r=r.call(c,this),c=e.series,this.distance=je(c.tooltipOptions.distance,16),r===!1?this.hide():(this.isHidden&&(tt(a),a.attr("opacity",1).show()),a.attr({text:r}),d=l.borderColor||e.color||c.color||"#606060",a.attr({stroke:d}),this.updatePosition({plotX:i,plotY:n,negative:e.negative,ttBelow:e.ttBelow,h:s[2]||0}),this.isHidden=!1),Je(o,"tooltipRefresh",{text:r,x:i+o.plotLeft,y:n+o.plotTop,borderColor:d})},updatePosition:function(e){var t=this.chart,i=this.label,i=(this.options.positioner||this.getPosition).call(this,i.width,i.height,e);this.move(he(i.x),he(i.y||0),e.plotX+t.plotLeft,e.plotY+t.plotTop)},getXDateFormat:function(e,t,i){var n,s,r,t=t.dateTimeLabelFormats,o=i&&i.closestPointRange,a={millisecond:15,second:12,minute:9,hour:6,day:3},l="millisecond";if(o){r=j("%m-%d %H:%M:%S.%L",e.x);for(s in W){if(o===W.week&&+j("%w",e.x)===i.options.startOfWeek&&"00:00:00.000"===r.substr(6)){s="week";break}if(W[s]>o){s=l;break}if(a[s]&&r.substr(a[s])!=="01-01 00:00:00.000".substr(a[s]))break;"week"!==s&&(l=s)}s&&(n=t[s])}else n=t.day;return n||t.year},tooltipFooterHeaderFormatter:function(e,t){var i=t?"footer":"header",n=e.series,s=n.tooltipOptions,r=s.xDateFormat,o=n.xAxis,a=o&&"datetime"===o.options.type&&l(e.key),i=s[i+"Format"];return a&&!r&&(r=this.getXDateFormat(e,s,o)),a&&r&&(i=i.replace("{point.key}","{point.key:"+r+"}")),A(i,{point:e,series:n})},bodyFormatter:function(e){return Ke(e,function(e){var t=e.series.tooltipOptions;return(t.pointFormatter||e.point.tooltipFormatter).call(e.point,t.pointFormat)})}};var ut;H=ue.documentElement.ontouchstart!==M;var dt=le.Pointer=function(e,t){this.init(e,t)};if(dt.prototype={init:function(e,t){var i,n=t.chart,s=n.events,r=qe?"":n.zoomType,n=e.inverted;this.options=t,this.chart=e,this.zoomX=i=/x/.test(r),this.zoomY=r=/y/.test(r),this.zoomHor=i&&!n||r&&n,this.zoomVert=r&&!n||i&&n,this.hasZoom=i||r,this.runChartClick=s&&!!s.click,this.pinchDown=[],this.lastValidTouch={},le.Tooltip&&t.tooltip.enabled&&(e.tooltip=new ct(e,t.tooltip),this.followTouchMove=je(t.tooltip.followTouchMove,!0)),this.setDOMEvents()},normalize:function(e,t){var i,n,e=e||window.event,e=Ze(e);return e.target||(e.target=e.srcElement),n=e.touches?e.touches.length?e.touches.item(0):e.changedTouches[0]:e,t||(this.chartPosition=t=Ge(this.chart.container)),n.pageX===M?(i=ge(e.x,e.clientX-t.left),n=e.y):(i=n.pageX-t.left,n=n.pageY-t.top),Oe(e,{chartX:he(i),chartY:he(n)})},getCoordinates:function(e){var t={xAxis:[],yAxis:[]};return Ve(this.chart.axes,function(i){t[i.isXAxis?"xAxis":"yAxis"].push({axis:i,value:i.toValue(e[i.horiz?"chartX":"chartY"])})}),t},runPointActions:function(e){var t,i,n,s,r,o,a=this.chart,l=a.series,c=a.tooltip,u=!!c&&c.shared,d=a.hoverPoint,h=a.hoverSeries,p=Number.MAX_VALUE,f=[];if(!u&&!h)for(t=0;t<l.length;t++)!l[t].directTouch&&l[t].options.stickyTracking||(l=[]);if(h&&(u?h.noSharedTooltip:h.directTouch)&&d?r=d:(Ve(l,function(t){i=t.noSharedTooltip&&u,n=!u&&t.directTouch,t.visible&&!i&&!n&&je(t.options.enableMouseTracking,!0)&&(o=t.searchPoint(e,!i&&1===t.kdDimensions))&&f.push(o)}),Ve(f,function(e){s=u||1!==e.series.kdDimensions?e.distX:e.dist,e&&"number"==typeof s&&s<p&&(p=s,r=e)})),r&&(r!==this.prevKDPoint||c&&c.isHidden)){if(u&&!r.series.noSharedTooltip){for(t=f.length;t--;)(f[t].clientX!==r.clientX||f[t].series.noSharedTooltip)&&f.splice(t,1);f.length&&c&&c.refresh(f,e),Ve(f,function(t){t.onMouseOver(e,t!==(h&&h.directTouch&&d||r))})}else c&&c.refresh(r,e),h&&h.directTouch||r.onMouseOver(e);this.prevKDPoint=r}else l=h&&h.tooltipOptions.followPointer,c&&l&&!c.isHidden&&(l=c.getAnchor([{}],e),c.updatePosition({plotX:l[0],plotY:l[1]}));this._onDocumentMouseMove||(this._onDocumentMouseMove=function(e){Le[ut]&&Le[ut].pointer.onDocumentMouseMove(e)},Ye(ue,"mousemove",this._onDocumentMouseMove)),Ve(a.axes,function(t){t.drawCrosshair(e,je(r,d));
})},reset:function(e,t){var i=this.chart,n=i.hoverSeries,s=i.hoverPoint,r=i.hoverPoints,o=i.tooltip,a=o&&o.shared?r:s;(e=e&&o&&a)&&Ve(f(a),function(t){void 0===t.plotX&&(e=!1)}),e?(o.refresh(a),s&&(s.setState(s.state,!0),Ve(i.axes,function(e){je(e.options.crosshair&&e.options.crosshair.snap,!0)?e.drawCrosshair(null,s):e.hideCrosshair()}))):(s&&s.onMouseOut(),r&&Ve(r,function(e){e.setState()}),n&&n.onMouseOut(),o&&o.hide(t),this._onDocumentMouseMove&&(Xe(ue,"mousemove",this._onDocumentMouseMove),this._onDocumentMouseMove=null),Ve(i.axes,function(e){e.hideCrosshair()}),this.hoverX=i.hoverPoints=i.hoverPoint=null)},scaleGroups:function(e,t){var i,n=this.chart;Ve(n.series,function(s){i=e||s.getPlotBox(),s.xAxis&&s.xAxis.zoomEnabled&&(s.group.attr(i),s.markerGroup&&(s.markerGroup.attr(i),s.markerGroup.clip(t?n.clipRect:null)),s.dataLabelsGroup&&s.dataLabelsGroup.attr(i))}),n.clipRect.attr(t||n.clipBox)},dragStart:function(e){var t=this.chart;t.mouseIsDown=e.type,t.cancelClick=!1,t.mouseDownX=this.mouseDownX=e.chartX,t.mouseDownY=this.mouseDownY=e.chartY},drag:function(e){var t,i=this.chart,n=i.options.chart,s=e.chartX,r=e.chartY,o=this.zoomHor,a=this.zoomVert,l=i.plotLeft,c=i.plotTop,u=i.plotWidth,d=i.plotHeight,h=this.selectionMarker,p=this.mouseDownX,f=this.mouseDownY,g=n.panKey&&e[n.panKey+"Key"];h&&h.touch||(s<l?s=l:s>l+u&&(s=l+u),r<c?r=c:r>c+d&&(r=c+d),this.hasDragged=Math.sqrt(Math.pow(p-s,2)+Math.pow(f-r,2)),this.hasDragged>10&&(t=i.isInsidePlot(p-l,f-c),i.hasCartesianSeries&&(this.zoomX||this.zoomY)&&t&&!g&&!h&&(this.selectionMarker=h=i.renderer.rect(l,c,o?1:u,a?1:d,0).attr({fill:n.selectionMarkerFill||"rgba(69,114,167,0.25)",zIndex:7}).add()),h&&o&&(s-=p,h.attr({width:ve(s),x:(s>0?0:s)+p})),h&&a&&(s=r-f,h.attr({height:ve(s),y:(s>0?0:s)+f})),t&&!h&&n.panning&&i.pan(e,n.panning)))},drop:function(e){var t=this,i=this.chart,n=this.hasPinched;if(this.selectionMarker){var s,r={xAxis:[],yAxis:[],originalEvent:e.originalEvent||e},o=this.selectionMarker,a=o.attr?o.attr("x"):o.x,l=o.attr?o.attr("y"):o.y,c=o.attr?o.attr("width"):o.width,u=o.attr?o.attr("height"):o.height;(this.hasDragged||n)&&(Ve(i.axes,function(i){if(i.zoomEnabled&&h(i.min)&&(n||t[{xAxis:"zoomX",yAxis:"zoomY"}[i.coll]])){var o=i.horiz,d="touchend"===e.type?i.minPixelPadding:0,p=i.toValue((o?a:l)+d),o=i.toValue((o?a+c:l+u)-d);r[i.coll].push({axis:i,min:me(p,o),max:ge(p,o)}),s=!0}}),s&&Je(i,"selection",r,function(e){i.zoom(Oe(e,n?{animation:!1}:null))})),this.selectionMarker=this.selectionMarker.destroy(),n&&this.scaleGroups()}i&&(m(i.container,{cursor:i._cursor}),i.cancelClick=this.hasDragged>10,i.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])},onContainerMouseDown:function(e){e=this.normalize(e),e.preventDefault&&e.preventDefault(),this.dragStart(e)},onDocumentMouseUp:function(e){Le[ut]&&Le[ut].pointer.drop(e)},onDocumentMouseMove:function(e){var t=this.chart,i=this.chartPosition,e=this.normalize(e,i);i&&!this.inClass(e.target,"highcharts-tracker")&&!t.isInsidePlot(e.chartX-t.plotLeft,e.chartY-t.plotTop)&&this.reset()},onContainerMouseLeave:function(){var e=Le[ut];e&&(e.pointer.reset(),e.pointer.chartPosition=null)},onContainerMouseMove:function(e){var t=this.chart;ut=t.index,e=this.normalize(e),e.returnValue=!1,"mousedown"===t.mouseIsDown&&this.drag(e),(this.inClass(e.target,"highcharts-tracker")||t.isInsidePlot(e.chartX-t.plotLeft,e.chartY-t.plotTop))&&!t.openMenu&&this.runPointActions(e)},inClass:function(e,t){for(var i;e;){if(i=p(e,"class")){if(i.indexOf(t)!==-1)return!0;if(i.indexOf("highcharts-container")!==-1)return!1}e=e.parentNode}},onTrackerMouseOut:function(e){var t=this.chart.hoverSeries,e=e.relatedTarget||e.toElement;!t||t.options.stickyTracking||this.inClass(e,"highcharts-tooltip")||this.inClass(e,"highcharts-series-"+t.index)||t.onMouseOut()},onContainerClick:function(e){var t=this.chart,i=t.hoverPoint,n=t.plotLeft,s=t.plotTop,e=this.normalize(e);e.originalEvent=e,t.cancelClick||(i&&this.inClass(e.target,"highcharts-tracker")?(Je(i.series,"click",Oe(e,{point:i})),t.hoverPoint&&i.firePointEvent("click",e)):(Oe(e,this.getCoordinates(e)),t.isInsidePlot(e.chartX-n,e.chartY-s)&&Je(t,"click",e)))},setDOMEvents:function(){var e=this,t=e.chart.container;t.onmousedown=function(t){e.onContainerMouseDown(t)},t.onmousemove=function(t){e.onContainerMouseMove(t)},t.onclick=function(t){e.onContainerClick(t)},Ye(t,"mouseleave",e.onContainerMouseLeave),1===Pe&&Ye(ue,"mouseup",e.onDocumentMouseUp),H&&(t.ontouchstart=function(t){e.onContainerTouchStart(t)},t.ontouchmove=function(t){e.onContainerTouchMove(t)},1===Pe&&Ye(ue,"touchend",e.onDocumentTouchEnd))},destroy:function(){var e;Xe(this.chart.container,"mouseleave",this.onContainerMouseLeave),Pe||(Xe(ue,"mouseup",this.onDocumentMouseUp),Xe(ue,"touchend",this.onDocumentTouchEnd)),clearInterval(this.tooltipTimeout);for(e in this)this[e]=null}},Oe(le.Pointer.prototype,{pinchTranslate:function(e,t,i,n,s,r){(this.zoomHor||this.pinchHor)&&this.pinchTranslateDirection(!0,e,t,i,n,s,r),(this.zoomVert||this.pinchVert)&&this.pinchTranslateDirection(!1,e,t,i,n,s,r)},pinchTranslateDirection:function(e,t,i,n,s,r,o,a){var l,c,u,d=this.chart,h=e?"x":"y",p=e?"X":"Y",f="chart"+p,g=e?"width":"height",m=d["plot"+(e?"Left":"Top")],v=a||1,b=d.inverted,w=d.bounds[e?"h":"v"],y=1===t.length,A=t[0][f],k=i[0][f],C=!y&&t[1][f],x=!y&&i[1][f],i=function(){!y&&ve(A-C)>20&&(v=a||ve(k-x)/ve(A-C)),c=(m-k)/v+A,l=d["plot"+(e?"Width":"Height")]/v};i(),t=c,t<w.min?(t=w.min,u=!0):t+l>w.max&&(t=w.max-l,u=!0),u?(k-=.8*(k-o[h][0]),y||(x-=.8*(x-o[h][1])),i()):o[h]=[k,x],b||(r[h]=c-m,r[g]=l),r=b?1/v:v,s[g]=l,s[h]=t,n[b?e?"scaleY":"scaleX":"scale"+p]=v,n["translate"+p]=r*m+(k-r*A)},pinch:function(e){var t=this,i=t.chart,n=t.pinchDown,s=e.touches,r=s.length,o=t.lastValidTouch,a=t.hasZoom,l=t.selectionMarker,c={},u=1===r&&(t.inClass(e.target,"highcharts-tracker")&&i.runTrackerClick||t.runChartClick),d={};r>1&&(t.initiated=!0),a&&t.initiated&&!u&&e.preventDefault(),Ke(s,function(e){return t.normalize(e)}),"touchstart"===e.type?(Ve(s,function(e,t){n[t]={chartX:e.chartX,chartY:e.chartY}}),o.x=[n[0].chartX,n[1]&&n[1].chartX],o.y=[n[0].chartY,n[1]&&n[1].chartY],Ve(i.axes,function(e){if(e.zoomEnabled){var t=i.bounds[e.horiz?"h":"v"],n=e.minPixelPadding,s=e.toPixels(je(e.options.min,e.dataMin)),r=e.toPixels(je(e.options.max,e.dataMax)),o=me(s,r),s=ge(s,r);t.min=me(e.pos,o-n),t.max=ge(e.pos+e.len,s+n)}}),t.res=!0):n.length&&(l||(t.selectionMarker=l=Oe({destroy:Be,touch:!0},i.plotBox)),t.pinchTranslate(n,s,c,l,d,o),t.hasPinched=a,t.scaleGroups(c,d),!a&&t.followTouchMove&&1===r?this.runPointActions(t.normalize(e)):t.res&&(t.res=!1,this.reset(!1,0)))},touch:function(e,t){var i=this.chart;ut=i.index,1===e.touches.length?(e=this.normalize(e),i.isInsidePlot(e.chartX-i.plotLeft,e.chartY-i.plotTop)&&!i.openMenu?(t&&this.runPointActions(e),this.pinch(e)):t&&this.reset()):2===e.touches.length&&this.pinch(e)},onContainerTouchStart:function(e){this.touch(e,!0)},onContainerTouchMove:function(e){this.touch(e)},onDocumentTouchEnd:function(e){Le[ut]&&Le[ut].pointer.drop(e)}}),ce.PointerEvent||ce.MSPointerEvent){var ht={},pt=!!ce.PointerEvent,ft=function(){var e,t=[];t.item=function(e){return this[e]};for(e in ht)ht.hasOwnProperty(e)&&t.push({pageX:ht[e].pageX,pageY:ht[e].pageY,target:ht[e].target});return t},gt=function(e,t,i,n){e=e.originalEvent||e,"touch"!==e.pointerType&&e.pointerType!==e.MSPOINTER_TYPE_TOUCH||!Le[ut]||(n(e),n=Le[ut].pointer,n[t]({type:i,target:e.currentTarget,preventDefault:Be,touches:ft()}))};Oe(dt.prototype,{onContainerPointerDown:function(e){gt(e,"onContainerTouchStart","touchstart",function(e){ht[e.pointerId]={pageX:e.pageX,pageY:e.pageY,target:e.currentTarget}})},onContainerPointerMove:function(e){gt(e,"onContainerTouchMove","touchmove",function(e){ht[e.pointerId]={pageX:e.pageX,pageY:e.pageY},ht[e.pointerId].target||(ht[e.pointerId].target=e.currentTarget)})},onDocumentPointerUp:function(e){gt(e,"onDocumentTouchEnd","touchend",function(e){delete ht[e.pointerId]})},batchMSEvents:function(e){e(this.chart.container,pt?"pointerdown":"MSPointerDown",this.onContainerPointerDown),e(this.chart.container,pt?"pointermove":"MSPointerMove",this.onContainerPointerMove),e(ue,pt?"pointerup":"MSPointerUp",this.onDocumentPointerUp)}}),Ne(dt.prototype,"init",function(e,t,i){e.call(this,t,i),this.hasZoom&&m(t.container,{"-ms-touch-action":"none","touch-action":"none"})}),Ne(dt.prototype,"setDOMEvents",function(e){e.apply(this),(this.hasZoom||this.followTouchMove)&&this.batchMSEvents(Ye)}),Ne(dt.prototype,"destroy",function(e){this.batchMSEvents(Xe),e.call(this)})}var mt=le.Legend=function(e,t){this.init(e,t)};mt.prototype={init:function(e,t){var i=this,s=t.itemStyle,r=t.itemMarginTop||0;this.options=t,t.enabled&&(i.itemStyle=s,i.itemHiddenStyle=n(s,t.itemHiddenStyle),i.itemMarginTop=r,i.padding=s=je(t.padding,8),i.initialItemX=s,i.initialItemY=s-5,i.maxItemWidth=0,i.chart=e,i.itemHeight=0,i.symbolWidth=je(t.symbolWidth,16),i.pages=[],i.render(),Ye(i.chart,"endResize",function(){i.positionCheckboxes()}))},colorizeItem:function(e,t){var i,n=this.options,s=e.legendItem,r=e.legendLine,o=e.legendSymbol,a=this.itemHiddenStyle.color,n=t?n.itemStyle.color:a,l=t?e.legendColor||e.color||"#CCC":a,a=e.options&&e.options.marker,c={fill:l};if(s&&s.css({fill:n,color:n}),r&&r.attr({stroke:l}),o){if(a&&o.isMarker)for(i in c.stroke=l,a=e.convertAttribs(a))s=a[i],s!==M&&(c[i]=s);o.attr(c)}},positionItem:function(e){var t=this.options,i=t.symbolPadding,t=!t.rtl,n=e._legendItemPos,s=n[0],n=n[1],r=e.checkbox;(e=e.legendGroup)&&e.element&&e.translate(t?s:this.legendWidth-s-2*i-4,n),r&&(r.x=s,r.y=n)},destroyItem:function(e){var t=e.checkbox;Ve(["legendItem","legendLine","legendSymbol","legendGroup"],function(t){e[t]&&(e[t]=e[t].destroy())}),t&&F(e.checkbox)},destroy:function(){var e=this.group,t=this.box;t&&(this.box=t.destroy()),e&&(this.group=e.destroy())},positionCheckboxes:function(e){var t,i=this.group.alignAttr,n=this.clipHeight||this.legendHeight;i&&(t=i.translateY,Ve(this.allItems,function(s){var r,o=s.checkbox;o&&(r=t+o.y+(e||0)+3,m(o,{left:i.translateX+s.checkboxOffset+o.x-20+"px",top:r+"px",display:r>t-6&&r<t+n-6?"":"none"}))}))},renderTitle:function(){var e=this.padding,t=this.options.title,i=0;t.text&&(this.title||(this.title=this.chart.renderer.label(t.text,e-3,e-4,null,null,null,null,null,"legend-title").attr({zIndex:1}).css(t.style).add(this.group)),e=this.title.getBBox(),i=e.height,this.offsetWidth=e.width,this.contentGroup.attr({translateY:i})),this.titleHeight=i},setText:function(e){var t=this.options;e.legendItem.attr({text:t.labelFormat?A(t.labelFormat,e):t.labelFormatter.call(e)})},renderItem:function(e){var t=this.chart,i=t.renderer,s=this.options,r="horizontal"===s.layout,o=this.symbolWidth,a=s.symbolPadding,l=this.itemStyle,c=this.itemHiddenStyle,u=this.padding,d=r?je(s.itemDistance,20):0,h=!s.rtl,p=s.width,f=s.itemMarginBottom||0,g=this.itemMarginTop,m=this.initialItemX,v=e.legendItem,b=e.series&&e.series.drawLegendSymbol?e.series:e,w=b.options,w=this.createCheckboxForItem&&w&&w.showCheckbox,y=s.useHTML;v||(e.legendGroup=i.g("legend-item").attr({zIndex:1}).add(this.scrollGroup),e.legendItem=v=i.text("",h?o+a:-a,this.baseline||0,y).css(n(e.visible?l:c)).attr({align:h?"left":"right",zIndex:2}).add(e.legendGroup),this.baseline||(this.fontMetrics=i.fontMetrics(l.fontSize,v),this.baseline=this.fontMetrics.f+3+g,v.attr("y",this.baseline)),b.drawLegendSymbol(this,e),this.setItemEvents&&this.setItemEvents(e,v,y,l,c),this.colorizeItem(e,e.visible),w&&this.createCheckboxForItem(e)),this.setText(e),i=v.getBBox(),o=e.checkboxOffset=s.itemWidth||e.legendItemWidth||o+a+i.width+d+(w?20:0),this.itemHeight=a=he(e.legendItemHeight||i.height),r&&this.itemX-m+o>(p||t.chartWidth-2*u-m-s.x)&&(this.itemX=m,this.itemY+=g+this.lastLineHeight+f,this.lastLineHeight=0),this.maxItemWidth=ge(this.maxItemWidth,o),this.lastItemY=g+this.itemY+f,this.lastLineHeight=ge(a,this.lastLineHeight),e._legendItemPos=[this.itemX,this.itemY],r?this.itemX+=o:(this.itemY+=g+a+f,this.lastLineHeight=a),this.offsetWidth=p||ge((r?this.itemX-m-d:o)+u,this.offsetWidth)},getAllItems:function(){var e=[];return Ve(this.chart.series,function(t){var i=t.options;je(i.showInLegend,!h(i.linkedTo)&&M,!0)&&(e=e.concat(t.legendItems||("point"===i.legendType?t.data:t)))}),e},adjustMargins:function(e,t){var i=this.chart,n=this.options,s=n.align.charAt(0)+n.verticalAlign.charAt(0)+n.layout.charAt(0);this.display&&!n.floating&&Ve([/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/],function(r,o){r.test(s)&&!h(e[o])&&(i[He[o]]=ge(i[He[o]],i.legend[(o+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][o]*n[o%2?"x":"y"]+je(n.margin,12)+t[o]))})},render:function(){var e,t,i,n,s=this,r=s.chart,o=r.renderer,a=s.group,l=s.box,c=s.options,u=s.padding,d=c.borderWidth,h=c.backgroundColor;s.itemX=s.initialItemX,s.itemY=s.initialItemY,s.offsetWidth=0,s.lastItemY=0,a||(s.group=a=o.g("legend").attr({zIndex:7}).add(),s.contentGroup=o.g().attr({zIndex:1}).add(a),s.scrollGroup=o.g().add(s.contentGroup)),s.renderTitle(),e=s.getAllItems(),x(e,function(e,t){return(e.options&&e.options.legendIndex||0)-(t.options&&t.options.legendIndex||0)}),c.reversed&&e.reverse(),s.allItems=e,s.display=t=!!e.length,s.lastLineHeight=0,Ve(e,function(e){s.renderItem(e)}),i=(c.width||s.offsetWidth)+u,n=s.lastItemY+s.lastLineHeight+s.titleHeight,n=s.handleOverflow(n),n+=u,(d||h)&&(l?i>0&&n>0&&(l[l.isNew?"attr":"animate"](l.crisp({width:i,height:n})),l.isNew=!1):(s.box=l=o.rect(0,0,i,n,c.borderRadius,d||0).attr({stroke:c.borderColor,"stroke-width":d||0,fill:h||"none"}).add(a).shadow(c.shadow),l.isNew=!0),l[t?"show":"hide"]()),s.legendWidth=i,s.legendHeight=n,Ve(e,function(e){s.positionItem(e)}),t&&a.align(Oe({width:i,height:n},c),!0,"spacingBox"),r.isResizing||this.positionCheckboxes()},handleOverflow:function(e){var t,i,n=this,s=this.chart,r=s.renderer,o=this.options,a=o.y,a=s.spacingBox.height+("top"===o.verticalAlign?-a:a)-this.padding,l=o.maxHeight,c=this.clipRect,u=o.navigation,d=je(u.animation,!0),h=u.arrowSize||12,p=this.nav,f=this.pages,g=this.padding,m=this.allItems,v=function(e){c.attr({height:e}),n.contentGroup.div&&(n.contentGroup.div.style.clip="rect("+g+"px,9999px,"+(g+e)+"px,0)")};return"horizontal"===o.layout&&(a/=2),l&&(a=me(a,l)),f.length=0,e>a?(this.clipHeight=t=ge(a-20-this.titleHeight-g,0),this.currentPage=je(this.currentPage,1),this.fullHeight=e,Ve(m,function(e,n){var s=e._legendItemPos[1],r=he(e.legendItem.getBBox().height),o=f.length;(!o||s-f[o-1]>t&&(i||s)!==f[o-1])&&(f.push(i||s),o++),n===m.length-1&&s+r-f[o-1]>t&&f.push(s),s!==i&&(i=s)}),c||(c=n.clipRect=r.clipRect(0,g,9999,0),n.contentGroup.clip(c)),v(t),p||(this.nav=p=r.g().attr({zIndex:1}).add(this.group),this.up=r.symbol("triangle",0,0,h,h).on("click",function(){n.scroll(-1,d)}).add(p),this.pager=r.text("",15,10).css(u.style).add(p),this.down=r.symbol("triangle-down",0,0,h,h).on("click",function(){n.scroll(1,d)}).add(p)),n.scroll(0),e=a):p&&(v(s.chartHeight),p.hide(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),e},scroll:function(e,t){var i=this.pages,n=i.length,s=this.currentPage+e,r=this.clipHeight,o=this.options.navigation,a=o.activeColor,o=o.inactiveColor,l=this.pager,c=this.padding;s>n&&(s=n),s>0&&(t!==M&&$(t,this.chart),this.nav.attr({translateX:c,translateY:r+this.padding+7+this.titleHeight,visibility:"visible"}),this.up.attr({fill:1===s?o:a}).css({cursor:1===s?"default":"pointer"}),l.attr({text:s+"/"+n}),this.down.attr({x:18+this.pager.getBBox().width,fill:s===n?o:a}).css({cursor:s===n?"default":"pointer"}),i=-i[s-1]+this.initialItemY,this.scrollGroup.animate({translateY:i}),this.currentPage=s,this.positionCheckboxes(i))}},ot=le.LegendSymbolMixin={drawRectangle:function(e,t){var i=e.options.symbolHeight||e.fontMetrics.f;t.legendSymbol=this.chart.renderer.rect(0,e.baseline-i+1,e.symbolWidth,i,e.options.symbolRadius||0).attr({zIndex:3}).add(t.legendGroup)},drawLineMarker:function(e){var t,i=this.options,n=i.marker;t=e.symbolWidth;var s,r=this.chart.renderer,o=this.legendGroup,e=e.baseline-he(.3*e.fontMetrics.b);i.lineWidth&&(s={"stroke-width":i.lineWidth},i.dashStyle&&(s.dashstyle=i.dashStyle),this.legendLine=r.path(["M",0,e,"L",t,e]).attr(s).add(o)),n&&n.enabled!==!1&&(i=n.radius,this.legendSymbol=t=r.symbol(this.symbol,t/2-i,e-i,2*i,2*i).add(o),t.isMarker=!0)}},(/Trident\/7\.0/.test(ke)||Ee)&&Ne(mt.prototype,"positionItem",function(e,t){var i=this,n=function(){t._legendItemPos&&e.call(i,t)};n(),setTimeout(n)}),rt=le.Chart=function(){this.init.apply(this,arguments)},rt.prototype={callbacks:[],init:function(e,t){var i,s=e.series;e.series=null,i=n(O,e),i.series=e.series=s,this.userOptions=e,s=i.chart,this.margin=this.splashArray("margin",s),this.spacing=this.splashArray("spacing",s);var r=s.events;this.bounds={h:{},v:{}},this.callback=t,this.isResizing=0,this.options=i,this.axes=[],this.series=[],this.hasCartesianSeries=s.showAxes;var o,a=this;if(a.index=Le.length,Le.push(a),Pe++,s.reflow!==!1&&Ye(a,"load",function(){a.initReflow()}),r)for(o in r)Ye(a,o,r[o]);a.xAxis=[],a.yAxis=[],a.animation=!qe&&je(s.animation,!0),a.pointCount=a.colorCounter=a.symbolCounter=0,a.firstRender()},initSeries:function(e){var i=this.options.chart;return(i=ze[e.type||i.type||i.defaultSeriesType])||t(17,!0),i=new i,i.init(this,e),i},isInsidePlot:function(e,t,i){var n=i?t:e,e=i?e:t;return n>=0&&n<=this.plotWidth&&e>=0&&e<=this.plotHeight},redraw:function(e){var t,i,n=this.axes,s=this.series,r=this.pointer,o=this.legend,a=this.isDirtyLegend,l=this.hasCartesianSeries,c=this.isDirtyBox,u=s.length,d=u,h=this.renderer,p=h.isHidden(),f=[];for($(e,this),p&&this.cloneRenderTo(),this.layOutTitles();d--;)if(e=s[d],e.options.stacking&&(t=!0,e.isDirty)){i=!0;break}if(i)for(d=u;d--;)e=s[d],e.options.stacking&&(e.isDirty=!0);Ve(s,function(e){e.isDirty&&"point"===e.options.legendType&&(e.updateTotals&&e.updateTotals(),a=!0)}),a&&o.options.enabled&&(o.render(),this.isDirtyLegend=!1),t&&this.getStacks(),l&&!this.isResizing&&(this.maxTicks=null,Ve(n,function(e){e.setScale()})),this.getMargins(),l&&(Ve(n,function(e){e.isDirty&&(c=!0)}),Ve(n,function(e){var i=e.min+","+e.max;e.extKey!==i&&(e.extKey=i,f.push(function(){Je(e,"afterSetExtremes",Oe(e.eventArgs,e.getExtremes())),delete e.eventArgs})),(c||t)&&e.redraw()})),c&&this.drawChartBox(),Ve(s,function(e){e.isDirty&&e.visible&&(!e.isCartesian||e.xAxis)&&e.redraw()}),r&&r.reset(!0),h.draw(),Je(this,"redraw"),p&&this.cloneRenderTo(!0),Ve(f,function(e){e.call()})},get:function(e){var t,i,n=this.axes,s=this.series;for(t=0;t<n.length;t++)if(n[t].options.id===e)return n[t];for(t=0;t<s.length;t++)if(s[t].options.id===e)return s[t];for(t=0;t<s.length;t++)for(i=s[t].points||[],n=0;n<i.length;n++)if(i[n].id===e)return i[n];return null},getAxes:function(){var e=this,t=this.options,i=t.xAxis=f(t.xAxis||{}),t=t.yAxis=f(t.yAxis||{});Ve(i,function(e,t){e.index=t,e.isX=!0}),Ve(t,function(e,t){e.index=t}),i=i.concat(t),Ve(i,function(t){new lt(e,t)})},getSelectedPoints:function(){var e=[];return Ve(this.series,function(t){e=e.concat(Qe(t.points||[],function(e){return e.selected}))}),e},getSelectedSeries:function(){return Qe(this.series,function(e){return e.selected})},setTitle:function(e,t,i){var s,r,o=this,a=o.options;r=a.title=n(a.title,e),s=a.subtitle=n(a.subtitle,t),a=s,Ve([["title",e,r],["subtitle",t,a]],function(e){var t=e[0],i=o[t],n=e[1],e=e[2];i&&n&&(o[t]=i=i.destroy()),e&&e.text&&!i&&(o[t]=o.renderer.text(e.text,0,0,e.useHTML).attr({align:e.align,"class":"highcharts-"+t,zIndex:e.zIndex||4}).css(e.style).add())}),o.layOutTitles(i)},layOutTitles:function(e){var t=0,i=this.title,n=this.subtitle,s=this.options,r=s.title,s=s.subtitle,o=this.renderer,a=this.spacingBox.width-44;!i||(i.css({width:(r.width||a)+"px"}).align(Oe({y:o.fontMetrics(r.style.fontSize,i).b-3},r),!1,"spacingBox"),r.floating||r.verticalAlign)||(t=i.getBBox().height),n&&(n.css({width:(s.width||a)+"px"}).align(Oe({y:t+(r.margin-13)+o.fontMetrics(s.style.fontSize,i).b},s),!1,"spacingBox"),!s.floating&&!s.verticalAlign&&(t=fe(t+n.getBBox().height))),i=this.titleOffset!==t,this.titleOffset=t,!this.isDirtyBox&&i&&(this.isDirtyBox=i,this.hasRendered&&je(e,!0)&&this.isDirtyBox&&this.redraw())},getChartSize:function(){var e=this.options.chart,t=e.width,e=e.height,i=this.renderToClone||this.renderTo;h(t)||(this.containerWidth=We(i,"width")),h(e)||(this.containerHeight=We(i,"height")),this.chartWidth=ge(0,t||this.containerWidth||600),this.chartHeight=ge(0,je(e,this.containerHeight>19?this.containerHeight:400))},cloneRenderTo:function(e){var t=this.renderToClone,i=this.container;e?t&&(this.renderTo.appendChild(i),F(t),delete this.renderToClone):(i&&i.parentNode===this.renderTo&&this.renderTo.removeChild(i),this.renderToClone=t=this.renderTo.cloneNode(0),m(t,{position:"absolute",top:"-9999px",display:"block"}),t.style.setProperty&&t.style.setProperty("display","block","important"),ue.body.appendChild(t),i&&t.appendChild(i))},getContainer:function(){var e,i,n,o,a=this.options,l=a.chart;this.renderTo=e=l.renderTo,o="highcharts-"+Te++,r(e)&&(this.renderTo=e=ue.getElementById(e)),e||t(13,!0),i=s(p(e,"data-highcharts-chart")),!isNaN(i)&&Le[i]&&Le[i].hasRendered&&Le[i].destroy(),p(e,"data-highcharts-chart",this.index),e.innerHTML="",!l.skipClone&&!e.offsetWidth&&this.cloneRenderTo(),this.getChartSize(),i=this.chartWidth,n=this.chartHeight,this.container=e=v(Me,{className:"highcharts-container"+(l.className?" "+l.className:""),id:o},Oe({position:"relative",overflow:"hidden",width:i+"px",height:n+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)"},l.style),this.renderToClone||e),this._cursor=e.style.cursor,this.renderer=new(le[l.renderer]||I)(e,i,n,l.style,l.forExport,a.exporting&&a.exporting.allowHTML),qe&&this.renderer.create(this,e,i,n),this.renderer.chartIndex=this.index},getMargins:function(e){var t=this.spacing,i=this.margin,n=this.titleOffset;this.resetMargins(),n&&!h(i[0])&&(this.plotTop=ge(this.plotTop,n+this.options.title.margin+t[0])),this.legend.adjustMargins(i,t),this.extraBottomMargin&&(this.marginBottom+=this.extraBottomMargin),this.extraTopMargin&&(this.plotTop+=this.extraTopMargin),e||this.getAxisMargins()},getAxisMargins:function(){var e=this,t=e.axisOffset=[0,0,0,0],i=e.margin;e.hasCartesianSeries&&Ve(e.axes,function(e){e.visible&&e.getOffset()}),Ve(He,function(n,s){h(i[s])||(e[n]+=t[s])}),e.setChartSize()},reflow:function(e){var t=this,i=t.options.chart,n=t.renderTo,s=i.width||We(n,"width"),r=i.height||We(n,"height"),i=e?e.target:ce;t.hasUserSize||t.isPrinting||!s||!r||i!==ce&&i!==ue||(s===t.containerWidth&&r===t.containerHeight||(clearTimeout(t.reflowTimeout),t.reflowTimeout=g(function(){t.container&&(t.setSize(s,r,!1),t.hasUserSize=null)},e?100:0)),t.containerWidth=s,t.containerHeight=r)},initReflow:function(){var e=this,t=function(t){e.reflow(t)};Ye(ce,"resize",t),Ye(e,"destroy",function(){Xe(ce,"resize",t)})},setSize:function(e,t,i){var n,s,r=this,o=r.renderer;r.isResizing+=1,$(i,r),r.oldChartHeight=r.chartHeight,r.oldChartWidth=r.chartWidth,h(e)&&(r.chartWidth=n=ge(0,he(e)),r.hasUserSize=!!n),h(t)&&(r.chartHeight=s=ge(0,he(t))),e=o.globalAnimation,(e?et:m)(r.container,{width:n+"px",height:s+"px"},e),r.setChartSize(!0),o.setSize(n,s,i),r.maxTicks=null,Ve(r.axes,function(e){e.isDirty=!0,e.setScale()}),Ve(r.series,function(e){e.isDirty=!0}),r.isDirtyLegend=!0,r.isDirtyBox=!0,r.layOutTitles(),r.getMargins(),r.redraw(i),r.oldChartHeight=null,Je(r,"resize"),e=o.globalAnimation,g(function(){r&&Je(r,"endResize",null,function(){r.isResizing-=1})},e===!1?0:e&&e.duration||500)},setChartSize:function(e){var t,i,n,s,r=this.inverted,o=this.renderer,a=this.chartWidth,l=this.chartHeight,c=this.options.chart,u=this.spacing,d=this.clipOffset;this.plotLeft=t=he(this.plotLeft),this.plotTop=i=he(this.plotTop),this.plotWidth=n=ge(0,he(a-t-this.marginRight)),this.plotHeight=s=ge(0,he(l-i-this.marginBottom)),this.plotSizeX=r?s:n,this.plotSizeY=r?n:s,this.plotBorderWidth=c.plotBorderWidth||0,this.spacingBox=o.spacingBox={x:u[3],y:u[0],width:a-u[3]-u[1],height:l-u[0]-u[2]},this.plotBox=o.plotBox={x:t,y:i,width:n,height:s},a=2*pe(this.plotBorderWidth/2),r=fe(ge(a,d[3])/2),o=fe(ge(a,d[0])/2),this.clipBox={x:r,y:o,width:pe(this.plotSizeX-ge(a,d[1])/2-r),height:ge(0,pe(this.plotSizeY-ge(a,d[2])/2-o))},e||Ve(this.axes,function(e){e.setAxisSize(),e.setAxisTranslation()})},resetMargins:function(){var e=this;Ve(He,function(t,i){e[t]=je(e.margin[i],e.spacing[i])}),e.axisOffset=[0,0,0,0],e.clipOffset=[0,0,0,0]},drawChartBox:function(){var e,t=this.options.chart,i=this.renderer,n=this.chartWidth,s=this.chartHeight,r=this.chartBackground,o=this.plotBackground,a=this.plotBorder,l=this.plotBGImage,c=t.borderWidth||0,u=t.backgroundColor,d=t.plotBackgroundColor,h=t.plotBackgroundImage,p=t.plotBorderWidth||0,f=this.plotLeft,g=this.plotTop,m=this.plotWidth,v=this.plotHeight,b=this.plotBox,w=this.clipRect,y=this.clipBox;e=c+(t.shadow?8:0),(c||u)&&(r?r.animate(r.crisp({width:n-e,height:s-e})):(r={fill:u||"none"},c&&(r.stroke=t.borderColor,r["stroke-width"]=c),this.chartBackground=i.rect(e/2,e/2,n-e,s-e,t.borderRadius,c).attr(r).addClass("highcharts-background").add().shadow(t.shadow))),d&&(o?o.animate(b):this.plotBackground=i.rect(f,g,m,v,0).attr({fill:d}).add().shadow(t.plotShadow)),h&&(l?l.animate(b):this.plotBGImage=i.image(h,f,g,m,v).add()),w?w.animate({width:y.width,height:y.height}):this.clipRect=i.clipRect(y),p&&(a?a.animate(a.crisp({x:f,y:g,width:m,height:v,strokeWidth:-p})):this.plotBorder=i.rect(f,g,m,v,0,-p).attr({stroke:t.plotBorderColor,"stroke-width":p,fill:"none",zIndex:1}).add()),this.isDirtyBox=!1},propFromSeries:function(){var e,t,i,n=this,s=n.options.chart,r=n.options.series;Ve(["inverted","angular","polar"],function(o){for(e=ze[s.type||s.defaultSeriesType],i=n[o]||s[o]||e&&e.prototype[o],t=r&&r.length;!i&&t--;)(e=ze[r[t].type])&&e.prototype[o]&&(i=!0);n[o]=i})},linkSeries:function(){var e=this,t=e.series;Ve(t,function(e){e.linkedSeries.length=0}),Ve(t,function(t){var i=t.options.linkedTo;r(i)&&(i=":previous"===i?e.series[t.index-1]:e.get(i))&&(i.linkedSeries.push(t),t.linkedParent=i,t.visible=je(t.options.visible,i.options.visible,t.visible))})},renderSeries:function(){Ve(this.series,function(e){e.translate(),e.render()})},renderLabels:function(){var e=this,t=e.options.labels;t.items&&Ve(t.items,function(i){var n=Oe(t.style,i.style),r=s(n.left)+e.plotLeft,o=s(n.top)+e.plotTop+12;delete n.left,delete n.top,e.renderer.text(i.html,r,o).attr({zIndex:2}).css(n).add()})},render:function(){var e,t,i,n,s=this.axes,r=this.renderer,o=this.options;this.setTitle(),this.legend=new mt(this,o.legend),this.getStacks&&this.getStacks(),this.getMargins(!0),this.setChartSize(),e=this.plotWidth,t=this.plotHeight-=21,Ve(s,function(e){e.setScale()}),this.getAxisMargins(),i=e/this.plotWidth>1.1,n=t/this.plotHeight>1.05,(i||n)&&(this.maxTicks=null,Ve(s,function(e){(e.horiz&&i||!e.horiz&&n)&&e.setTickInterval(!0)}),this.getMargins()),this.drawChartBox(),this.hasCartesianSeries&&Ve(s,function(e){e.visible&&e.render()}),this.seriesGroup||(this.seriesGroup=r.g("series-group").attr({zIndex:3}).add()),this.renderSeries(),this.renderLabels(),this.showCredits(o.credits),this.hasRendered=!0},showCredits:function(e){e.enabled&&!this.credits&&(this.credits=this.renderer.text(e.text,0,0).on("click",function(){e.href&&(location.href=e.href)}).attr({align:e.position.align,zIndex:8}).css(e.style).add().align(e.position))},destroy:function(){var e,t=this,i=t.axes,n=t.series,s=t.container,r=s&&s.parentNode;for(Je(t,"destroy"),Le[t.index]=M,Pe--,t.renderTo.removeAttribute("data-highcharts-chart"),Xe(t),e=i.length;e--;)i[e]=i[e].destroy();for(e=n.length;e--;)n[e]=n[e].destroy();Ve("title,subtitle,chartBackground,plotBackground,plotBGImage,plotBorder,seriesGroup,clipRect,credits,pointer,scroller,rangeSelector,legend,resetZoomButton,tooltip,renderer".split(","),function(e){var i=t[e];i&&i.destroy&&(t[e]=i.destroy())}),s&&(s.innerHTML="",Xe(s),r&&F(s));for(e in t)delete t[e]},isReadyToRender:function(){var e=this;return!(!De&&ce==ce.top&&"complete"!==ue.readyState||qe&&!ce.canvg)||(qe?at.push(function(){e.firstRender()},e.options.global.canvasToolsURL):ue.attachEvent("onreadystatechange",function(){ue.detachEvent("onreadystatechange",e.firstRender),"complete"===ue.readyState&&e.firstRender()}),!1)},firstRender:function(){var e=this,t=e.options,i=e.callback;e.isReadyToRender()&&(e.getContainer(),Je(e,"init"),e.resetMargins(),e.setChartSize(),e.propFromSeries(),e.getAxes(),Ve(t.series||[],function(t){e.initSeries(t)}),e.linkSeries(),Je(e,"beforeRender"),le.Pointer&&(e.pointer=new dt(e,t)),e.render(),e.renderer.draw(),i&&i.apply(e,[e]),Ve(e.callbacks,function(t){e.index!==M&&t.apply(e,[e])}),Je(e,"load"),e.cloneRenderTo(!0))},splashArray:function(e,t){var i=t[e],i=o(i)?i:[i,i,i,i];return[je(t[e+"Top"],i[0]),je(t[e+"Right"],i[1]),je(t[e+"Bottom"],i[2]),je(t[e+"Left"],i[3])]}};var vt=le.CenteredSeriesMixin={getCenter:function(){var e,t,i=this.options,n=this.chart,s=2*(i.slicedOffset||0),r=n.plotWidth-2*s,n=n.plotHeight-2*s,o=i.center,o=[je(o[0],"50%"),je(o[1],"50%"),i.size||"100%",i.innerSize||0],a=me(r,n);for(e=0;e<4;++e)t=o[e],i=e<2||2===e&&/%$/.test(t),o[e]=(/%$/.test(t)?[r,n,a,o[2]][e]*parseFloat(t)/100:parseFloat(t))+(i?s:0);return o[3]>o[2]&&(o[3]=o[2]),o}},bt=function(){};bt.prototype={init:function(e,t,i){return this.series=e,this.color=e.color,this.applyOptions(t,i),this.pointAttr={},e.options.colorByPoint&&(t=e.options.colors||e.chart.options.colors,this.color=this.color||t[e.colorCounter++],e.colorCounter===t.length)&&(e.colorCounter=0),e.chart.pointCount++,this},applyOptions:function(e,t){var i=this.series,n=i.options.pointValKey||i.pointValKey,e=bt.prototype.optionsToObject.call(this,e);return Oe(this,e),this.options=this.options?Oe(this.options,e):e,n&&(this.y=this[n]),this.x===M&&i&&(this.x=t===M?i.autoIncrement():t),this},optionsToObject:function(e){var t={},i=this.series,n=i.options.keys,s=n||i.pointArrayMap||["y"],r=s.length,o=0,l=0;if("number"==typeof e||null===e)t[s[0]]=e;else if(a(e))for(!n&&e.length>r&&(i=typeof e[0],"string"===i?t.name=e[0]:"number"===i&&(t.x=e[0]),o++);l<r;)n&&void 0===e[o]||(t[s[l]]=e[o]),o++,l++;else"object"==typeof e&&(t=e,e.dataLabels&&(i._hasPointLabels=!0),e.marker&&(i._hasPointMarkers=!0));return t},destroy:function(){var e,t=this.series.chart,i=t.hoverPoints;t.pointCount--,i&&(this.setState(),d(i,this),!i.length)&&(t.hoverPoints=null),this===t.hoverPoint&&this.onMouseOut(),(this.graphic||this.dataLabel)&&(Xe(this),this.destroyElements()),this.legendItem&&t.legend.destroyItem(this);for(e in this)this[e]=null},destroyElements:function(){for(var e,t=["graphic","dataLabel","dataLabelUpper","connector","shadowGroup"],i=6;i--;)e=t[i],this[e]&&(this[e]=this[e].destroy())},getLabelConfig:function(){return{x:this.category,y:this.y,color:this.color,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},tooltipFormatter:function(e){var t=this.series,i=t.tooltipOptions,n=je(i.valueDecimals,""),s=i.valuePrefix||"",r=i.valueSuffix||"";return Ve(t.pointArrayMap||["y"],function(t){t="{point."+t,(s||r)&&(e=e.replace(t+"}",s+t+"}"+r)),e=e.replace(t+"}",t+":,."+n+"f}")}),A(e,{point:this,series:this.series})},firePointEvent:function(e,t,i){var n=this,s=this.series.options;(s.point.events[e]||n.options&&n.options.events&&n.options.events[e])&&this.importEvents(),"click"===e&&s.allowPointSelect&&(i=function(e){n.select&&n.select(null,e.ctrlKey||e.metaKey||e.shiftKey)}),Je(this,e,t,i)},visible:!0};var wt=le.Series=function(){};wt.prototype={isCartesian:!0,type:"line",pointClass:bt,sorted:!0,requireSorting:!0,pointAttrToOptions:{stroke:"lineColor","stroke-width":"lineWidth",fill:"fillColor",r:"radius"},directTouch:!1,axisTypes:["xAxis","yAxis"],colorCounter:0,parallelArrays:["x","y"],init:function(e,t){var i,n,s=this,r=e.series,o=function(e,t){return je(e.options.index,e._i)-je(t.options.index,t._i);
};s.chart=e,s.options=t=s.setOptions(t),s.linkedSeries=[],s.bindAxes(),Oe(s,{name:t.name,state:"",pointAttr:{},visible:t.visible!==!1,selected:t.selected===!0}),qe&&(t.animation=!1),n=t.events;for(i in n)Ye(s,i,n[i]);(n&&n.click||t.point&&t.point.events&&t.point.events.click||t.allowPointSelect)&&(e.runTrackerClick=!0),s.getColor(),s.getSymbol(),Ve(s.parallelArrays,function(e){s[e+"Data"]=[]}),s.setData(t.data,!1),s.isCartesian&&(e.hasCartesianSeries=!0),r.push(s),s._i=r.length-1,x(r,o),this.yAxis&&x(this.yAxis.series,o),Ve(r,function(e,t){e.index=t,e.name=e.name||"Series "+(t+1)})},bindAxes:function(){var e,i=this,n=i.options,s=i.chart;Ve(i.axisTypes||[],function(r){Ve(s[r],function(t){e=t.options,(n[r]===e.index||n[r]!==M&&n[r]===e.id||n[r]===M&&0===e.index)&&(t.series.push(i),i[r]=t,t.isDirty=!0)}),!i[r]&&i.optionalAxis!==r&&t(18,!0)})},updateParallelArrays:function(e,t){var i=e.series,n=arguments;Ve(i.parallelArrays,"number"==typeof t?function(n){var s="y"===n&&i.toYData?i.toYData(e):e[n];i[n+"Data"][t]=s}:function(e){Array.prototype[t].apply(i[e+"Data"],Array.prototype.slice.call(n,2))})},autoIncrement:function(){var e,t=this.options,i=this.xIncrement,n=t.pointIntervalUnit,i=je(i,t.pointStart,0);return this.pointInterval=e=je(this.pointInterval,t.pointInterval,1),"month"!==n&&"year"!==n||(t=new U(i),t="month"===n?+t[oe](t[Z]()+e):+t[ae](t[ee]()+e),e=t-i),this.xIncrement=i+e,i},getSegments:function(){var e,t=-1,i=[],n=this.points,s=n.length;if(s)if(this.options.connectNulls){for(e=s;e--;)null===n[e].y&&n.splice(e,1);n.length&&(i=[n])}else Ve(n,function(e,r){null===e.y?(r>t+1&&i.push(n.slice(t+1,r)),t=r):r===s-1&&i.push(n.slice(t+1,r+1))});this.segments=i},setOptions:function(e){var t=this.chart,i=t.options.plotOptions,t=t.userOptions||{},s=t.plotOptions||{},r=i[this.type];return this.userOptions=e,i=n(r,i.series,e),this.tooltipOptions=n(O.tooltip,O.plotOptions[this.type].tooltip,t.tooltip,s.series&&s.series.tooltip,s[this.type]&&s[this.type].tooltip,e.tooltip),null===r.marker&&delete i.marker,this.zoneAxis=i.zoneAxis,e=this.zones=(i.zones||[]).slice(),!i.negativeColor&&!i.negativeFillColor||i.zones||e.push({value:i[this.zoneAxis+"Threshold"]||i.threshold||0,color:i.negativeColor,fillColor:i.negativeFillColor}),e.length&&h(e[e.length-1].value)&&e.push({color:this.color,fillColor:this.fillColor}),i},getCyclic:function(e,t,i){var n=this.userOptions,s="_"+e+"Index",r=e+"Counter";t||(h(n[s])?t=n[s]:(n[s]=t=this.chart[r]%i.length,this.chart[r]+=1),t=i[t]),this[e]=t},getColor:function(){this.options.colorByPoint?this.options.color=null:this.getCyclic("color",this.options.color||it[this.type].color,this.chart.options.colors)},getSymbol:function(){var e=this.options.marker;this.getCyclic("symbol",e.symbol,this.chart.options.symbols),/^url/.test(this.symbol)&&(e.radius=0)},drawLegendSymbol:ot.drawLineMarker,setData:function(e,i,n,s){var o,c=this,u=c.points,d=u&&u.length||0,p=c.options,f=c.chart,g=null,m=c.xAxis,v=m&&!!m.categories,b=p.turboThreshold,w=this.xData,y=this.yData,A=(o=c.pointArrayMap)&&o.length,e=e||[];if(o=e.length,i=je(i,!0),s!==!1&&o&&d===o&&!c.cropped&&!c.hasGroupedData&&c.visible)Ve(e,function(e,t){u[t].update&&e!==p.data[t]&&u[t].update(e,!1,null,!1)});else{if(c.xIncrement=null,c.colorCounter=0,Ve(this.parallelArrays,function(e){c[e+"Data"].length=0}),b&&o>b){for(n=0;null===g&&n<o;)g=e[n],n++;if(l(g)){for(v=je(p.pointStart,0),g=je(p.pointInterval,1),n=0;n<o;n++)w[n]=v,y[n]=e[n],v+=g;c.xIncrement=v}else if(a(g))if(A)for(n=0;n<o;n++)g=e[n],w[n]=g[0],y[n]=g.slice(1,A+1);else for(n=0;n<o;n++)g=e[n],w[n]=g[0],y[n]=g[1];else t(12)}else for(n=0;n<o;n++)e[n]!==M&&(g={series:c},c.pointClass.prototype.applyOptions.apply(g,[e[n]]),c.updateParallelArrays(g,n),v&&h(g.name))&&(m.names[g.x]=g.name);for(r(y[0])&&t(14,!0),c.data=[],c.options.data=e,n=d;n--;)u[n]&&u[n].destroy&&u[n].destroy();m&&(m.minRange=m.userMinRange),c.isDirty=c.isDirtyData=f.isDirtyBox=!0,n=!1}"point"===p.legendType&&(this.processData(),this.generatePoints()),i&&f.redraw(n)},processData:function(e){var i,n=this.xData,s=this.yData,r=n.length;i=0;var o,a,l,c=this.xAxis,u=this.options;l=u.cropThreshold;var d,h,u=this.getExtremesFromAll||u.getExtremesFromAll,p=this.isCartesian;if(p&&!this.isDirty&&!c.isDirty&&!this.yAxis.isDirty&&!e)return!1;for(c&&(e=c.getExtremes(),d=e.min,h=e.max),p&&this.sorted&&!u&&(!l||r>l||this.forceCrop)&&(n[r-1]<d||n[0]>h?(n=[],s=[]):(n[0]<d||n[r-1]>h)&&(i=this.cropData(this.xData,this.yData,d,h),n=i.xData,s=i.yData,i=i.start,o=!0)),l=n.length-1;l>=0;l--)r=n[l]-n[l-1],r>0&&(a===M||r<a)?a=r:r<0&&this.requireSorting&&t(15);this.cropped=o,this.cropStart=i,this.processedXData=n,this.processedYData=s,this.closestPointRange=a},cropData:function(e,t,i,n){var s,r=e.length,o=0,a=r,l=je(this.cropShoulder,1);for(s=0;s<r;s++)if(e[s]>=i){o=ge(0,s-l);break}for(i=s;i<r;i++)if(e[i]>n){a=i+l;break}return{xData:e.slice(o,a),yData:t.slice(o,a),start:o,end:a}},generatePoints:function(){var e,t,i,n,s=this.options.data,r=this.data,o=this.processedXData,a=this.processedYData,l=this.pointClass,c=o.length,u=this.cropStart||0,d=this.hasGroupedData,h=[];for(r||d||(r=[],r.length=s.length,r=this.data=r),n=0;n<c;n++)t=u+n,d?h[n]=(new l).init(this,[o[n]].concat(f(a[n]))):(r[t]?i=r[t]:s[t]!==M&&(r[t]=i=(new l).init(this,s[t],o[n])),h[n]=i),h[n].index=t;if(r&&(c!==(e=r.length)||d))for(n=0;n<e;n++)n===u&&!d&&(n+=c),r[n]&&(r[n].destroyElements(),r[n].plotX=M);this.data=r,this.points=h},getExtremes:function(e){var t,i=this.yAxis,n=this.processedXData,s=[],r=0;t=this.xAxis.getExtremes();var o,a,l,c,u=t.min,d=t.max,e=e||this.stackedYData||this.processedYData;for(t=e.length,c=0;c<t;c++)if(a=n[c],l=e[c],o=null!==l&&l!==M&&(!i.isLog||l.length||l>0),a=this.getExtremesFromAll||this.options.getExtremesFromAll||this.cropped||(n[c+1]||a)>=u&&(n[c-1]||a)<=d,o&&a)if(o=l.length)for(;o--;)null!==l[o]&&(s[r++]=l[o]);else s[r++]=l;this.dataMin=_(s),this.dataMax=S(s)},translate:function(){this.processedXData||this.processData(),this.generatePoints();for(var e,i,n,s,r=this.options,o=r.stacking,a=this.xAxis,c=a.categories,u=this.yAxis,d=this.points,p=d.length,f=!!this.modifyValue,g=r.pointPlacement,m="between"===g||l(g),v=r.threshold,b=r.startFromThreshold?v:0,w=Number.MAX_VALUE,r=0;r<p;r++){var y=d[r],A=y.x,k=y.y;i=y.low;var C=o&&u.stacks[(this.negStacks&&k<(b?0:v)?"-":"")+this.stackKey];u.isLog&&null!==k&&k<=0&&(y.y=k=null,t(10)),y.plotX=e=me(ge(-1e5,a.translate(A,0,0,0,1,g,"flags"===this.type)),1e5),o&&this.visible&&C&&C[A]&&(s=this.getStackIndicator(s,A,this.index),C=C[A],k=C.points[s.key],i=k[0],k=k[1],i===b&&(i=je(v,u.min)),u.isLog&&i<=0&&(i=null),y.total=y.stackTotal=C.total,y.percentage=C.total&&y.y/C.total*100,y.stackY=k,C.setOffset(this.pointXOffset||0,this.barW||0)),y.yBottom=h(i)?u.translate(i,0,1,0,1):null,f&&(k=this.modifyValue(k,y)),y.plotY=i="number"==typeof k&&k!==1/0?me(ge(-1e5,u.translate(k,0,1,0,1)),1e5):M,y.isInside=i!==M&&i>=0&&i<=u.len&&e>=0&&e<=a.len,y.clientX=m?a.translate(A,0,0,0,1):e,y.negative=y.y<(v||0),y.category=c&&c[y.x]!==M?c[y.x]:y.x,r&&(w=me(w,ve(e-n))),n=e}this.closestPointRangePx=w,this.getSegments()},setClip:function(e){var t=this.chart,i=this.options,n=t.renderer,s=t.inverted,r=this.clipBox,o=r||t.clipBox,a=this.sharedClipKey||["_sharedClip",e&&e.duration,e&&e.easing,o.height,i.xAxis,i.yAxis].join(","),l=t[a],c=t[a+"m"];l||(e&&(o.width=0,t[a+"m"]=c=n.clipRect(-99,s?-t.plotLeft:-t.plotTop,99,s?t.chartWidth:t.chartHeight)),t[a]=l=n.clipRect(o)),e&&(l.count+=1),i.clip!==!1&&(this.group.clip(e||r?l:t.clipRect),this.markerGroup.clip(c),this.sharedClipKey=a),e||(l.count-=1,l.count<=0&&a&&t[a]&&(r||(t[a]=t[a].destroy()),t[a+"m"]&&(t[a+"m"]=t[a+"m"].destroy())))},animate:function(e){var t,i=this.chart,n=this.options.animation;n&&!o(n)&&(n=it[this.type].animation),e?this.setClip(n):(t=this.sharedClipKey,(e=i[t])&&e.animate({width:i.plotSizeX},n),i[t+"m"]&&i[t+"m"].animate({width:i.plotSizeX+99},n),this.animate=null)},afterAnimate:function(){this.setClip(),Je(this,"afterAnimate")},drawPoints:function(){var e,t,i,n,s,r,o,a,l,c,u,d,h=this.points,p=this.chart,f=this.options.marker,g=this.pointAttr[""],m=this.markerGroup,v=je(f.enabled,this.xAxis.isRadial,this.closestPointRangePx>2*f.radius);if(f.enabled!==!1||this._hasPointMarkers)for(n=h.length;n--;)s=h[n],t=pe(s.plotX),i=s.plotY,l=s.graphic,c=s.marker||{},u=!!s.marker,e=v&&c.enabled===M||c.enabled,d=s.isInside,e&&i!==M&&!isNaN(i)&&null!==s.y?(e=s.pointAttr[s.selected?"select":""]||g,r=e.r,o=je(c.symbol,this.symbol),a=0===o.indexOf("url"),l?l[d?"show":"hide"](!0).animate(Oe({x:t-r,y:i-r},l.symbolName?{width:2*r,height:2*r}:{})):d&&(r>0||a)&&(s.graphic=p.renderer.symbol(o,t-r,i-r,2*r,2*r,u?c:f).attr(e).add(m))):l&&(s.graphic=l.destroy())},convertAttribs:function(e,t,i,n){var s,r,o=this.pointAttrToOptions,a={},e=e||{},t=t||{},i=i||{},n=n||{};for(s in o)r=o[s],a[s]=je(e[r],t[s],i[s],n[s]);return a},getAttribs:function(){var e,t=this,i=t.options,n=it[t.type].marker?i.marker:i,s=n.states,r=s.hover,o=t.color,a=t.options.negativeColor;e={stroke:o,fill:o};var l,c,u=t.points||[],d=[],p=t.pointAttrToOptions;l=t.hasPointSpecificOptions;var f=n.lineColor,g=n.fillColor;c=i.turboThreshold;var m,v=t.zones,b=t.zoneAxis||"y";if(i.marker?(r.radius=r.radius||n.radius+r.radiusPlus,r.lineWidth=r.lineWidth||n.lineWidth+r.lineWidthPlus):(r.color=r.color||T(r.color||o).brighten(r.brightness).get(),r.negativeColor=r.negativeColor||T(r.negativeColor||a).brighten(r.brightness).get()),d[""]=t.convertAttribs(n,e),Ve(["hover","select"],function(e){d[e]=t.convertAttribs(s[e],d[""])}),t.pointAttr=d,o=u.length,!c||o<c||l)for(;o--;){if(c=u[o],(n=c.options&&c.options.marker||c.options)&&n.enabled===!1&&(n.radius=0),v.length){for(l=0,e=v[l];c[b]>=e.value;)e=v[++l];c.color=c.fillColor=je(e.color,t.color)}if(l=i.colorByPoint||c.color,c.options)for(m in p)h(n[p[m]])&&(l=!0);l?(n=n||{},l=[],s=n.states||{},e=s.hover=s.hover||{},i.marker&&(!c.negative||e.fillColor||r.fillColor)||(e[t.pointAttrToOptions.fill]=e.color||!c.options.color&&r[c.negative&&a?"negativeColor":"color"]||T(c.color).brighten(e.brightness||r.brightness).get()),e={color:c.color},g||(e.fillColor=c.color),f||(e.lineColor=c.color),n.hasOwnProperty("color")&&!n.color&&delete n.color,l[""]=t.convertAttribs(Oe(e,n),d[""]),l.hover=t.convertAttribs(s.hover,d.hover,l[""]),l.select=t.convertAttribs(s.select,d.select,l[""])):l=d,c.pointAttr=l}},destroy:function(){var e,t,i,n,s=this,r=s.chart,o=/AppleWebKit\/533/.test(ke),a=s.data||[];for(Je(s,"destroy"),Xe(s),Ve(s.axisTypes||[],function(e){(n=s[e])&&(d(n.series,s),n.isDirty=n.forceRedraw=!0)}),s.legendItem&&s.chart.legend.destroyItem(s),e=a.length;e--;)(t=a[e])&&t.destroy&&t.destroy();s.points=null,clearTimeout(s.animationTimeout);for(i in s)s[i]instanceof B&&!s[i].survive&&(e=o&&"group"===i?"hide":"destroy",s[i][e]());r.hoverSeries===s&&(r.hoverSeries=null),d(r.series,s);for(i in s)delete s[i]},getSegmentPath:function(e){var t=this,i=[],n=t.options.step;return Ve(e,function(s,r){var o,a=s.plotX,l=s.plotY;t.getPointSpline?i.push.apply(i,t.getPointSpline(e,s,r)):(i.push(r?"L":"M"),n&&r&&(o=e[r-1],"right"===n?i.push(o.plotX,l,"L"):"center"===n?i.push((o.plotX+a)/2,o.plotY,"L",(o.plotX+a)/2,l,"L"):i.push(a,o.plotY,"L")),i.push(s.plotX,s.plotY))}),i},getGraphPath:function(){var e,t=this,i=[],n=[];return Ve(t.segments,function(s){e=t.getSegmentPath(s),s.length>1?i=i.concat(e):n.push(s[0])}),t.singlePoints=n,t.graphPath=i},drawGraph:function(){var e=this,t=this.options,i=[["graph",t.lineColor||this.color,t.dashStyle]],n=t.lineWidth,s="square"!==t.linecap,r=this.getGraphPath(),o=this.fillGraph&&this.color||"none";Ve(this.zones,function(n,s){i.push(["zoneGraph"+s,n.color||e.color,n.dashStyle||t.dashStyle])}),Ve(i,function(i,a){var l=i[0],c=e[l];c?c.animate({d:r}):(n||o)&&r.length&&(c={stroke:i[1],"stroke-width":n,fill:o,zIndex:1},i[2]?c.dashstyle=i[2]:s&&(c["stroke-linecap"]=c["stroke-linejoin"]="round"),e[l]=e.chart.renderer.path(r).attr(c).add(e.group).shadow(a<2&&t.shadow))})},applyZones:function(){var e,t,i,n,s,r,o,a=this,l=this.chart,c=l.renderer,u=this.zones,d=this.clips||[],h=this.graph,p=this.area,f=ge(l.chartWidth,l.chartHeight),g=this[(this.zoneAxis||"y")+"Axis"],m=g.reversed,v=l.inverted,b=g.horiz,w=!1;u.length&&(h||p)&&g.min!==M&&(h&&h.hide(),p&&p.hide(),n=g.getExtremes(),Ve(u,function(u,y){e=m?b?l.plotWidth:0:b?0:g.toPixels(n.min),e=me(ge(je(t,e),0),f),t=me(ge(he(g.toPixels(je(u.value,n.max),!0)),0),f),w&&(e=t=g.toPixels(n.max)),s=Math.abs(e-t),r=me(e,t),o=ge(e,t),g.isXAxis?(i={x:v?o:r,y:0,width:s,height:f},b||(i.x=l.plotHeight-i.x)):(i={x:0,y:v?o:r,width:f,height:s},b&&(i.y=l.plotWidth-i.y)),l.inverted&&c.isVML&&(i=g.isXAxis?{x:0,y:m?r:o,height:i.width,width:l.chartWidth}:{x:i.y-l.plotLeft-l.spacingBox.x,y:0,width:i.height,height:l.chartHeight}),d[y]?d[y].animate(i):(d[y]=c.clipRect(i),h&&a["zoneGraph"+y].clip(d[y]),p&&a["zoneArea"+y].clip(d[y])),w=u.value>n.max}),this.clips=d)},invertGroups:function(){function e(){var e={width:t.yAxis.len,height:t.xAxis.len};Ve(["group","markerGroup"],function(i){t[i]&&t[i].attr(e).invert()})}var t=this,i=t.chart;t.xAxis&&(Ye(i,"resize",e),Ye(t,"destroy",function(){Xe(i,"resize",e)}),e(),t.invertGroups=e)},plotGroup:function(e,t,i,n,s){var r=this[e],o=!r;return o&&(this[e]=r=this.chart.renderer.g(t).attr({visibility:i,zIndex:n||.1}).add(s),r.addClass("highcharts-series-"+this.index)),r[o?"attr":"animate"](this.getPlotBox()),r},getPlotBox:function(){var e=this.chart,t=this.xAxis,i=this.yAxis;return e.inverted&&(t=i,i=this.xAxis),{translateX:t?t.left:e.plotLeft,translateY:i?i.top:e.plotTop,scaleX:1,scaleY:1}},render:function(){var e,t=this,i=t.chart,n=t.options,s=(e=n.animation)&&!!t.animate&&i.renderer.isSVG&&je(e.duration,500)||0,r=t.visible?"inherit":"hidden",o=n.zIndex,a=t.hasRendered,l=i.seriesGroup;e=t.plotGroup("group","series",r,o,l),t.markerGroup=t.plotGroup("markerGroup","markers",r,o,l),s&&t.animate(!0),t.getAttribs(),e.inverted=!!t.isCartesian&&i.inverted,t.drawGraph&&(t.drawGraph(),t.applyZones()),Ve(t.points,function(e){e.redraw&&e.redraw()}),t.drawDataLabels&&t.drawDataLabels(),t.visible&&t.drawPoints(),t.drawTracker&&t.options.enableMouseTracking!==!1&&t.drawTracker(),i.inverted&&t.invertGroups(),n.clip!==!1&&!t.sharedClipKey&&!a&&e.clip(i.clipRect),s&&t.animate(),a||(t.animationTimeout=g(function(){t.afterAnimate()},s)),t.isDirty=t.isDirtyData=!1,t.hasRendered=!0},redraw:function(){var e=this.chart,t=this.isDirtyData,i=this.isDirty,n=this.group,s=this.xAxis,r=this.yAxis;n&&(e.inverted&&n.attr({width:e.plotWidth,height:e.plotHeight}),n.animate({translateX:je(s&&s.left,e.plotLeft),translateY:je(r&&r.top,e.plotTop)})),this.translate(),this.render(),t&&Je(this,"updatedData"),(i||t)&&delete this.kdTree},kdDimensions:1,kdAxisArray:["clientX","plotY"],searchPoint:function(e,t){var i=this.xAxis,n=this.yAxis,s=this.chart.inverted;return this.searchKDTree({clientX:s?i.len-e.chartY+i.pos:e.chartX-i.pos,plotY:s?n.len-e.chartX+n.pos:e.chartY-n.pos},t)},buildKDTree:function(){function e(i,n,s){var r,o;if(o=i&&i.length)return r=t.kdAxisArray[n%s],i.sort(function(e,t){return e[r]-t[r]}),o=Math.floor(o/2),{point:i[o],left:e(i.slice(0,o),n+1,s),right:e(i.slice(o+1),n+1,s)}}var t=this,i=t.kdDimensions;delete t.kdTree,g(function(){var n=Qe(t.points||[],function(e){return null!==e.y});t.kdTree=e(n,i,i)},t.options.kdNow?0:1)},searchKDTree:function(e,t){function i(e,t,a,l){var c,u,d=t.point,p=n.kdAxisArray[a%l],f=d;return u=h(e[s])&&h(d[s])?Math.pow(e[s]-d[s],2):null,c=h(e[r])&&h(d[r])?Math.pow(e[r]-d[r],2):null,c=(u||0)+(c||0),d.dist=h(c)?Math.sqrt(c):Number.MAX_VALUE,d.distX=h(u)?Math.sqrt(u):Number.MAX_VALUE,p=e[p]-d[p],c=p<0?"left":"right",u=p<0?"right":"left",t[c]&&(c=i(e,t[c],a+1,l),f=c[o]<f[o]?c:d),t[u]&&Math.sqrt(p*p)<f[o]&&(e=i(e,t[u],a+1,l),f=e[o]<f[o]?e:f),f}var n=this,s=this.kdAxisArray[0],r=this.kdAxisArray[1],o=t?"distX":"dist";if(this.kdTree||this.buildKDTree(),this.kdTree)return i(e,this.kdTree,this.kdDimensions,this.kdDimensions)}},P.prototype={destroy:function(){E(this,this.axis)},render:function(e){var t=this.options,i=t.format,i=i?A(i,this):t.formatter.call(this);this.label?this.label.attr({text:i,visibility:"hidden"}):this.label=this.axis.chart.renderer.text(i,null,null,t.useHTML).css(t.style).attr({align:this.textAlign,rotation:t.rotation,visibility:"hidden"}).add(e)},setOffset:function(e,t){var i=this.axis,n=i.chart,s=n.inverted,r=i.reversed,r=this.isNegative&&!r||!this.isNegative&&r,o=i.translate(i.usePercentage?100:this.total,0,0,0,1),i=i.translate(0),i=ve(o-i),a=n.xAxis[0].translate(this.x)+e,l=n.plotHeight,r={x:s?r?o:o-i:a,y:s?l-a-t:r?l-o-i:l-o,width:s?i:t,height:s?t:i};(s=this.label)&&(s.align(this.alignOptions,null,r),r=s.alignAttr,s[this.options.crop===!1||n.isInsidePlot(r.x,r.y)?"show":"hide"](!0))}},rt.prototype.getStacks=function(){var e=this;Ve(e.yAxis,function(e){e.stacks&&e.hasVisibleSeries&&(e.oldStacks=e.stacks)}),Ve(e.series,function(t){!t.options.stacking||t.visible!==!0&&e.options.chart.ignoreHiddenSeries!==!1||(t.stackKey=t.type+je(t.options.stack,""))})},lt.prototype.buildStacks=function(){var e=this.series,t=je(this.options.reversedStacks,!0),i=e.length;if(!this.isXAxis){for(this.usePercentage=!1;i--;)e[t?i:e.length-i-1].setStackedPoints();if(this.usePercentage)for(i=0;i<e.length;i++)e[i].setPercentStacks()}},lt.prototype.renderStackTotals=function(){var e,t,i=this.chart,n=i.renderer,s=this.stacks,r=this.stackTotalGroup;r||(this.stackTotalGroup=r=n.g("stack-labels").attr({visibility:"visible",zIndex:6}).add()),r.translate(i.plotLeft,i.plotTop);for(e in s)for(t in i=s[e])i[t].render(r)},lt.prototype.resetStacks=function(){var e,t,i=this.stacks;if(!this.isXAxis)for(e in i)for(t in i[e])i[e][t].touched<this.stacksTouched?(i[e][t].destroy(),delete i[e][t]):(i[e][t].total=null,i[e][t].cum=0)},lt.prototype.cleanStacks=function(){var e,t,i;if(!this.isXAxis){this.oldStacks&&(e=this.stacks=this.oldStacks);for(t in e)for(i in e[t])e[t][i].cum=e[t][i].total}},wt.prototype.setStackedPoints=function(){if(this.options.stacking&&(this.visible===!0||this.chart.options.chart.ignoreHiddenSeries===!1)){var e,t,i,n,s,r,o,a=this.processedXData,l=this.processedYData,c=[],u=l.length,d=this.options,h=d.threshold,p=d.startFromThreshold?h:0,f=d.stack,d=d.stacking,g=this.stackKey,m="-"+g,v=this.negStacks,b=this.yAxis,w=b.stacks,y=b.oldStacks;for(b.stacksTouched+=1,s=0;s<u;s++)r=a[s],o=l[s],e=this.getStackIndicator(e,r,this.index),n=e.key,i=(t=v&&o<(p?0:h))?m:g,w[i]||(w[i]={}),w[i][r]||(y[i]&&y[i][r]?(w[i][r]=y[i][r],w[i][r].total=null):w[i][r]=new P(b,b.options.stackLabels,t,r,f)),i=w[i][r],i.points[n]=[je(i.cum,p)],i.touched=b.stacksTouched,e.index>0&&this.singleStacks===!1&&(i.points[n][0]=i.points[this.index+","+r+",0"][0]),"percent"===d?(t=t?g:m,v&&w[t]&&w[t][r]?(t=w[t][r],i.total=t.total=ge(t.total,i.total)+ve(o)||0):i.total=D(i.total+(ve(o)||0))):i.total=D(i.total+(o||0)),i.cum=je(i.cum,p)+(o||0),i.points[n].push(i.cum),c[s]=i.cum;"percent"===d&&(b.usePercentage=!0),this.stackedYData=c,b.oldStacks={}}},wt.prototype.setPercentStacks=function(){var e,t=this,i=t.stackKey,n=t.yAxis.stacks,s=t.processedXData;Ve([i,"-"+i],function(i){for(var r,o,a,l=s.length;l--;)o=s[l],e=t.getStackIndicator(e,o,t.index),r=(a=n[i]&&n[i][o])&&a.points[e.key],(o=r)&&(a=a.total?100/a.total:0,o[0]=D(o[0]*a),o[1]=D(o[1]*a),t.stackedYData[l]=o[1])})},wt.prototype.getStackIndicator=function(e,t,i){return h(e)&&e.x===t?e.index++:e={x:t,index:0},e.key=[i,t,e.index].join(","),e},Oe(rt.prototype,{addSeries:function(e,t,i){var n,s=this;return e&&(t=je(t,!0),Je(s,"addSeries",{options:e},function(){n=s.initSeries(e),s.isDirtyLegend=!0,s.linkSeries(),t&&s.redraw(i)})),n},addAxis:function(e,t,i,s){var r=t?"xAxis":"yAxis",o=this.options;new lt(this,n(e,{index:this[r].length,isX:t})),o[r]=f(o[r]||{}),o[r].push(e),je(i,!0)&&this.redraw(s)},showLoading:function(e){var t=this,i=t.options,n=t.loadingDiv,s=i.loading,r=function(){n&&m(n,{left:t.plotLeft+"px",top:t.plotTop+"px",width:t.plotWidth+"px",height:t.plotHeight+"px"})};n||(t.loadingDiv=n=v(Me,{className:"highcharts-loading"},Oe(s.style,{zIndex:10,display:"none"}),t.container),t.loadingSpan=v("span",null,s.labelStyle,n),Ye(t,"redraw",r)),t.loadingSpan.innerHTML=e||i.lang.loading,t.loadingShown||(m(n,{opacity:0,display:""}),et(n,{opacity:s.style.opacity},{duration:s.showDuration||0}),t.loadingShown=!0),r()},hideLoading:function(){var e=this.options,t=this.loadingDiv;t&&et(t,{opacity:0},{duration:e.loading.hideDuration||100,complete:function(){m(t,{display:"none"})}}),this.loadingShown=!1}}),Oe(bt.prototype,{update:function(e,t,i,n){function s(){l.applyOptions(e),null===l.y&&u&&(l.graphic=u.destroy()),o(e)&&!a(e)&&(l.redraw=function(){u&&u.element&&e&&e.marker&&e.marker.symbol&&(l.graphic=u.destroy()),e&&e.dataLabels&&l.dataLabel&&(l.dataLabel=l.dataLabel.destroy()),l.redraw=null}),r=l.index,c.updateParallelArrays(l,r),p&&l.name&&(p[l.x]=l.name),h.data[r]=o(h.data[r])?l.options:e,c.isDirty=c.isDirtyData=!0,!c.fixedBox&&c.hasCartesianSeries&&(d.isDirtyBox=!0),"point"===h.legendType&&(d.isDirtyLegend=!0),t&&d.redraw(i)}var r,l=this,c=l.series,u=l.graphic,d=c.chart,h=c.options,p=c.xAxis&&c.xAxis.names,t=je(t,!0);n===!1?s():l.firePointEvent("update",{options:e},s)},remove:function(e,t){this.series.removePoint(Ue(this,this.series.data),e,t)}}),Oe(wt.prototype,{addPoint:function(e,t,i,n){var s,r=this,o=r.options,a=r.data,l=r.graph,c=r.area,u=r.chart,d=r.xAxis&&r.xAxis.names,h=l&&l.shift||0,p=["graph","area"],l=o.data,f=r.xData;if($(n,u),i){for(n=r.zones.length;n--;)p.push("zoneGraph"+n,"zoneArea"+n);Ve(p,function(e){r[e]&&(r[e].shift=h+(o.step?2:1))})}if(c&&(c.isArea=!0),t=je(t,!0),c={series:r},r.pointClass.prototype.applyOptions.apply(c,[e]),p=c.x,n=f.length,r.requireSorting&&p<f[n-1])for(s=!0;n&&f[n-1]>p;)n--;r.updateParallelArrays(c,"splice",n,0,0),r.updateParallelArrays(c,n),d&&c.name&&(d[p]=c.name),l.splice(n,0,e),s&&(r.data.splice(n,0,null),r.processData()),"point"===o.legendType&&r.generatePoints(),i&&(a[0]&&a[0].remove?a[0].remove(!1):(a.shift(),r.updateParallelArrays(c,"shift"),l.shift())),r.isDirty=!0,r.isDirtyData=!0,t&&(r.getAttribs(),u.redraw())},removePoint:function(e,t,i){var n=this,s=n.data,r=s[e],o=n.points,a=n.chart,l=function(){s.length===o.length&&o.splice(e,1),s.splice(e,1),n.options.data.splice(e,1),n.updateParallelArrays(r||{series:n},"splice",e,1),r&&r.destroy(),n.isDirty=!0,n.isDirtyData=!0,t&&a.redraw()};$(i,a),t=je(t,!0),r?r.firePointEvent("remove",null,l):l()},remove:function(e,t){var i=this,n=i.chart,e=je(e,!0);i.isRemoving||(i.isRemoving=!0,Je(i,"remove",null,function(){i.destroy(),n.isDirtyLegend=n.isDirtyBox=!0,n.linkSeries(),e&&n.redraw(t)})),i.isRemoving=!1},update:function(e,t){var i,s=this,r=this.chart,o=this.userOptions,a=this.type,l=ze[a].prototype,c=["group","markerGroup","dataLabelsGroup"];(e.type&&e.type!==a||void 0!==e.zIndex)&&(c.length=0),Ve(c,function(e){c[e]=s[e],delete s[e]}),e=n(o,{animation:!1,index:this.index,pointStart:this.xData[0]},{data:this.options.data},e),this.remove(!1);for(i in l)this[i]=M;Oe(this,ze[e.type||a].prototype),Ve(c,function(e){s[e]=c[e]}),this.init(r,e),r.linkSeries(),je(t,!0)&&r.redraw(!1)}}),Oe(lt.prototype,{update:function(e,t){var i=this.chart,e=i.options[this.coll][this.options.index]=n(this.userOptions,e);this.destroy(!0),this._addedPlotLB=this.chart._labelPanes=M,this.init(i,Oe(e,{events:M})),i.isDirtyBox=!0,je(t,!0)&&i.redraw()},remove:function(e){for(var t=this.chart,i=this.coll,n=this.series,s=n.length;s--;)n[s]&&n[s].remove(!1);d(t.axes,this),d(t[i],this),t.options[i].splice(this.options.index,1),Ve(t[i],function(e,t){e.options.index=t}),this.destroy(),t.isDirtyBox=!0,je(e,!0)&&t.redraw()},setTitle:function(e,t){this.update({title:e},t)},setCategories:function(e,t){this.update({categories:e},t)}});var yt=b(wt);ze.line=yt,it.area=n(nt,{softThreshold:!1,threshold:0});var At=b(wt,{type:"area",singleStacks:!1,getSegments:function(){var e,t,i,n,s,r=this,o=[],a=[],l=[],c=this.xAxis,u=this.yAxis,d=u.stacks[this.stackKey],h={},p=this.points,f=this.options.connectNulls;if(this.options.stacking&&!this.cropped){for(n=0;n<p.length;n++)h[p[n].x]=p[n];for(s in d)null!==d[s].total&&l.push(+s);l.sort(function(e,t){return e-t}),Ve(l,function(s){var o,l=null;if(!f||h[s]&&null!==h[s].y)if(h[s])a.push(h[s]);else{for(n=r.index;n<=u.series.length;n++)if(i=r.getStackIndicator(null,s,n),o=d[s].points[i.key]){l=o[1];break}e=c.translate(s),t=u.getThreshold(l),a.push({y:null,plotX:e,clientX:e,plotY:t,yBottom:t,onMouseOver:Be})}}),a.length&&o.push(a)}else wt.prototype.getSegments.call(this),o=this.segments;this.segments=o},getSegmentPath:function(e){var t,i=wt.prototype.getSegmentPath.call(this,e),n=[].concat(i),s=this.options;t=i.length;var r,o=this.yAxis.getThreshold(s.threshold);if(3===t&&n.push("L",i[1],i[2]),s.stacking&&!this.closedStacks)for(t=e.length-1;t>=0;t--)r=je(e[t].yBottom,o),t<e.length-1&&s.step&&n.push(e[t+1].plotX,r),n.push(e[t].plotX,r);else this.closeSegment(n,e,o);return this.areaPath=this.areaPath.concat(n),i},closeSegment:function(e,t,i){e.push("L",t[t.length-1].plotX,i,"L",t[0].plotX,i)},drawGraph:function(){this.areaPath=[],wt.prototype.drawGraph.apply(this);var e=this,t=this.areaPath,i=this.options,n=[["area",this.color,i.fillColor]];Ve(this.zones,function(t,s){n.push(["zoneArea"+s,t.color||e.color,t.fillColor||i.fillColor])}),Ve(n,function(n){var s=n[0],r=e[s];r?r.animate({d:t}):e[s]=e.chart.renderer.path(t).attr({fill:je(n[2],T(n[1]).setOpacity(je(i.fillOpacity,.75)).get()),zIndex:0}).add(e.group)})},drawLegendSymbol:ot.drawRectangle});return ze.area=At,it.spline=n(nt),yt=b(wt,{type:"spline",getPointSpline:function(e,t,i){var n,s,r,o,a=t.plotX,l=t.plotY,c=e[i-1],u=e[i+1];if(c&&u){e=c.plotY,r=u.plotX;var d,u=u.plotY;n=(1.5*a+c.plotX)/2.5,s=(1.5*l+e)/2.5,r=(1.5*a+r)/2.5,o=(1.5*l+u)/2.5,d=(o-s)*(r-a)/(r-n)+l-o,s+=d,o+=d,s>e&&s>l?(s=ge(e,l),o=2*l-s):s<e&&s<l&&(s=me(e,l),o=2*l-s),o>u&&o>l?(o=ge(u,l),s=2*l-o):o<u&&o<l&&(o=me(u,l),s=2*l-o),t.rightContX=r,t.rightContY=o}return i?(t=["C",c.rightContX||c.plotX,c.rightContY||c.plotY,n||a,s||l,a,l],c.rightContX=c.rightContY=null):t=["M",a,l],t}}),ze.spline=yt,it.areaspline=n(it.area),At=At.prototype,yt=b(yt,{type:"areaspline",closedStacks:!0,getSegmentPath:At.getSegmentPath,closeSegment:At.closeSegment,drawGraph:At.drawGraph,drawLegendSymbol:ot.drawRectangle}),ze.areaspline=yt,it.column=n(nt,{borderColor:"#FFFFFF",borderRadius:0,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{brightness:.1,shadow:!1,halo:!1},select:{color:"#C0C0C0",borderColor:"#000000",shadow:!1}},dataLabels:{align:null,verticalAlign:null,y:null},softThreshold:!1,startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0}),yt=b(wt,{type:"column",pointAttrToOptions:{stroke:"borderColor",fill:"color",r:"borderRadius"},cropShoulder:0,directTouch:!0,trackerGroups:["group","dataLabelsGroup"],negStacks:!0,init:function(){wt.prototype.init.apply(this,arguments);var e=this,t=e.chart;t.hasRendered&&Ve(t.series,function(t){t.type===e.type&&(t.isDirty=!0)})},getColumnMetrics:function(){var e,t,i=this,n=i.options,s=i.xAxis,r=i.yAxis,o=s.reversed,a={},l=0;n.grouping===!1?l=1:Ve(i.chart.series,function(n){var s=n.options,o=n.yAxis;n.type===i.type&&n.visible&&r.len===o.len&&r.pos===o.pos&&(s.stacking?(e=n.stackKey,a[e]===M&&(a[e]=l++),t=a[e]):s.grouping!==!1&&(t=l++),n.columnIndex=t)});var c=me(ve(s.transA)*(s.ordinalSlope||n.pointRange||s.closestPointRange||s.tickInterval||1),s.len),u=c*n.groupPadding,d=(c-2*u)/l,n=me(n.maxPointWidth||s.len,je(n.pointWidth,d*(1-2*n.pointPadding)));return i.columnMetrics={width:n,offset:(d-n)/2+(u+((i.columnIndex||0)+(o?1:0))*d-c/2)*(o?-1:1)},i.columnMetrics},crispCol:function(e,t,i,n){var s=this.chart,r=this.borderWidth,o=-(r%2?.5:0),r=r%2?.5:1;return s.inverted&&s.renderer.isVML&&(r+=1),i=Math.round(e+i)+o,e=Math.round(e)+o,i-=e,n=Math.round(t+n)+r,o=ve(t)<=.5&&n>.5,t=Math.round(t)+r,n-=t,o&&(t-=1,n+=1),{x:e,y:t,width:i,height:n}},translate:function(){var e=this,t=e.chart,i=e.options,n=e.borderWidth=je(i.borderWidth,e.closestPointRange*e.xAxis.transA<2?0:1),s=e.yAxis,r=e.translatedThreshold=s.getThreshold(i.threshold),o=je(i.minPointLength,5),a=e.getColumnMetrics(),l=a.width,c=e.barW=ge(l,1+2*n),u=e.pointXOffset=a.offset;t.inverted&&(r-=.5),i.pointPadding&&(c=fe(c)),wt.prototype.translate.apply(e),Ve(e.points,function(i){var n,a=me(je(i.yBottom,r),9e4),d=999+ve(a),d=me(ge(-d,i.plotY),s.len+d),h=i.plotX+u,p=c,f=me(d,a),g=ge(d,a)-f;ve(g)<o&&o&&(g=o,n=!s.reversed&&!i.negative||s.reversed&&i.negative,f=ve(f-r)>o?a-o:r-(n?o:0)),i.barX=h,i.pointWidth=l,i.tooltipPos=t.inverted?[s.len+s.pos-t.plotLeft-d,e.xAxis.len-h-p/2,g]:[h+p/2,d+s.pos-t.plotTop,g],i.shapeType="rect",i.shapeArgs=e.crispCol(h,f,p,g)})},getSymbol:Be,drawLegendSymbol:ot.drawRectangle,drawGraph:Be,drawPoints:function(){var e,t,i=this,s=this.chart,r=i.options,o=s.renderer,a=r.animationLimit||250;Ve(i.points,function(l){var c=l.plotY,u=l.graphic;c===M||isNaN(c)||null===l.y?u&&(l.graphic=u.destroy()):(e=l.shapeArgs,c=h(i.borderWidth)?{"stroke-width":i.borderWidth}:{},t=l.pointAttr[l.selected?"select":""]||i.pointAttr[""],u?(tt(u),u.attr(c).attr(t)[s.pointCount<a?"animate":"attr"](n(e))):l.graphic=o[l.shapeType](e).attr(c).attr(t).add(l.group||i.group).shadow(r.shadow,null,r.stacking&&!r.borderRadius))})},animate:function(e){var t=this.yAxis,i=this.options,n=this.chart.inverted,s={};De&&(e?(s.scaleY=.001,e=me(t.pos+t.len,ge(t.pos,t.toPixels(i.threshold))),n?s.translateX=e-t.len:s.translateY=e,this.group.attr(s)):(s.scaleY=1,s[n?"translateX":"translateY"]=t.pos,this.group.animate(s,this.options.animation),this.animate=null))},remove:function(){var e=this,t=e.chart;t.hasRendered&&Ve(t.series,function(t){t.type===e.type&&(t.isDirty=!0)}),wt.prototype.remove.apply(e,arguments)}}),ze.column=yt,it.bar=n(it.column),At=b(yt,{type:"bar",inverted:!0}),ze.bar=At,it.scatter=n(nt,{lineWidth:0,marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}">●</span> <span style="font-size: 10px;"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}}),At=b(wt,{type:"scatter",sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1,kdDimensions:2,drawGraph:function(){this.options.lineWidth&&wt.prototype.drawGraph.call(this)}}),ze.scatter=At,it.pie=n(nt,{borderColor:"#FFFFFF",borderWidth:1,center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{distance:30,enabled:!0,formatter:function(){return null===this.y?void 0:this.point.name},x:0},ignoreHiddenPoint:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,states:{hover:{brightness:.1,shadow:!1}},stickyTracking:!1,tooltip:{followPointer:!0}}),nt={type:"pie",isCartesian:!1,pointClass:b(bt,{init:function(){bt.prototype.init.apply(this,arguments);var e,t=this;return t.name=je(t.name,"Slice"),e=function(e){t.slice("select"===e.type)},Ye(t,"select",e),Ye(t,"unselect",e),t},setVisible:function(e,t){var i=this,n=i.series,s=n.chart,r=n.options.ignoreHiddenPoint,t=je(t,r);e!==i.visible&&(i.visible=i.options.visible=e=e===M?!i.visible:e,n.options.data[Ue(i,n.data)]=i.options,Ve(["graphic","dataLabel","connector","shadowGroup"],function(t){i[t]&&i[t][e?"show":"hide"](!0)}),i.legendItem&&s.legend.colorizeItem(i,e),!e&&"hover"===i.state&&i.setState(""),r&&(n.isDirty=!0),t&&s.redraw())},slice:function(e,t,i){var n=this.series;$(i,n.chart),je(t,!0),this.sliced=this.options.sliced=e=h(e)?e:!this.sliced,n.options.data[Ue(this,n.data)]=this.options,e=e?this.slicedTranslation:{translateX:0,translateY:0},this.graphic.animate(e),this.shadowGroup&&this.shadowGroup.animate(e)},haloPath:function(e){var t=this.shapeArgs,i=this.series.chart;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(i.plotLeft+t.x,i.plotTop+t.y,t.r+e,t.r+e,{innerR:this.shapeArgs.r,start:t.start,end:t.end})}}),requireSorting:!1,directTouch:!0,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],
axisTypes:[],pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color"},animate:function(e){var t=this,i=t.points,n=t.startAngleRad;e||(Ve(i,function(e){var i=e.graphic,s=e.shapeArgs;i&&(i.attr({r:e.startR||t.center[3]/2,start:n,end:n}),i.animate({r:s.r,start:s.start,end:s.end},t.options.animation))}),t.animate=null)},updateTotals:function(){var e,t,i=0,n=this.points,s=n.length,r=this.options.ignoreHiddenPoint;for(e=0;e<s;e++)t=n[e],i+=r&&!t.visible?0:t.y;for(this.total=i,e=0;e<s;e++)t=n[e],t.percentage=i>0&&(t.visible||!r)?t.y/i*100:0,t.total=i},generatePoints:function(){wt.prototype.generatePoints.call(this),this.updateTotals()},translate:function(e){this.generatePoints();var t,i,n,s,r,o=0,a=this.options,l=a.slicedOffset,c=l+a.borderWidth,u=a.startAngle||0,d=this.startAngleRad=ye/180*(u-90),u=(this.endAngleRad=ye/180*(je(a.endAngle,u+360)-90))-d,h=this.points,p=a.dataLabels.distance,a=a.ignoreHiddenPoint,f=h.length;for(e||(this.center=e=this.getCenter()),this.getX=function(t,i){return n=de.asin(me((t-e[1])/(e[2]/2+p),1)),e[0]+(i?-1:1)*be(n)*(e[2]/2+p)},s=0;s<f;s++)r=h[s],t=d+o*u,a&&!r.visible||(o+=r.percentage/100),i=d+o*u,r.shapeType="arc",r.shapeArgs={x:e[0],y:e[1],r:e[2]/2,innerR:e[3]/2,start:he(1e3*t)/1e3,end:he(1e3*i)/1e3},n=(i+t)/2,n>1.5*ye?n-=2*ye:n<-ye/2&&(n+=2*ye),r.slicedTranslation={translateX:he(be(n)*l),translateY:he(we(n)*l)},t=be(n)*e[2]/2,i=we(n)*e[2]/2,r.tooltipPos=[e[0]+.7*t,e[1]+.7*i],r.half=n<-ye/2||n>ye/2?1:0,r.angle=n,c=me(c,p/2),r.labelPos=[e[0]+t+be(n)*p,e[1]+i+we(n)*p,e[0]+t+be(n)*c,e[1]+i+we(n)*c,e[0]+t,e[1]+i,p<0?"center":r.half?"right":"left",n]},drawGraph:null,drawPoints:function(){var e,t,i,n,s,r,o=this,a=o.chart.renderer,l=o.options.shadow;l&&!o.shadowGroup&&(o.shadowGroup=a.g("shadow").add(o.group)),Ve(o.points,function(c){null!==c.y&&(t=c.graphic,s=c.shapeArgs,i=c.shadowGroup,n=c.pointAttr[c.selected?"select":""],n.stroke||(n.stroke=n.fill),l&&!i&&(i=c.shadowGroup=a.g("shadow").add(o.shadowGroup)),e=c.sliced?c.slicedTranslation:{translateX:0,translateY:0},i&&i.attr(e),t?t.setRadialReference(o.center).attr(n).animate(Oe(s,e)):(r={"stroke-linejoin":"round"},c.visible||(r.visibility="hidden"),c.graphic=t=a[c.shapeType](s).setRadialReference(o.center).attr(n).attr(r).attr(e).add(o.group).shadow(l,i)))})},searchPoint:Be,sortByAngle:function(e,t){e.sort(function(e,i){return void 0!==e.angle&&(i.angle-e.angle)*t})},drawLegendSymbol:ot.drawRectangle,getCenter:vt.getCenter,getSymbol:Be},nt=b(wt,nt),ze.pie=nt,wt.prototype.drawDataLabels=function(){var e,t,i,s,r=this,o=r.options,a=o.cursor,l=o.dataLabels,c=r.points,u=r.hasRendered||0,d=r.chart.renderer;(l.enabled||r._hasPointLabels)&&(r.dlProcessOptions&&r.dlProcessOptions(l),s=r.plotGroup("dataLabelsGroup","data-labels",l.defer?"hidden":"visible",l.zIndex||6),je(l.defer,!0)&&(s.attr({opacity:+u}),u||Ye(r,"afterAnimate",function(){r.visible&&s.show(),s[o.animation?"animate":"attr"]({opacity:1},{duration:200})})),t=l,Ve(c,function(c){var u,p,f,g,m=c.dataLabel,v=c.connector,b=!0,w={};if(e=c.dlOptions||c.options&&c.options.dataLabels,u=je(e&&e.enabled,t.enabled)&&null!==c.y,m&&!u)c.dataLabel=m.destroy();else if(u){if(l=n(t,e),g=l.style,u=l.rotation,p=c.getLabelConfig(),i=l.format?A(l.format,p):l.formatter.call(p,l),g.color=je(l.color,g.color,r.color,"black"),m)h(i)?(m.attr({text:i}),b=!1):(c.dataLabel=m=m.destroy(),v&&(c.connector=v.destroy()));else if(h(i)){m={fill:l.backgroundColor,stroke:l.borderColor,"stroke-width":l.borderWidth,r:l.borderRadius||0,rotation:u,padding:l.padding,zIndex:1},"contrast"===g.color&&(w.color=l.inside||l.distance<0||o.stacking?d.getContrast(c.color||r.color):"#000000"),a&&(w.cursor=a);for(f in m)m[f]===M&&delete m[f];m=c.dataLabel=d[u?"text":"label"](i,0,-9999,l.shape,null,null,l.useHTML).attr(m).css(Oe(g,w)).add(s).shadow(l.shadow)}m&&r.alignDataLabel(c,m,l,null,b)}}))},wt.prototype.alignDataLabel=function(e,t,i,n,s){var r=this.chart,o=r.inverted,a=je(e.plotX,-9999),l=je(e.plotY,-9999),c=t.getBBox(),u=r.renderer.fontMetrics(i.style.fontSize).b,d=this.visible&&(e.series.forceDL||r.isInsidePlot(a,he(l),o)||n&&r.isInsidePlot(a,o?n.x+1:n.y+n.height-1,o));d&&(n=Oe({x:o?r.plotWidth-l:a,y:he(o?r.plotHeight-a:l),width:0,height:0},n),Oe(i,{width:c.width,height:c.height}),i.rotation?(e=r.renderer.rotCorr(u,i.rotation),t[s?"attr":"animate"]({x:n.x+i.x+n.width/2+e.x,y:n.y+i.y+n.height/2}).attr({align:i.align})):(t.align(i,null,n),o=t.alignAttr,"justify"===je(i.overflow,"justify")?this.justifyDataLabel(t,i,o,c,n,s):je(i.crop,!0)&&(d=r.isInsidePlot(o.x,o.y)&&r.isInsidePlot(o.x+c.width,o.y+c.height)),i.shape&&t.attr({anchorX:e.plotX,anchorY:e.plotY}))),d||(tt(t),t.attr({y:-9999}),t.placed=!1)},wt.prototype.justifyDataLabel=function(e,t,i,n,s,r){var o,a,l=this.chart,c=t.align,u=t.verticalAlign,d=e.box?0:e.padding||0;o=i.x+d,o<0&&("right"===c?t.align="left":t.x=-o,a=!0),o=i.x+n.width-d,o>l.plotWidth&&("left"===c?t.align="right":t.x=l.plotWidth-o,a=!0),o=i.y+d,o<0&&("bottom"===u?t.verticalAlign="top":t.y=-o,a=!0),o=i.y+n.height-d,o>l.plotHeight&&("top"===u?t.verticalAlign="bottom":t.y=l.plotHeight-o,a=!0),a&&(e.placed=!r,e.align(t,null,s))},ze.pie&&(ze.pie.prototype.drawDataLabels=function(){var e,t,i,n,s,r,o,a,l,c,u,d=this,h=d.data,p=d.chart,f=d.options.dataLabels,g=je(f.connectorPadding,10),m=je(f.connectorWidth,1),v=p.plotWidth,b=p.plotHeight,w=je(f.softConnector,!0),y=f.distance,A=d.center,k=A[2]/2,C=A[1],x=y>0,_=[[],[]],E=[0,0,0,0],F=function(e,t){return t.y-e.y};if(d.visible&&(f.enabled||d._hasPointLabels)){for(wt.prototype.drawDataLabels.apply(d),Ve(h,function(e){e.dataLabel&&e.visible&&_[e.half].push(e)}),c=2;c--;){var D,$=[],q=[],R=_[c],T=R.length;if(T){for(d.sortByAngle(R,c-.5),u=h=0;!h&&R[u];)h=R[u]&&R[u].dataLabel&&(R[u].dataLabel.getBBox().height||21),u++;if(y>0){for(s=me(C+k+y,p.plotHeight),u=ge(0,C-k-y);u<=s;u+=h)$.push(u);if(s=$.length,T>s){for(e=[].concat(R),e.sort(F),u=T;u--;)e[u].rank=u;for(u=T;u--;)R[u].rank>=s&&R.splice(u,1);T=R.length}for(u=0;u<T;u++){e=R[u],r=e.labelPos,e=9999;var B,L;for(L=0;L<s;L++)B=ve($[L]-r[1]),B<e&&(e=B,D=L);if(D<u&&null!==$[u])D=u;else for(s<T-u+D&&null!==$[u]&&(D=s-T+u);null===$[D];)D++;q.push({i:D,y:$[D]}),$[D]=null}q.sort(F)}for(u=0;u<T;u++)e=R[u],r=e.labelPos,n=e.dataLabel,l=e.visible===!1?"hidden":"inherit",e=r[1],y>0?(s=q.pop(),D=s.i,a=s.y,(e>a&&null!==$[D+1]||e<a&&null!==$[D-1])&&(a=me(ge(0,e),p.plotHeight))):a=e,o=f.justify?A[0]+(c?-1:1)*(k+y):d.getX(a===C-k-y||a===C+k+y?e:a,c),n._attr={visibility:l,align:r[6]},n._pos={x:o+f.x+({left:g,right:-g}[r[6]]||0),y:a+f.y-10},n.connX=o,n.connY=a,null===this.options.size&&(s=n.width,o-s<g?E[3]=ge(he(s-o+g),E[3]):o+s>v-g&&(E[1]=ge(he(o+s-v+g),E[1])),a-h/2<0?E[0]=ge(he(-a+h/2),E[0]):a+h/2>b&&(E[2]=ge(he(a+h/2-b),E[2])))}}(0===S(E)||this.verifyDataLabelOverflow(E))&&(this.placeDataLabels(),x&&m&&Ve(this.points,function(e){t=e.connector,r=e.labelPos,(n=e.dataLabel)&&n._pos&&e.visible?(l=n._attr.visibility,o=n.connX,a=n.connY,i=w?["M",o+("left"===r[6]?5:-5),a,"C",o,a,2*r[2]-r[4],2*r[3]-r[5],r[2],r[3],"L",r[4],r[5]]:["M",o+("left"===r[6]?5:-5),a,"L",r[2],r[3],"L",r[4],r[5]],t?(t.animate({d:i}),t.attr("visibility",l)):e.connector=t=d.chart.renderer.path(i).attr({"stroke-width":m,stroke:f.connectorColor||e.color||"#606060",visibility:l}).add(d.dataLabelsGroup)):t&&(e.connector=t.destroy())}))}},ze.pie.prototype.placeDataLabels=function(){Ve(this.points,function(e){var t=e.dataLabel;t&&e.visible&&((e=t._pos)?(t.attr(t._attr),t[t.moved?"animate":"attr"](e),t.moved=!0):t&&t.attr({y:-9999}))})},ze.pie.prototype.alignDataLabel=Be,ze.pie.prototype.verifyDataLabelOverflow=function(e){var t,i=this.center,n=this.options,s=n.center,r=n.minSize||80,o=r;return null!==s[0]?o=ge(i[2]-ge(e[1],e[3]),r):(o=ge(i[2]-e[1]-e[3],r),i[0]+=(e[3]-e[1])/2),null!==s[1]?o=ge(me(o,i[2]-ge(e[0],e[2])),r):(o=ge(me(o,i[2]-e[0]-e[2]),r),i[1]+=(e[0]-e[2])/2),o<i[2]?(i[2]=o,i[3]=Math.min(/%$/.test(n.innerSize||0)?o*parseFloat(n.innerSize||0)/100:parseFloat(n.innerSize||0),o),this.translate(i),Ve(this.points,function(e){e.dataLabel&&(e.dataLabel._pos=null)}),this.drawDataLabels&&this.drawDataLabels()):t=!0,t}),ze.column&&(ze.column.prototype.alignDataLabel=function(e,t,i,s,r){var o=this.chart.inverted,a=e.series,l=e.dlBox||e.shapeArgs,c=je(e.below,e.plotY>je(this.translatedThreshold,a.yAxis.len)),u=je(i.inside,!!this.options.stacking);l&&(s=n(l),s.y<0&&(s.height+=s.y,s.y=0),l=s.y+s.height-a.yAxis.len,l>0&&(s.height-=l),o&&(s={x:a.yAxis.len-s.y-s.height,y:a.xAxis.len-s.x-s.width,width:s.height,height:s.width}),u||(o?(s.x+=c?0:s.width,s.width=0):(s.y+=c?s.height:0,s.height=0))),i.align=je(i.align,!o||u?"center":c?"right":"left"),i.verticalAlign=je(i.verticalAlign,o||u?"middle":c?"top":"bottom"),wt.prototype.alignDataLabel.call(this,e,t,i,s,r)}),function(e){var t=e.Chart,i=e.each,n=e.pick,s=e.addEvent;t.prototype.callbacks.push(function(e){function t(){var t=[];i(e.series,function(e){var s=e.options.dataLabels,r=e.dataLabelCollections||["dataLabel"];(s.enabled||e._hasPointLabels)&&!s.allowOverlap&&e.visible&&i(r,function(s){i(e.points,function(e){e[s]&&(e[s].labelrank=n(e.labelrank,e.shapeArgs&&e.shapeArgs.height),t.push(e[s]))})})}),e.hideOverlappingLabels(t)}t(),s(e,"redraw",t)}),t.prototype.hideOverlappingLabels=function(e){var t,n,s,r,o,a,l,c=e.length;for(n=0;n<c;n++)(t=e[n])&&(t.oldOpacity=t.opacity,t.newOpacity=1);for(e.sort(function(e,t){return(t.labelrank||0)-(e.labelrank||0)}),n=0;n<c;n++)for(s=e[n],t=n+1;t<c;++t)r=e[t],s&&r&&s.placed&&r.placed&&0!==s.newOpacity&&0!==r.newOpacity&&(o=s.alignAttr,a=r.alignAttr,l=2*(s.box?0:s.padding),o=!(a.x>o.x+(s.width-l)||a.x+(r.width-l)<o.x||a.y>o.y+(s.height-l)||a.y+(r.height-l)<o.y))&&((s.labelrank<r.labelrank?s:r).newOpacity=0);i(e,function(e){var t,i;e&&(i=e.newOpacity,e.oldOpacity!==i&&e.placed&&(i?e.show(!0):t=function(){e.hide()},e.alignAttr.opacity=i,e[e.isOld?"animate":"attr"](e.alignAttr,null,t)),e.isOld=!0)})}}(le),nt=le.TrackerMixin={drawTrackerPoint:function(){var e=this,t=e.chart,i=t.pointer,n=e.options.cursor,s=n&&{cursor:n},r=function(e){for(var i,n=e.target;n&&!i;)i=n.point,n=n.parentNode;i!==M&&i!==t.hoverPoint&&i.onMouseOver(e)};Ve(e.points,function(e){e.graphic&&(e.graphic.element.point=e),e.dataLabel&&(e.dataLabel.element.point=e)}),e._hasTracking||(Ve(e.trackerGroups,function(t){e[t]&&(e[t].addClass("highcharts-tracker").on("mouseover",r).on("mouseout",function(e){i.onTrackerMouseOut(e)}).css(s),H)&&e[t].on("touchstart",r)}),e._hasTracking=!0)},drawTrackerGraph:function(){var e,t=this,i=t.options,n=i.trackByArea,s=[].concat(n?t.areaPath:t.graphPath),r=s.length,o=t.chart,a=o.pointer,l=o.renderer,c=o.options.tooltip.snap,u=t.tracker,d=i.cursor,h=d&&{cursor:d},d=t.singlePoints,p=function(){o.hoverSeries!==t&&t.onMouseOver()},f="rgba(192,192,192,"+(De?1e-4:.002)+")";if(r&&!n)for(e=r+1;e--;)"M"===s[e]&&s.splice(e+1,0,s[e+1]-c,s[e+2],"L"),(e&&"M"===s[e]||e===r)&&s.splice(e,0,"L",s[e-2]+c,s[e-1]);for(e=0;e<d.length;e++)r=d[e],s.push("M",r.plotX-c,r.plotY,"L",r.plotX+c,r.plotY);u?u.attr({d:s}):(t.tracker=l.path(s).attr({"stroke-linejoin":"round",visibility:t.visible?"visible":"hidden",stroke:f,fill:n?f:"none","stroke-width":i.lineWidth+(n?0:2*c),zIndex:2}).add(t.group),Ve([t.tracker,t.markerGroup],function(e){e.addClass("highcharts-tracker").on("mouseover",p).on("mouseout",function(e){a.onTrackerMouseOut(e)}).css(h),H&&e.on("touchstart",p)}))}},ze.column&&(yt.prototype.drawTracker=nt.drawTrackerPoint),ze.pie&&(ze.pie.prototype.drawTracker=nt.drawTrackerPoint),ze.scatter&&(At.prototype.drawTracker=nt.drawTrackerPoint),Oe(mt.prototype,{setItemEvents:function(e,t,i,n,s){var r=this;(i?t:e.legendGroup).on("mouseover",function(){e.setState("hover"),t.css(r.options.itemHoverStyle)}).on("mouseout",function(){t.css(e.visible?n:s),e.setState()}).on("click",function(t){var i=function(){e.setVisible&&e.setVisible()},t={browserEvent:t};e.firePointEvent?e.firePointEvent("legendItemClick",t,i):Je(e,"legendItemClick",t,i)})},createCheckboxForItem:function(e){e.checkbox=v("input",{type:"checkbox",checked:e.selected,defaultChecked:e.selected},this.options.itemCheckboxStyle,this.chart.container),Ye(e.checkbox,"click",function(t){Je(e.series||e,"checkboxClick",{checked:t.target.checked,item:e},function(){e.select()})})}}),O.legend.itemStyle.cursor="pointer",Oe(rt.prototype,{showResetZoom:function(){var e=this,t=O.lang,i=e.options.chart.resetZoomButton,n=i.theme,s=n.states,r="chart"===i.relativeTo?null:"plotBox";this.resetZoomButton=e.renderer.button(t.resetZoom,null,null,function(){e.zoomOut()},n,s&&s.hover).attr({align:i.position.align,title:t.resetZoomTitle}).add().align(i.position,!1,r)},zoomOut:function(){var e=this;Je(e,"selection",{resetSelection:!0},function(){e.zoom()})},zoom:function(e){var t,i,n=this.pointer,s=!1;!e||e.resetSelection?Ve(this.axes,function(e){t=e.zoom()}):Ve(e.xAxis.concat(e.yAxis),function(e){var i=e.axis,r=i.isXAxis;(n[r?"zoomX":"zoomY"]||n[r?"pinchX":"pinchY"])&&(t=i.zoom(e.min,e.max),i.displayBtn&&(s=!0))}),i=this.resetZoomButton,s&&!i?this.showResetZoom():!s&&o(i)&&(this.resetZoomButton=i.destroy()),t&&this.redraw(je(this.options.chart.animation,e&&e.animation,this.pointCount<100))},pan:function(e,t){var i,n=this,s=n.hoverPoints;s&&Ve(s,function(e){e.setState()}),Ve("xy"===t?[1,0]:[1],function(t){var s=e[t?"chartX":"chartY"],r=n[t?"xAxis":"yAxis"][0],o=n[t?"mouseDownX":"mouseDownY"],a=(r.pointRange||0)/2,l=r.getExtremes(),c=r.toValue(o-s,!0)+a,a=r.toValue(o+n[t?"plotWidth":"plotHeight"]-s,!0)-a,o=o>s;r.series.length&&(o||c>me(l.dataMin,l.min))&&(!o||a<ge(l.dataMax,l.max))&&(r.setExtremes(c,a,!1,!1,{trigger:"pan"}),i=!0),n[t?"mouseDownX":"mouseDownY"]=s}),i&&n.redraw(!1),m(n.container,{cursor:"move"})}}),Oe(bt.prototype,{select:function(e,t){var i=this,n=i.series,s=n.chart,e=je(e,!i.selected);i.firePointEvent(e?"select":"unselect",{accumulate:t},function(){i.selected=i.options.selected=e,n.options.data[Ue(i,n.data)]=i.options,i.setState(e&&"select"),t||Ve(s.getSelectedPoints(),function(e){e.selected&&e!==i&&(e.selected=e.options.selected=!1,n.options.data[Ue(e,n.data)]=e.options,e.setState(""),e.firePointEvent("unselect"))})})},onMouseOver:function(e,t){var i=this.series,n=i.chart,s=n.tooltip,r=n.hoverPoint;n.hoverSeries!==i&&i.onMouseOver(),r&&r!==this&&r.onMouseOut(),this.series&&(this.firePointEvent("mouseOver"),s&&(!s.shared||i.noSharedTooltip)&&s.refresh(this,e),this.setState("hover"),!t)&&(n.hoverPoint=this)},onMouseOut:function(){var e=this.series.chart,t=e.hoverPoints;this.firePointEvent("mouseOut"),t&&Ue(this,t)!==-1||(this.setState(),e.hoverPoint=null)},importEvents:function(){if(!this.hasImportedEvents){var e,t=n(this.series.options.point,this.options).events;this.events=t;for(e in t)Ye(this,e,t[e]);this.hasImportedEvents=!0}},setState:function(e,t){var i,s=pe(this.plotX),r=this.plotY,o=this.series,a=o.options.states,l=it[o.type].marker&&o.options.marker,c=l&&!l.enabled,u=l&&l.states[e],d=u&&u.enabled===!1,h=o.stateMarkerGraphic,p=this.marker||{},f=o.chart,g=o.halo,e=e||"";i=this.pointAttr[e]||o.pointAttr[e],e===this.state&&!t||this.selected&&"select"!==e||a[e]&&a[e].enabled===!1||e&&(d||c&&u.enabled===!1)||e&&p.states&&p.states[e]&&p.states[e].enabled===!1||(this.graphic?(l=l&&this.graphic.symbolName&&i.r,this.graphic.attr(n(i,l?{x:s-l,y:r-l,width:2*l,height:2*l}:{})),h&&h.hide()):(e&&u&&(l=u.radius,p=p.symbol||o.symbol,h&&h.currentSymbol!==p&&(h=h.destroy()),h?h[t?"animate":"attr"]({x:s-l,y:r-l}):p&&(o.stateMarkerGraphic=h=f.renderer.symbol(p,s-l,r-l,2*l,2*l).attr(i).add(o.markerGroup),h.currentSymbol=p)),h&&(h[e&&f.isInsidePlot(s,r,f.inverted)?"show":"hide"](),h.element.point=this)),(s=a[e]&&a[e].halo)&&s.size?(g||(o.halo=g=f.renderer.path().add(f.seriesGroup)),g.attr(Oe(De?{fill:this.color||o.color,"fill-opacity":s.opacity}:{fill:T(this.color||o.color).setOpacity(s.opacity).get()},s.attributes))[t?"animate":"attr"]({d:this.haloPath(s.size)})):g&&g.attr({d:[]}),this.state=e)},haloPath:function(e){var t=this.series,i=t.chart,n=t.getPlotBox(),s=i.inverted,r=Math.floor(this.plotX);return i.renderer.symbols.circle(n.translateX+(s?t.yAxis.len-this.plotY:r)-e,n.translateY+(s?t.xAxis.len-r:this.plotY)-e,2*e,2*e)}}),Oe(wt.prototype,{onMouseOver:function(){var e=this.chart,t=e.hoverSeries;t&&t!==this&&t.onMouseOut(),this.options.events.mouseOver&&Je(this,"mouseOver"),this.setState("hover"),e.hoverSeries=this},onMouseOut:function(){var e=this.options,t=this.chart,i=t.tooltip,n=t.hoverPoint;t.hoverSeries=null,n&&n.onMouseOut(),this&&e.events.mouseOut&&Je(this,"mouseOut"),i&&!e.stickyTracking&&(!i.shared||this.noSharedTooltip)&&i.hide(),this.setState()},setState:function(e){var t=this.options,i=this.graph,n=t.states,s=t.lineWidth,t=0,e=e||"";if(this.state!==e&&(this.state=e,!(n[e]&&n[e].enabled===!1)&&(e&&(s=n[e].lineWidth||s+(n[e].lineWidthPlus||0)),i&&!i.dashstyle)))for(e={"stroke-width":s},i.attr(e);this["zoneGraph"+t];)this["zoneGraph"+t].attr(e),t+=1},setVisible:function(e,t){var i,n=this,s=n.chart,r=n.legendItem,o=s.options.chart.ignoreHiddenSeries,a=n.visible;i=(n.visible=e=n.userOptions.visible=e===M?!a:e)?"show":"hide",Ve(["group","dataLabelsGroup","markerGroup","tracker"],function(e){n[e]&&n[e][i]()}),s.hoverSeries!==n&&(s.hoverPoint&&s.hoverPoint.series)!==n||n.onMouseOut(),r&&s.legend.colorizeItem(n,e),n.isDirty=!0,n.options.stacking&&Ve(s.series,function(e){e.options.stacking&&e.visible&&(e.isDirty=!0)}),Ve(n.linkedSeries,function(t){t.setVisible(e,!1)}),o&&(s.isDirtyBox=!0),t!==!1&&s.redraw(),Je(n,i)},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(e){this.selected=e=e===M?!this.selected:e,this.checkbox&&(this.checkbox.checked=e),Je(this,e?"select":"unselect")},drawTracker:nt.drawTrackerGraph}),Oe(le,{Color:T,Point:bt,Tick:L,Renderer:I,SVGElement:B,SVGRenderer:st,arrayMin:_,arrayMax:S,charts:Le,dateFormat:j,error:t,format:A,pathAnim:N,getOptions:function(){return O},hasBidiBug:$e,isTouchDevice:e,setOptions:function(e){return O=n(!0,O,e),R(),O},addEvent:Ye,removeEvent:Xe,createElement:v,discardElement:F,css:m,each:Ve,map:Ke,merge:n,splat:f,stableSort:x,extendClass:b,pInt:s,svg:De,canvas:qe,vml:!De&&!qe,product:"Highcharts",version:"4.1.10"}),le})},1750:function(e,t,i){var n,s;n=[i(7)],s=function(e){function t(e){this.isViewingAsInstructor=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.viewMode;return["instructor_read_view","instructor_edit_view"].indexOf(t)!==-1},this.isViewingAsSubscriber=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.viewMode;return["preview_as_subscriber_view","subscriber_view"].indexOf(t)!==-1},this.isInstructor=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.viewMode;return["instructor_read_view","instructor_edit_view","preview_as_subscriber_view"].indexOf(t)!==-1},this.canEditCourse=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.viewMode;return"instructor_edit_view"===t},this.isSubscriber=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.viewMode;return"subscriber_view"===t},this.isFreePreviewer=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.viewMode;return"free_previewer_view"===t},this.isPreviewingAsSubscriber=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.viewMode;return"preview_as_subscriber_view"===t},this.isEarlyAccess=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.viewMode;return"early_access_view"===t}}var i=e.module("ng/apps/course-taking-v4/view-mode.ng-service",[]).service("ViewMode",t);return t.$inject=["$rootScope"],i}.apply(t,n),!(void 0!==s&&(e.exports=s))},1751:function(e,t,i){"use strict";function n(){return{restrict:"E",replace:!0,templateUrl:function(e,t){return"course-taking"===t.earlyAccess?b["default"]:m["default"]},scope:{surveyCode:"@",courseId:"@course",populate:"@",userAnswers:"=?",api:"=",mcWidget:"@?"},link:function(e,t,i){e.isEarlyAccess="clp"===i.earlyAccess,e.mcWidget=o["default"].isUndefined(e.mcWidget)?"buttons":e.mcWidget},controller:"SurveyController"}}function s(e,t,i,n,s,r){function a(e,t){return e.order-t.order}var c=i.getString("Error happened while retrieving your survey. Please try again.");e.api=e.api||{},e.userAnswers={},e.resourceParams={},e.courseId?(e.answersResource=r,e.resourceParams.courseId=e.courseId):e.answersResource=s,n.get({name:e.surveyCode}).$promise.then(function(t){t.question_sets.sort(a),o["default"].forEach(t.question_sets,function(e){e.questions.sort(a)}),e.resourceParams.surveyId=t.id,e.survey=t,"undefined"!=typeof e.populate&&e.answersResource.get(e.resourceParams).$promise.then(function(t){o["default"].forEach(t.results,function(t){t.answer_option_id?e.userAnswers[t.question_id]=t.answer_option_id:e.userAnswers[t.question_id]=t.answer_freeform})}),o["default"].forEach(e.survey.question_sets,function(t){o["default"].forEach(t.questions,function(t){t.id in e.userAnswers||(e.userAnswers[t.id]=null)})})},l["default"].Feedback.fromText.bind(this,c,"error")),e.api.save=function(){if(!f["default"].id||!e.resourceParams.surveyId)return t.reject();var i=[];for(var n in e.userAnswers)if(Object.prototype.hasOwnProperty.call(e.userAnswers,n)){var s={question_id:parseInt(n,10)};"number"==typeof e.userAnswers[n]?s.answer_option_id=e.userAnswers[n]:"string"==typeof e.userAnswers[n]&&(s.answer_freeform=e.userAnswers[n]),i.push(s)}return e.answersResource.update(e.resourceParams,i).$promise},e.api.clear=function(){for(var t in e.userAnswers)e.userAnswers[t]=null}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(7),o=babelHelpers.interopRequireDefault(r),a=i(249),l=babelHelpers.interopRequireDefault(a),c=i(1756),u=babelHelpers.interopRequireDefault(c),d=i(135),h=babelHelpers.interopRequireDefault(d),p=i(41),f=babelHelpers.interopRequireDefault(p),g=i(1758),m=babelHelpers.interopRequireDefault(g),v=i(1757),b=babelHelpers.interopRequireDefault(v);t["default"]=o["default"].module("ng/directives/common/survey/survey.ng-directive",[h["default"].name,u["default"].name]).controller("SurveyController",["$scope","$q","gettextCatalog","Survey","SurveyUserAnswer","SurveyUserCourseAnswer",s]).directive("survey",n)},1752:function(e,t,i){var n,s;n=[i(7),i(137)],s=function(e){function t(e){return e("/api-2.0/courses/:courseId/discussions/:id",null,{partial_update:{method:"PATCH"}})}function i(e){return e("/api-2.0/courses/:courseId/searchable-discussions/:id")}function n(e){return e("/api-2.0/courses/:courseId/discussions/:discussionId/replies/:id",null,{partial_update:{method:"PATCH"}})}function s(e){return e("/api-2.0/courses/:courseId/discussions/:discussionId/replies/:id/upvoters/:userId")}function r(e){return e("/api-2.0/courses/:courseId/discussions/:discussionId/followers/:userId")}return e.module("ng/services/question-answer-resources.ng-factory",["ngResource"]).factory("CourseQuestion",["$resource",t]).factory("CourseSearchableQuestion",["$resource",i]).factory("QuestionReply",["$resource",n]).factory("AnswerUpvote",["$resource",s]).factory("QuestionFollow",["$resource",r])}.apply(t,n),!(void 0!==s&&(e.exports=s))},1755:function(e,t,i){var n,s;n=[i(7),i(617)],s=function(e){function t(e,t){return{restrict:"A",priority:10,link:function(i,n,s){i.$watch(s.ngBindHtml,function(){var i=n.find(".prettyprint.linenums");i&&i.length>0&&(e(function(){return t.prettyPrint(null,n[0])},parseInt(s.prettifyDelay,10)||0),s.prettifyStopPropagation&&s.prettifyStopPropagation.length>0&&i.click(function(e){e.stopPropagation()}))})}}}var i=e.module("ng/directives/common/prettify.ng-directive",[]).directive("prettify",t);return t.$inject=["$timeout","$window"],i}.apply(t,n),!(void 0!==s&&(e.exports=s))},1756:function(e,t,i){var n,s;n=[i(7),i(137)],s=function(e){return e.module("ng/services/survey-resources.ng-factory",["ngResource"]).factory("Survey",["$resource",function(e){return e("/api-2.0/surveys/:name",null,{get:{method:"GET",cache:!0}})}]).factory("SurveyUserAnswer",["$resource",function(e){return e("/api-2.0/users/me/surveys/:surveyId/answers",null,{update:{method:"PUT"}})}]).factory("SurveyUserCourseAnswer",["$resource",function(e){return e("/api-2.0/users/me/courses/:courseId/surveys/:surveyId/answers",null,{update:{method:"PUT"}})}])}.apply(t,n),!(void 0!==s&&(e.exports=s))},1757:function(e,t){var i="/ng/directives/common/survey/survey-early-access-learning.ng-template.html",n='<div class="course-taking-survey container"> <form name=surveyForm novalidate> <div class=mt20 ng-repeat="question in survey.question_sets[0].questions"> <div class="bold mb20">{{ question.text }}</div> <select ng-model=userAnswers[question.id] ng-options="answer.id as answer.text for answer in question.answer_options" class=form-control> <option value="" ng-if=!userAnswers[question.id]>Select an answer</option> </select> </div> <table class=mt20 ng-repeat="questionSet in survey.question_sets.slice(1,3)"> <thead> <tr> <th ng-if="$index===0"><strong>The Instructor...</strong></th> <th ng-if="$index===1"><strong>The Course...</strong></th> <th class="text-center w160" ng-repeat="answer in questionSet.questions[0].answer_options"> <strong>{{ answer.text }}</strong> </th> </tr> </thead> <tbody> <tr ng-class="{\'bg-light-grey\': $index % 2 === 0}" ng-repeat="question in questionSet.questions"> <td class=pl15>{{ question.text }}</td> <td align=center ng-repeat="answer in question.answer_options"> <label class=radio> <input type=radio ng-model=userAnswers[question.id] ng-value=answer.id /> <span class=radio-label></span> </label> </td> </tr> </tbody> </table> <div class=mt20 ng-repeat="question in survey.question_sets[3].questions" ng-class="{\'error\':\n             surveyForm[\'survey-answer-{{ question.id }}\'].$dirty\n             && surveyForm[\'survey-answer-{{ question.id }}\'].$invalid}"> <div class="bold mb20">{{ question.text }}</div> <textarea type=text required class=form-control name="survey-answer-{{ question.id }}" ng-model=userAnswers[question.id]></textarea> <small ng-show="surveyForm[\'survey-answer-{{ question.id }}\'].$dirty\n                   && surveyForm[\'survey-answer-{{ question.id }}\'].$invalid"> Required </small> </div> <div class=mt20 ng-repeat="question in survey.question_sets[4].questions"> <div ng-if="$index === 0"> <div class="bold mb10">{{ question.text }}</div> <early-access-review-star user-answers=userAnswers answer-options=question.answer_options question-id="{{ question.id }}"></early-access-review-star> </div> <div ng-if="$index === 1" ng-class="{\'error\':\n                 surveyForm[\'survey-answer-{{ question.id }}\'].$dirty\n                 && surveyForm[\'survey-answer-{{ question.id }}\'].$invalid}"> <div class="bold mb20">{{ question.text }}</div> <textarea type=text required name="survey-answer-{{ question.id }}" class=form-control ng-model=userAnswers[question.id]></textarea> <small ng-show="surveyForm[\'survey-answer-{{ question.id }}\'].$dirty\n                       && surveyForm[\'survey-answer-{{ question.id }}\'].$invalid"> Required </small> </div> <div ng-if="$index === 2"> <span class=checkbox> <label> <input type=checkbox ng-model=userAnswers[question.id] ng-true-value="{{ question.answer_options[0].id }}"/> <span class=checkbox-label> {{ question.text }} </span> <label> </label></label></span> </div> </div> <div class=mt20 ng-repeat="question in survey.question_sets[5].questions"> <div class="bold mb20">{{ question.text }}</div> <textarea type=text class=form-control ng-model=userAnswers[question.id]></textarea> </div> </form> </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(i,n)}]),e.exports=i},1758:function(e,t){var i="/ng/directives/common/survey/survey.ng-template.html",n='<div class=survey--container> <form> <div ng-repeat="questionSet in survey.question_sets" class=survey-question-set> <div role=group ng-repeat="question in questionSet.questions" class="survey-question fx-c fx-wrap"> <span class="fx survey-question--text">{{ question.text | translate }}</span> <span ng-if=question.description class=tooltip-container> <i class="udi udi-question-circle"></i> <span class="tooltip tooltip-neutral"> <span class=tooltip-inner>{{ question.description | translate }}</span> </span> </span> <div class=survey-answer ng-if="question.question_type===\'choice\'"> <div class=answer-choice ng-class="isEarlyAccess ? \'radio-inline\' : \'radio-button radio\'" ng-repeat="answer in question.answer_options" ng-if="mcWidget===\'buttons\'"> <label> <input name="survey-question-{{ question.id }}" type=radio ng-model=$parent.userAnswers[question.id] ng-value=answer.id /> <span class="radio-label answer-label"> {{ answer.text | translate }} </span> </label> </div> <span class=answer-select ng-if="mcWidget===\'dropdown\'"> <select ng-model=userAnswers[question.id] ng-options="answer.id as answer.text|translate for answer in question.answer_options" class=form-control> <option value="" ng-if=!userAnswers[question.id] translate>Select an answer</option> </select> </span> </div> <span class="survey-answer answer-freeform" ng-if="question.question_type===\'freeform\'"> <textarea type=text class=form-control ng-model=userAnswers[question.id]></textarea> </span> </div> </div> </form> </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(i,n)}]),e.exports=i},1762:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=t.ReportAbuseButton=void 0;var n,s,r=i(1),o=babelHelpers.interopRequireDefault(r),a=i(197),l=babelHelpers.interopRequireDefault(a),c=i(119),u=babelHelpers.interopRequireDefault(c),d=i(582),h=babelHelpers.interopRequireDefault(d),p=i(579),f=babelHelpers.interopRequireDefault(p),g=i(1782),m=babelHelpers.interopRequireDefault(g);i(1788);var v=t.ReportAbuseButton=function(e){var t=e.showLabel,i=babelHelpers.objectWithoutProperties(e,["showLabel"]);return o["default"].createElement(l["default"],babelHelpers["extends"]({},i,{bsStyle:"default"}),o["default"].createElement(u["default"],{glyph:"flag"})," ",t?gettext("Report abuse"):"")};v.propTypes={showLabel:r.PropTypes.bool};var b=function(e){return o["default"].createElement(h["default"],babelHelpers["extends"]({},e,{id:"open-modal-tooltip",placement:"left"}),gettext("Report Abuse"))},w=function(e){return o["default"].createElement(f["default"],{placement:"left",trigger:["hover","click"],overlay:o["default"].createElement(b,null)},e)},y=(s=n=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,e.apply(this,arguments))}return babelHelpers.inherits(t,e),t.prototype.render=function(){var e=o["default"].createElement(v,babelHelpers["extends"]({className:this.props.className,showLabel:this.props.showLabel},this.buttonProps));return o["default"].createElement(m["default"],{initReactionFor:this.props.initReactionFor,onModalClick:this.props.onModalClick,url:this.popupUrl},this.props.showTooltip?w(e):e)},babelHelpers.createClass(t,[{key:"popupUrl",get:function(){var e=encodeURIComponent(this.props.objectType),t=encodeURIComponent(String(this.props.objectId));return"/feedback/report?related_object_type="+e+"&related_object_id="+t}},{key:"buttonProps",get:function(){var e=this.props,t=(e.initReactionFor,e.showLabel,e.showTooltip,e.objectId,e.objectType,e.onModalClick,babelHelpers.objectWithoutProperties(e,["initReactionFor","showLabel","showTooltip","objectId","objectType","onModalClick"]));return t}}]),t}(r.Component),n.propTypes={className:r.PropTypes.string,initReactionFor:r.PropTypes.func,objectId:r.PropTypes.number.isRequired,objectType:r.PropTypes.string.isRequired,onModalClick:r.PropTypes.func,showLabel:r.PropTypes.bool,showTooltip:r.PropTypes.bool},n.defaultProps={showTooltip:!0,showLabel:!1},s);t["default"]=y},1763:function(e,t,i){var n,s;n=[i(7)],s=function(e){function t(){this._propertyMap={fullscreen:["fullscreenElement","mozFullScreenElement","webkitFullscreenElement","msFullscreenElement"],fullscreenchange:["fullscreenchange","mozfullscreenchange","webkitfullscreenchange","MSFullscreenChange"],
requestFullscreen:["requestFullscreen","msRequestFullscreen","mozRequestFullScreen","webkitRequestFullscreen"],exitFullscreen:["exitFullscreen","msExitFullscreen","mozCancelFullScreen","webkitExitFullscreen"]},this.getProperty=function(e,t){for(var i=null,n=0;n<this._propertyMap[t].length;n++)if(e[this._propertyMap[t][n]]){i=e[this._propertyMap[t][n]];break}return i},this.isSupported=function(){return!!this.getProperty(document.documentElement,"requestFullscreen")},this.isFullscreen=function(){return!!this.getProperty(document,"fullscreen")},this.requestFullscreen=function(e){return!!this.isSupported()&&this.getProperty(e,"requestFullscreen").call(e)},this.exitFullscreen=function(){return!!this.isSupported()&&this.getProperty(document,"exitFullscreen").call(document)},this.toggleFullscreen=function(e){this.isFullscreen()?this.exitFullscreen():this.requestFullscreen(e)}}var i=e.module("ng/services/fullscreen.ng-service",[]);return i.service("Fullscreen",t),i}.apply(t,n),!(void 0!==s&&(e.exports=s))},1764:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(196),s=babelHelpers.interopRequireDefault(n);t["default"]={autorun:function(e,t){for(var i=arguments.length,n=Array(i>2?i-2:0),r=2;r<i;r++)n[r-2]=arguments[r];var o=s["default"].autorun.apply(s["default"],[function(){t(),!e.$root.$$phase&&!e.$$phase&&e.$apply()}].concat(n));e.$on("$destroy",function(){o()})},reaction:function(e,t,i){for(var n=arguments.length,r=Array(n>3?n-3:0),o=3;o<n;o++)r[o-3]=arguments[o];var a=s["default"].reaction.apply(s["default"],[t,function(){i.apply(void 0,arguments),!e.$root.$$phase&&!e.$$phase&&e.$apply()}].concat(r));e.$on("$destroy",function(){a()})}}},1777:function(e,t,i){"use strict";function n(e){var t=r["default"].locale.replace("_","-").toLowerCase();switch(t){case"de-de":i.e(135,function(t){e(i(1766))});break;case"es-es":i.e(134,function(t){e(i(1767))});break;case"fr-fr":i.e(133,function(t){e(i(1768))});break;case"it-it":i.e(132,function(t){e(i(1769))});break;case"ja-jp":i.e(131,function(t){e(i(1770))});break;case"ko-kr":i.e(130,function(t){e(i(1771))});break;case"pt-br":i.e(129,function(t){e(i(1772))});break;case"ru-ru":i.e(128,function(t){e(i(1773))});break;case"tr-tr":i.e(127,function(t){e(i(1774))});break;case"zh-cn":i.e(126,function(t){e(i(1775))});break;case"zh-tw":i.e(125,function(t){e(i(1776))});break;case"en-us":e();break;default:console.warn("Unsupported locale: "+t),e()}}Object.defineProperty(t,"__esModule",{value:!0}),t.loadVideojsLocale=n;var s=i(78),r=babelHelpers.interopRequireDefault(s)},1778:function(e,t,i){"use strict";function n(e,t,n){function s(s,o,l,c,u){function p(e){for(var t=[e],i=void 0;t.length>0;)i=t.shift(),i.children_&&i.children_.forEach(function(e){t.push(e)}),i.handleBlur&&i.handleBlur(),i.on&&i.on("dispose",function(){var e=this;this.bar=null,this.cache_=null,this.contentEl_=null,this.controlTextEl_=null,this.cueDiv=null,this.cues_=null,this.div=null,this.items=null,this.labelEl_=null,this.menu=null,this.options_&&Array.isArray(this.options_.children)&&this.options_.children.forEach(function(t){"string"==typeof t&&(e[t]=null)}),this.options_=null,this.player_=null,this.remoteTextTracks_=null,this.styleEl_=null,this.textTracks_=null,this.volumeBar=null})}function g(){s.useBrightcove?((0,a["default"])("#bc-style-vjs").length||(0,a["default"])("head").append('<style type="text/css" id="bc-style-vjs"></style>'),(0,a["default"])(".bc-style-default-default").length||(0,a["default"])("head").append('<style type="text/css" class="bc-style-default-default"></style>'),i.e(110,function(e){ne=i(1759)["default"],(0,h.loadVideojsLocale)(v)})):i.e(109,function(e){ne=i(1760)["default"],(0,h.loadVideojsLocale)(v)})}function v(){ae=Date.now();var e=o.find("video").eq(0);e.on("contextmenu",function(e){e.preventDefault()}),(s.videoAutoplay||s.lazyLoad)&&(e.get(0).autoplay=!0),A(),k(),C();var t=ne;s.useBrightcove?(t=window.bc,s.videojsSetup.flash=s.videojsSetup.flash||{},s.videojsSetup.flash.swf=d["default"].toJs("node_modules/videojs-brightcove/dist/video-js.swf"),s.videojsSetup["vtt.js"]=d["default"].toJs("node_modules/videojs-brightcove/dist/vtt.min.js")):(ne.options.flash.swf=d["default"].toJs("node_modules/video.js/dist/video-js.swf"),s.videojsSetup["vtt.js"]=d["default"].toJs("node_modules/videojs-vtt.js/dist/vtt.min.js")),se=t(s.playerId,s.videojsSetup),se.setInterval(te,1e3),se.ready(w);var i=null;s.videoAutoplay?(se.one("loadstart",function(){i=new Date}),se.one("playing",function(){var e=new Date,t=e-i,n={wait_time:t,time:t,key:"initial_start"};me=!0,L(n,!0),f["default"].trackPageEvent("videoplayertiming","coursetaking",n)})):(se.one("play",function(){i=new Date}),se.one("playing",function(){var e=new Date,t=e-i,n={wait_time:t,time:t,key:"initial_start"};L(n,!0),f["default"].trackPageEvent("videoplayertiming","coursetaking",n),me=!0})),se.on("seeking",function(){fe.startTime=new Date,fe.type="unbuffered_seek";for(var e=se.buffered(),t=0;t<e.length;t++)if(se.currentTime()>=e.start(t)&&se.currentTime()<=e.end(t)){fe.type="buffered_seek";break}}),se.on("seeked",function(){fe.endTime=new Date;var e=fe.endTime-fe.startTime,t={wait_time:e,time:e,key:fe.type};L(t,!0),f["default"].trackPageEvent("videoplayertiming","coursetaking",t),fe=ie()}),se.on("waiting",function(){me&&(ge.startTime=new Date,ge.type="waiting")}),se.on("timeupdate",function(){if(ge.startTime){ge.endTime=new Date;var e=ge.getTime(),t={wait_time:e,time:e,key:ge.type};L(t,!0),f["default"].trackPageEvent("videoplayertiming","coursetaking",t),ge=ie()}}),se.on("userinactive",V),se.on("error",D),se.on("fullscreenchange",I),se.on("play",H),se.on("pause",z),se.on("changeRes",j),se.on("ratechange",U),se.textTracks()&&se.textTracks().on("change",O),se.on("seeking",W),se.on("seeked",N),se.on("volumechange",Q),se.on("ended",function(){s.$apply(function(){return de(s.playerId,se)})}),se.on("seekforward",X),se.on("seekrewind",X),se.one("play",R),se.one("error",F),s.progressEventName&&(0,a["default"])(window).on(s.progressEventName,y),ue(s.playerId,se)}function w(){_(),se.techName_&&se.poster(s.thumbnail),se.on("downloadlecture",function(){return s.$apply(K)}),P({type:"viewed",mode:se.techName_}),S(),re=o.find(".vjs-error-display").eq(0),re.on("click",function(){(0,a["default"])(this).css("display","none")}),s.videoAutoplay||s.lazyLoad?F():(n(function(){s.showPlaceholderLoader=!1,s.showPlaceholderPlayButton=!0}),o.one("click",function(){F(),se.play()})),s.videoAutofocus&&se.el().focus()}function y(e,t){s.$apply(function(){return he(e,t)})}function A(){var t=s.videojsSetup.plugins||{};t.resolutionSelector&&(t.resolutionSelector.defaultRes=[e.get(J()),t.resolutionSelector.defaultRes].join(","))}function k(){x()&&(s.videojsSetup.nativeControlsForTouch=!0)}function C(){x()||(s.videojsSetup.html5={nativeTextTracks:!1})}function x(){return ne.browser.IS_ANDROID||ne.browser.IS_IOS}function _(){for(var e=se.controlBar.captionsButton,t=e?e.menu.children():[],i=0;i<t.length;i++)t[i].options_&&"captions off"===t[i].options_.label&&(t[i].el().innerText=se.localize("Off"))}function S(){var t=Number(e.get("volume")||"0.5");t>=0&&t<=1&&se.techName_&&se.volume(t);var i=Number(e.get("mute")||"0");i&&se.muted(!0);for(var n=e.get("caption"),s=se.textTracks()||[],r=0;r<s.length;r++)if(s[r].language===n){s[r].mode="showing",s.trigger("change");break}"Html5"===se.techName_&&E()}function E(){var t=se.playbackRate(),i=Number(e.get("playbackspeed")),n=s.videojsSetup.playbackRates||[];n.indexOf(i)===-1&&(i=t),t===i&&P({type:"playbackrate",speed:t}),se.one("canplaythrough",function(){se.playbackRate(i),se.trigger("ratechange")})}function F(){n(function(){s.showPlaceholder=!1,s.showPlaceholderLoader=!1,s.showPlaceholderPlayButton=!1})}function D(e){var t=se.error()||{};if("undefined"!=typeof t.code){var i=5;if(t.code===t.MEDIA_ERR_NETWORK&&oe<i)$(t);else if(t.code===t.MEDIA_ERR_SRC_NOT_SUPPORTED&&oe<i)$(t);else{oe>=i&&s.$apply(function(){s.allHopeIsLost=!0}),re&&re.css("display","block");var n=new XMLHttpRequest;n.open("HEAD",this.src(),!1),n.send(null),t.responseStatus=n.status,t.responseStatusText=n.statusText,b["default"].captureException("Video.JS ERROR",{tags:{src:this.src(),code:t.code,message:t.message,responseStatus:t.responseStatus,responseStatusText:t.responseStatusText}}),q(t)}}}function $(e){oe+=1,setTimeout(function(){se.src(se.options_.sources)},500*oe*oe),q(e,"videoplayer.error.retry")}function q(e,t){var i={cdn:s.cdn,retries:oe,code:e.code,tech:se.techName_,trackingTag:s.trackingTag||"",vjsVersion:s.useBrightcove?"brightcove":"opensource",responseStatus:e.responseStatus,responseStatusText:e.responseStatusText};t=t||"videoplayer.error",f["default"].increment(t,i),i.message=e.message,i.lectureId=s.lectureId,i.userId=m["default"].userId,i.assetId=s.assetId,i.userAgent=window.navigator&&window.navigator.userAgent;var n=ne.getComponent("Flash");i.flashExists=n&&n.isSupported();var r=ne.getComponent("Html5");i.html5Exists=r&&r.isSupported(),f["default"].trackPageEvent("pageview","sitewide",i),P({type:"error"})}function R(){f["default"].increment("udemy-video-player.viewed",{cdn:s.cdn,trackingTag:s.trackingTag||"",vjsVersion:s.useBrightcove?"brightcove":"opensource"}),M("videoplayer.timing.start",ae),(0,a["default"])(document).trigger("videoStarted")}function T(e){var t=[0,1e3,2e3,3e3,5e3,7500,15e4,3e5,5e5],i=void 0;for(i=0;i<t.length&&!(e<t[i]);i++);return i}function B(){if(se.tech_){var e=se.tech_.el();return e.webkitAudioDecodedByteCount+e.webkitVideoDecodedByteCount}}function L(e,t){if(e.player="videojs",e.mode=e.mode||se.techName_,e.isHotkeyPressed=se.isHotkeyPressed&&se.isHotkeyPressed(),e.stats={dimension2:e.player+" "+e.mode},e.vjsVersion=s.useBrightcove?"brightcove":"opensource",t){var i=e.stats;i.msPosition=1e3*se.currentTime(),m["default"]&&m["default"].userId&&(i.userId=m["default"].userId),i.format=se.currentType(),i.quality=se.getCurrentRes(),i.userAgent=window.navigator.userAgent,se.tech_?se.tech_.hls?(i.hlsBandwidthConfig=se.tech_.hls.bandwidth,i.streamType="HLS"):i.streamType="NOT-HLS":i.streamType="TECH UNDEFINED",Object.keys(ve).forEach(function(e){var t=ve[e].highest;t&&(i[e]=Math.round(t))}),i.assetId=s.assetId,i.cdn=s.cdn}}function P(e,t){L(e,t),pe(e),se.resetHotkeyPressed&&se.resetHotkeyPressed()}function M(e,t){var i=Date.now()-t,n={};s.countryId&&(n.country=s.countryId),n.time=i>3e5?1:0,n.resolution=se.getCurrentRes();var r=B()-ce,o=r/i;o&&(n.bandwidth=T(o)),n.cdn=s.cdn,n.tech=se.techName_,f["default"].timing(e,i,n)}function I(){P({type:"fullscreenchange",isFullscreen:se.isFullscreen()})}function H(){P({type:"play"},!0)}function z(){P({type:"pause"})}function O(){var e=void 0,t=!1,i=se.textTracks()||[];for(e=0;e<i.length;e++)if("showing"===i[e].mode){t=!0;break}var n=t?i[e].language:"";Z("caption",n);var s={type:"captionstrackchange",caption:t?"on":"off"};P(s)}function j(){var e=se.getCurrentRes();Z(J(),e),P({type:"qualityChange",quality:e})}function N(){P({type:"seek"},!0),M("videoplayer.timing.seek",le)}function W(){le=Date.now(),ce=B()}function U(){var e=se.playbackRate();Z("playbackspeed",e),P({type:"playbackrate",speed:e})}function V(e,t){P({type:"userinactive"})}function Q(){var e=Math.round(100*se.volume())/100;Z("volume",e),Z("mute",se.muted()?"1":"0"),P({type:"volume"})}function G(e){var t=e.data;if(t.asset.download_urls){for(var i=t.asset.download_urls.Video||t.asset.download_urls.Audio,n=i[i.length-1].file,s=se.getCurrentRes(),o=0;o<i.length;o++)if("download"===i[o].label&&(n=i[o].file),i[o].label===s){n=i[o].file;break}var a=r["default"].element("<a/>");a.css({display:"none"}),r["default"].element(document.body).append(a),a.attr({href:n,target:"_self"})[0].click(),a.remove()}}function K(){s.downloadApiUrl&&(t({method:"GET",url:s.downloadApiUrl,params:{"fields[lecture]":"asset","fields[asset]":"download_urls"}}).then(G),P({type:"downloadlecture"}))}function Y(){se.exitFullscreen()}function X(e){P({type:e.type,data:e.interval})}function J(){var e="general";return s.courseId&&(e=s.courseId),"quality_"+e}function Z(t,i){var n=2592e6,s=new Date;s.setTime(s.getTime()+n),e.put(t,i,{expires:s,path:"/"})}function ee(){this.highest=0,this.lastTotal=0}function te(){var e=Date.now(),t=(e-be)/1e3;be=e,ve.bytesSecHighestDecoder.add(B(),t);var i=se.duration();i&&ve.millisSecHighestBandwidth.add(se.bufferedPercent()*i*1e3,t),se.tech_&&se.tech_.hls&&ve.bytesSecHighestHLSBandwidth.add(se.tech_.hls.bytesReceived,t)}function ie(){return{type:null,startTime:null,endTime:null,getTime:function(){return this.endTime-this.startTime}}}var ne=void 0,se=null,re=null,oe=0,ae=0,le=0,ce=0,ue=s.onVideoAvailable||r["default"].noop,de=s.onVideoEnd||Y,he=s.onVideoProgress||r["default"].noop,pe=s.onVideoTracking||r["default"].noop,fe=ie(),ge=ie(),me=!1;s.allHopeIsLost=!1,s.showPlaceholder=!0,s.showPlaceholderLoader=!s.lazyLoad,s.showPlaceholderPlayButton=!!s.lazyLoad,s.downloadLecture=K,u(s,function(e,t){o.append(e),t.$on("$destroy",function(){e.remove()})}),s.lazyLoad?o.one("click",function(){n(function(){s.showPlaceholderPlayButton=!1,s.showPlaceholderLoader=!0}),g()}):g(),s.$on("$destroy",function(){s.progressEventName&&(0,a["default"])(window).off(s.progressEventName,y),re=null,se&&!function(){var e=s.videojsSetup.duration||se.duration()||0,t=se.textTracks(),i=t.length;if(t)for(t.off("change",O);i--;)t[i].tech_={currentTime:function(){return e}};se.el().blur(),p(se),se.dispose(),se.tech_=null}()});var ve={bytesSecHighestHLSBandwidth:new ee,bytesSecHighestDecoder:new ee,millisSecHighestBandwidth:new ee};ee.prototype.add=function(e,t){var i=(e-this.lastTotal)/t;i>this.highest&&(this.highest=i),this.lastTotal=e};var be=Date.now()}var o={cdn:"@?",countryId:"@?",downloadApiUrl:"@?",lazyLoad:"=?",lectureId:"@?",assetId:"@?",courseId:"@?",onVideoAvailable:"=?",onVideoEnd:"=?",onVideoProgress:"=?",onVideoTracking:"=?",playerId:"@",progressEventName:"@?",thumbnail:"@?",trackingTag:"@?",useBrightcove:"=?",videoAutofocus:"=?",videoAutoplay:"=?",videojsSetup:"="};return{link:s,restrict:"A",scope:o,transclude:!0}}Object.defineProperty(t,"__esModule",{value:!0});var s=i(7),r=babelHelpers.interopRequireDefault(s),o=i(5),a=babelHelpers.interopRequireDefault(o),l=i(40),c=babelHelpers.interopRequireDefault(l);i(200);var u=i(102),d=babelHelpers.interopRequireDefault(u),h=i(1777),p=i(374),f=babelHelpers.interopRequireDefault(p),g=i(41),m=babelHelpers.interopRequireDefault(g),v=i(570),b=babelHelpers.interopRequireDefault(v),w=r["default"].module("ng/apps/asset-player/videojs-ready.ng-directive",["ngCookies",c["default"].name]).directive("videojsReady",n);n.$inject=["$cookies","$http","$timeout"],t["default"]=w},1779:function(e,t,i){var n,s;n=[i(7),i(565),i(2167),i(1853),i(567),i(2327),i(2470),i(1722),i(1743),i(1750),i(252),i(570)],s=function(e,t,i,n,s,r,o,a,l,c,u,d){function h(t,i,n,s,r,o,l,c,h,p,f,g){function m(e){a.track("coursetaking","Lecture","mark-reset",null,null,null,{objectType:"Lecture",objectId:e.id});var t={courseId:y.courseId,lectureId:e.id};return l["delete"](t).$promise.then(function(){y.markCurriculumItemAsNotStarted(e)})}function v(e,t){return a.track("coursetaking","Lecture","mark-reset",null,null,null,{objectType:"Quiz",objectId:e.id}),s.save({courseId:y.courseId,quizId:e.id},{}).$promise.then(function(){y.markCurriculumItemAsNotStarted(e)})}function b(e,t){t||a.track("coursetaking","Lecture","mark-complete",null,null,null,{objectType:"Lecture",objectId:e.id});var i={courseId:y.courseId},n={lecture_id:e.id,downloaded:!!t};return l.save(i,n).$promise.then(function(){y.markCurriculumItemAsCompleted(e)})}function w(e){return a.track("coursetaking","Lecture","mark-complete",null,null,null,{objectType:"Quiz",objectId:e.id}),s.save({courseId:y.courseId,quizId:e.id},{marked_completed:!0}).$promise.then(function(){y.markCurriculumItemAsCompleted(e)})}var y=this;this._loadCurriculumPromise=null,this.currentSection=null,this.currentSectionItem=null,this.sections={},this.totalVideoLength=0;var A={};this.init=function(e,t){this.courseId=e,this.totalVideoLength=t},this.ensureCurriculumLoaded=function(){if(this._loadCurriculumPromise)return this._loadCurriculumPromise;throw new Error("call loadCurriculum before call any other method")},this.loadCurriculum=function(){var e=this;if(!this._loadCurriculumPromise){var t=this._getCurriculumApiCalls();u.start("_curriculumApi"),this._loadCurriculumPromise=i.all(t).then(function(t){u.end("_curriculumApi"),u.mark("CourseDashboard.curriculum-loaded"),u.sync();var i=t[0],n=t[1]||{started_lecture_ids:[],completed_lecture_ids:[],started_quiz_ids:[],completed_quiz_ids:[],started_assignment_ids:[],completed_assignment_ids:[],last_watched_seconds:{}};return e._createCurriculum(i,n)})}return this._loadCurriculumPromise},this.refreshCurriculum=function(){return this._loadCurriculumPromise=void 0,this.loadCurriculum()},this._getCurriculumApiCalls=function(){var e={page_size:9999,courseId:this.courseId,"fields[lecture]":"@min,object_index,asset,supplementary_assets,sort_order,is_published,is_free","fields[quiz]":"@min,object_index,title,sort_order,is_published","fields[practice]":"@min,object_index,title,sort_order,is_published","fields[chapter]":"@min,description,object_index,title,sort_order","fields[asset]":"@min,title,filename,asset_type,external_url,length"},t=[];return g.canEditCourse()?t.push(p.instructorCurriculumItems(e).$promise):t.push(p.subscriberCurriculumItems(e).$promise),t.push(f.get({courseId:this.courseId,"fields[course]":["started_lecture_ids","completed_lecture_ids","started_quiz_ids","completed_quiz_ids","num_completed_items","last_watched_seconds","started_assignment_ids","completed_assignment_ids"].join(",")}).$promise),t},this._createCurriculum=function(t,i){var n=this,s=0,r=0,o=t.results;return o=this._attachProgressData(o,i),e.forEach(o,function(e){if("chapter"===e._class)s=0,e.is_published=e.object_index>0,n.sections[++r]=new h(e,n.courseId);else{var t=null;n.sections[r]?(t=new c(e),t.isLocked=n.isItemLocked(t),n.sections[r].items.push(t)):(r=1,s=0,t=new c(e),t.isLocked=n.isItemLocked(t),n.sections[r]=new h({_class:"chapter",object_index:0,sort_order:1/0,is_published:!0},n.courseId),n.sections[r].items.push(t)),A[t.type+t.id.toString()]={sectionIndex:r,itemIndex:s},s++}}),e.forEach(this.sections,function(e){e.calculateStats()}),this},this._setProgressStatus=function(e,t,i){i.indexOf(e.id)!==-1?e.progress_status="completed":t.indexOf(e.id)!==-1?e.progress_status="started":e.progress_status="not_started"},this._attachProgressData=function(e,t){var i=this;return e.map(function(e){return"lecture"===e._class?(e.last_watched_second=t.last_watched_seconds[e.id]||0,i._setProgressStatus(e,t.started_lecture_ids,t.completed_lecture_ids)):"quiz"===e._class?i._setProgressStatus(e,t.started_quiz_ids,t.completed_quiz_ids):"practice"===e._class&&i._setProgressStatus(e,t.started_assignment_ids,t.completed_assignment_ids),e})},this.setCurrentItem=function(e){this.currentSection&&(this.currentSection.current=!1,this.currentSection=null),this.currentSectionItem&&(this.currentSectionItem.current=!1,this.currentSectionItem=null);var t=A[e.type+e.id];this.currentSection=this.sections[t.sectionIndex],this.currentSection.current=!0,this.currentSectionItem=this.sections[t.sectionIndex].items[t.itemIndex],this.currentSectionItem.current=!0},this.getCurriculumItem=function(e,t){var i=A[e+t];if(!i)return null;var n=this.sections[i.sectionIndex].items[i.itemIndex];return n.isLocked=this.isItemLocked(n),this.sections[i.sectionIndex].items[i.itemIndex]},this.getSectionOfCurriculumItem=function(e,t){var i=A[e+t];return i?this.sections[i.sectionIndex]:null},this.getCurrentCurriculumItem=function(){return this.getCurriculumItem(t.current.data.objectType,t.params.id)},this.getFirstCurriculumItem=function(){var e=this.sections[0]||this.sections[1];return e&&e.items[0]},this.getNextCurriculumItem=function(e){var t=A[e.type+e.id];if(t){var i=this.sections[t.sectionIndex].items[t.itemIndex+1];return i?i:this.sections[t.sectionIndex+1]?this.sections[t.sectionIndex+1].items[0]:void 0}},this.getNextCurriculumItemFiltered=function(e,t){var i=e;do{if(e=this.getNextCurriculumItem(e),!e&&(e=this.getFirstCurriculumItem(),!e))return null;if(t(e))return e}while(i!=e);return null},this.getPrevCurriculumItem=function(e){var t=A[e.type+e.id],i=this.sections[t.sectionIndex].items[t.itemIndex-1];return i?i:this.sections[t.sectionIndex-1]?this.sections[t.sectionIndex-1].items[this.sections[t.sectionIndex-1].items.length-1]:void 0},this.getNumCompletedItems=function(){var t=0;return e.forEach(this.sections,function(e){t+=e.numCompletedItems}),t},this.getNumCompletedItemsByType=function(t){var i=0;return e.forEach(this.sections,function(e){i+=e.numCompletedItemsByType[t]||0}),i},this.getCompletedVideoLength=function(){var t=0;return e.forEach(this.sections,function(e){t+=e.completedVideoLength||0}),t},this.markLectureAsViewed=function(e){var t=this;r.save({courseId:this.courseId,id:e.id},{}).$promise.then(function(){t.markCurriculumItemAsStarted(e)})},this.setCurriculumItemAsNotStarted=function(e){e.isLoading=!0;var t=void 0;if("lecture"==e.type)t=m(e);else if("quiz"==e.type)t=v(e);else{var s="Curriculum type "+e.type+" is not supported for setCurriculumItemAsNotStarted function";d.captureException(s),t=i.reject(s)}return t.then(function(){e.isLoading=!1,n.$broadcast("curriculumchanged")})["catch"](function(){e.isLoading=!1})},this.setCurriculumItemAsCompleted=function(e){e.isLoading=!0;var t=void 0;if("lecture"==e.type)t=b(e,!1);else if("quiz"==e.type)t=w(e);else{var s="Curriculum type "+e.type+" is not supported for setCurriculumItemAsCompleted function";d.captureException(s),t=i.reject(s)}return t.then(function(){e.isLoading=!1,n.$broadcast("curriculumchanged")})["catch"](function(){e.isLoading=!1})},this.markCurriculumItemAsNotStarted=function(e){e.progressStatus="not_started";var t=A[e.type+e.id];this.sections[t.sectionIndex].calculateStats()},this.markCurriculumItemAsStarted=function(e){"not_started"===e.progressStatus&&(e.progressStatus="started")},this.markCurriculumItemAsCompleted=function(e){e.progressStatus="completed";var t=A[e.type+e.id];this.sections[t.sectionIndex].calculateStats()},this.updateLectureProgress=function(e,t){var i=this;o.save({courseId:this.courseId,id:e.id},t).$promise.then(function(t){if(t.just_completed){var n=i.getCurriculumItem("lecture",e.id);i.markCurriculumItemAsCompleted(n)}})},this.isItemLocked=function(e){return!(!(g.isFreePreviewer()&&e&&e.data)||"lecture"==e.data._class&&e.data.is_free)},this.isFreeFilter=function(e){return e&&e.data&&e.data.is_free}}var p=e.module("ng/apps/course-taking-v4/curriculum/curriculum.ng-service",["ui.router",i.name,n.name,s.name,r.name,o.name,l.name,c.name]).service("Curriculum",h);return h.$inject=["$state","$q","$rootScope","AttemptedQuiz","SubscribedLectureViewLog","SubscribedLectureProgressLog","CompletedLecture","CurriculumItem","CurriculumSection","CourseCurriculum","CourseProgress","ViewMode"],p}.apply(t,n),!(void 0!==s&&(e.exports=s))},1780:function(e,t,i){"use strict";function n(){return{controller:s,restrict:"E",scope:{commentResource:"=",commentResourcePathParams:"=",commentThread:"=",canReply:"=?",pageSize:"@?",onCreate:"&?",autoLoad:"=?",cannedComments:"=?"},templateUrl:h["default"]}}function s(e,t){function i(){e.pagination.page+=1,n()}function n(){e.showShowCommentsLabel=!1,e.loading=!0;var t=o["default"].extend({},e.commentResourcePathParams,{page:e.pagination.page,page_size:e.pagination.pageSize});return e.commentResource.get(t).$promise.then(function(t){e.pagination.total=t.count,e.comments=e.comments.concat(t.results)})["finally"](function(){e.loading=!1})}function s(t){e.pagination.total-=1,e.comments=e.comments.filter(function(e){return e.id!==t.id})}function r(t){e.pagination.total+=1,e.comments.unshift(t),e.placeholderComment={user:u["default"],content:""},e.onCreate&&e.onCreate({comment:t})}function a(t,i){e.placeholderComment.content=t,e.placeholderComment.cannedCommentId=i}e.pageSize=o["default"].isUndefined(e.pageSize)?8:parseInt(e.pageSize,10),e.canReply=!!o["default"].isUndefined(e.canReply)||e.canReply,e.autoLoad=!o["default"].isUndefined(e.autoLoad)&&e.autoLoad,e.cannedComments=o["default"].isUndefined(e.cannedComments)?null:e.cannedComments,e.placeholderComment={user:u["default"],content:""},e.comments=[],e.commentThread&&e.commentThread.comments&&(e.comments=e.commentThread.comments),e.pagination=t.getNew(e.pageSize),e.showShowCommentsLabel=e.commentThread&&e.commentThread.num_comments&&!e.comments.length,e.loadMore=i,e.loadComments=n,e.onCommentCreate=r,e.onCommentDelete=s,e.setPlaceholderComment=a,e.autoLoad&&e.commentThread&&n()}Object.defineProperty(t,"__esModule",{value:!0});var r=i(7),o=babelHelpers.interopRequireDefault(r),a=i(1730),l=babelHelpers.interopRequireDefault(a),c=i(41),u=babelHelpers.interopRequireDefault(c),d=i(1811),h=babelHelpers.interopRequireDefault(d),p=i(1800),f=babelHelpers.interopRequireDefault(p),g=i(1801),m=babelHelpers.interopRequireDefault(g);t["default"]=o["default"].module("ng/directives/comments/comment-thread.ng-directive",[f["default"].name,m["default"].name,l["default"].name]).directive("commentThread",n),s.$inject=["$scope","Pagination"]},1782:function(e,t,i){"use strict";function n(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function s(e,t,i,n,s){var r={};return Object.keys(n).forEach(function(e){r[e]=n[e]}),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=i.slice().reverse().reduce(function(i,n){return n(e,t,i)||i},r),s&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(s):void 0,r.initializer=void 0),void 0===r.initializer&&(Object.defineProperty(e,t,r),r=null),r}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var r,o,a,l,c,u=i(118),d=babelHelpers.interopRequireDefault(u),h=i(196),p=i(195),f=i(1),g=babelHelpers.interopRequireDefault(f),m=i(586),v=babelHelpers.interopRequireDefault(m),b=(0,p.observer)((c=l=function(e){function t(i){babelHelpers.classCallCheck(this,t);var s=babelHelpers.possibleConstructorReturn(this,e.call(this,i));return n(s,"isOpen",a,s),s.props.initReactionFor&&s.props.initReactionFor(s),s.triggerComponent=g["default"].cloneElement(g["default"].Children.only(s.props.children),{onClick:s.onClick}),s}return babelHelpers.inherits(t,e),t.prototype.onClick=function i(e){var t=this.props,n=t.children,i=t.onClick;n.props.onClick&&n.props.onClick(e),i&&i(e),this.isOpen=!0},t.prototype.onHide=function(){this.isOpen=!1},t.prototype.render=function(){return g["default"].createElement("span",null,this.triggerComponent,g["default"].createElement(v["default"],babelHelpers["extends"]({},this.modalProps,{show:this.isOpen,url:this.props.url,onClick:this.props.onModalClick,onHide:this.onHide})))},babelHelpers.createClass(t,[{key:"modalProps",get:function(){var e=this.props,t=(e.children,e.initReactionFor,e.onClick,e.onModalClick,e.url,babelHelpers.objectWithoutProperties(e,["children","initReactionFor","onClick","onModalClick","url"]));return t}}]),t}(f.Component),l.propTypes={children:f.PropTypes.node.isRequired,initReactionFor:f.PropTypes.func,onClick:f.PropTypes.func,onModalClick:f.PropTypes.func,url:f.PropTypes.string.isRequired},o=c,a=s(o.prototype,"isOpen",[h.observable],{enumerable:!0,initializer:function(){return!1}}),s(o.prototype,"onClick",[d["default"],h.action],Object.getOwnPropertyDescriptor(o.prototype,"onClick"),o.prototype),s(o.prototype,"onHide",[d["default"],h.action],Object.getOwnPropertyDescriptor(o.prototype,"onHide"),o.prototype),r=o))||r;t["default"]=b},1783:function(e,t,i){"use strict";function n(){return{restrict:"A",controller:"OpenModalController",scope:{backdrop:"@",requireLogin:"=",enableLoader:"=",traditionalFormSubmit:"=?",hasHeader:"=?",autoOpen:"=?",onClose:"&?",additionalClass:"@"},link:function(e,t,i){e.modalWindowTemplateUrl=m["default"],e.autoOpen&&e.openTemplateUrl(s(i)),t.on("click",function(t){t.preventDefault(),e.openTemplateUrl(s(i))})}}}function s(e){var t=e.href,i=e.templateUrl,n=e.requireLogin,s=e.showLoginPopup,r=e.signupPopupIdentifier,o=new l["default"](i||t),a=o.toString();if(n){var c=s?"login-popup":"signup-popup",d={display_type:"popup",next:a};r&&(d.xref=r),a=u["default"].to("join",c,d)}else a=o.addQueryParam("display_type","popup").toString();return a}Object.defineProperty(t,"__esModule",{value:!0});var r=i(7),o=babelHelpers.interopRequireDefault(r),a=i(161),l=babelHelpers.interopRequireDefault(a);i(194);var c=i(102),u=babelHelpers.interopRequireDefault(c),d=i(566),h=babelHelpers.interopRequireDefault(d),p=i(587),f=babelHelpers.interopRequireDefault(p),g=i(589),m=babelHelpers.interopRequireDefault(g),v=i(588),b=babelHelpers.interopRequireDefault(v);n.$inject=[],t["default"]=o["default"].module("ng/directives/common/modal/open-modal.ng-directive",["ui.bootstrap",h["default"].name,f["default"].name,b["default"].name]).directive("openModal",n)},1784:function(e,t,i){var n,s;n=[i(7),i(5),i(161),i(163),i(381)],s=function(e,t,i,n){return e.module("ng/directives/common/popup.ng-directive",[]).directive("popup",["$timeout","$parse",function(e,s){return{scope:{open:"=?",href:"@",extraCss:"@",beforeClose:"&?"},restrict:"EA",terminal:!0,link:function(r,o,a){o=t(o),o.css("display","block");var l={scrolling:"auto",width:a.width||400,height:a.height||"auto",minWidth:a.width||400,minHeight:a.height||"auto",autoDimensions:!1,autoCenter:!0,padding:0,autoSize:!0,fitToView:!1,wrapCSS:"static-content-wrapper "+r.extraCss,afterShow:function(){n["default"](),this.inner.ud_initialize(),t.fancybox.update(),setTimeout(function(){t.fancybox.update()},1e3)},beforeClose:function(){t("#fancybox-overlay").addClass("noopacity");var i=!r.beforeClose||r.beforeClose();return e(function(){r.$apply()},0),i}};r.$watch("href",function(e){if(e){var t=void 0;"#"!==e[0]&&(l.type="ajax",t=new i(a.href),t.addQueryParam("displayType","ajax"),t.addQueryParam("display_type","popup")),l.href=t}}),r.$watch("open",function(e){e&&(t.fancybox.open(o,l),r.open=!1)}),r.$watch(function(){return s(a.reposition)(r)},function(e){e&&t.fancybox.reposition()})}}}])}.apply(t,n),!(void 0!==s&&(e.exports=s))},1785:function(e,t,i){var n,s;n=[i(7)],s=function(e){return e.module("ng/filters/ceil.ng-filter",[]).filter("ceil",[function(){return function(e){return Math.ceil(e)}}])}.apply(t,n),!(void 0!==s&&(e.exports=s))},1786:function(e,t,i){t=e.exports=i(562)(),t.push([e.id,".report-popup{background:#fff;border-radius:5px;padding:30px}@media only screen and (max-width:768px){.report-popup{padding:10px}}.report-popup #id_reason{cursor:pointer;height:45px;margin-top:25px;width:300px}.report-popup #id_description{height:160px}.report-popup .form-actions{margin-top:25px}.report-popup #button-id-cancel{margin-left:20px}.report-popup .report-copyright,.report-popup .report-copyright .report-rights-owner,.report-popup .report-copyright .report-third-party{display:none}.report-popup .report-copyright label{font-weight:400}.report-popup .report-copyright ul.report-rights-owner{text-align:center}.report-popup .report-copyright p{margin:20px 0}",""])},1787:function(e,t){var i="/ng/directives/common/ud-wysiwyg.ng-template.html",n='<textarea data-autoresize=true data-theme={{redactorTheme}} ng-focus="requestEditorInit = true"></textarea>';window.angular.module("ng").run(["$templateCache",function(e){e.put(i,n)}]),e.exports=i},1788:function(e,t,i){var n=i(1786);"string"==typeof n&&(n=[[e.id,n,""]]);i(563)(n,{});n.locals&&(e.exports=n.locals)},1794:function(e,t,i){var n,s;n=[i(7),i(576),i(1785),i(1744),i(1831),i(1720),i(1832),i(572),i(1833),i(1834),i(1732)],s=function(e,t,i,n,s,r,o,a,l,c,u){return e.module("ng/filters/module",[t.name,i.name,n.name,s.name,r.name,o.name,a["default"].name,l.name,c.name,u.name])}.apply(t,n),!(void 0!==s&&(e.exports=s))},1795:function(e,t,i){var n,s;n=[i(7),i(1807),i(198),i(35)],
s=function(e,t,i,n){function s(i,s){var r=void 0;r="DEV"===n.env?n.brand.is_udemy?"key_test_odgEKD7HeY8pCwFbkosrribgArahL8zN":"key_test_ebnrXmCOBlD9UQdlGuImyhilsymwj142":n.brand.is_udemy?"key_live_dkmkLOFE7jz8nKqIcFl0hliaamb5MyJ6":"key_live_ociw5pCRCis8ILedNrHjEbkfxCgwEgdh",t.init(r,function(e,t){}),this.createLink=function(e){return i(function(i){t.link(e,function(e,t){i(t)})})},this.createiOSLinkWithDesktop=function(t){var i=e.copy(t);return i.data=i.data||{},i.data.$desktop_url=n.third_party.branch_metrics.ios_download_url,this.createLink(i)},this.createAndroidLinkWithDesktop=function(t){var i=e.copy(t);return i.data=i.data||{},i.data.$desktop_url=n.third_party.branch_metrics.android_download_url,this.createLink(i)},this.createUFBLink=function(t){var i=e.copy(t);return i.data=e.extend({},i.data,{organizationName:n.brand.title,organizationIdentifier:n.brand.identifier,ufbDomain:n.brand.url,$ios_url:n.third_party.branch_metrics.ios_ufb_download_url,$android_url:n.third_party.branch_metrics.android_ufb_download_url}),"ios"===s.getMobileOSType()&&(i.data.$desktop_url=n.third_party.branch_metrics.ios_ufb_download_url),"android"===s.getMobileOSType()&&(i.data.$desktop_url=n.third_party.branch_metrics.android_ufb_download_url),this.createLink(i)}}var r=e.module("ng/services/branch-metrics/branch-metrics.ng-service",[i.name]).service("branchMetricsService",s);return s.$inject=["$q","Mobile"],r}.apply(t,n),!(void 0!==s&&(e.exports=s))},1796:function(e,t,i){"use strict";function n(e){return{scope:{slideUrls:"=",updateProgress:"="},restrict:"E",transclude:!0,templateUrl:d["default"],link:function(t,i){function n(){e.toggleFullscreen(document.body)}function s(){t.prevDisabled()||o(t.currSlide-1)}function r(){t.nextDisabled()||o(t.currSlide+1)}function o(e){if(e!==t.currSlide&&!l){l=!0;var n=i[0].getElementsByClassName("slide--center"),s=n[t.currSlide-1],r=n[e-1],o=void 0;if(e<t.currSlide)for(s.classList.add("slide--right"),r.classList.remove("slide--left"),o=e;o<t.currSlide-1;o++)n[o].classList.add("slide--right"),n[o].classList.remove("slide--left");else for(s.classList.add("slide--left"),r.classList.remove("slide--right"),o=t.currSlide;o<e-1;o++)n[o].classList.add("slide--left"),n[o].classList.remove("slide--right");t.currSlide=e,a(),l=!1}}function a(){if(t.updateProgress){var e={position:t.currSlide,total:t.numSlides,context:{type:"Presentation"}};t.updateProgress(e)}}var l=!1,c={70:n,37:s,39:r};t.currSlide=1,t.numSlides=t.slideUrls.length,t.showDefaultRightControls=0===i.find("ng-transclude").children().length;var u=100/t.numSlides;t.progressUnitWidths=function(){for(var e=[],i=1;i<t.numSlides;i++)e.push(u+"%");var n=100-u*(t.numSlides-1);return e.push(n+"%"),e}(),t.currentProgressWidth=function(){var e=100;return t.currSlide<t.numSlides&&(e=u*t.currSlide),e+"%"},t.isFullscreen=e.isFullscreen.bind(e),t.toggleFullscreen=n,t.prevDisabled=function(){return 1===t.currSlide||l},t.nextDisabled=function(){return t.currSlide>=t.numSlides||l},t.prev=s,t.next=r,t.skipTo=o,t.hotkey=function(e){var t=c[e.keyCode];t&&t()},t.$emit("contentready"),i[0].getElementsByClassName("container--presentation")[0].focus(),a()}}}Object.defineProperty(t,"__esModule",{value:!0});var s=i(7),r=babelHelpers.interopRequireDefault(s),o=i(1763),a=babelHelpers.interopRequireDefault(o),l=i(40),c=babelHelpers.interopRequireDefault(l),u=i(1808),d=babelHelpers.interopRequireDefault(u),h=r["default"].module("ng/apps/asset-player/presentation-player.ng-directive",[c["default"].name,a["default"].name]).directive("presentationPlayer",n);n.$inject=["Fullscreen"],t["default"]=h},1800:function(e,t,i){"use strict";function n(){return{controller:s,restrict:"E",scope:{cannedComments:"=",onSelect:"&"},templateUrl:l["default"]}}function s(e){e.selectCannedComment=function(){var t=e.selectedCannedComment&&e.selectedCannedComment.content||"",i=e.selectedCannedComment&&e.selectedCannedComment.id||null;e.onSelect({text:t,cannedCommentId:i})}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(7),o=babelHelpers.interopRequireDefault(r),a=i(1809),l=babelHelpers.interopRequireDefault(a);t["default"]=o["default"].module("ng/directives/comments/canned-comments.ng-directive",[]).directive("cannedComments",n),s.$inject=["$scope"]},1801:function(e,t,i){"use strict";function n(){return{controller:s,restrict:"E",scope:{comment:"=",commentResource:"=",commentResourcePathParams:"=",editMode:"=?",onCreate:"&?",onDelete:"&?"},templateUrl:x["default"]}}function s(e,t,i){function n(n){n.preventDefault();var s=t.getString("Are you sure you want to delete?");i(s).then(function(){var t=o["default"].extend({},e.commentResourcePathParams,{commentId:e.comment.id});e.deleteInProgress=!0,e.commentResource["delete"](t).$promise.then(function(){e.deleteInProgress=!1,e.onDelete&&e.onDelete({comment:e.comment})})})}function s(t){t.preventDefault(),e.editMode=!0}function r(t){var i=e.comment.content&&e.comment.content.trim();if(!e.formState.submitDisabled&&i){t.preventDefault(),e.comment.content=i,e.formState.submitDisabled=!0;var n=null,s={content:e.comment.content};if(e.comment.cannedCommentId&&(s.canned_comments=[e.comment.cannedCommentId]),e.comment.id){var r=o["default"].extend({},e.commentResourcePathParams,{commentId:e.comment.id});n=e.commentResource.update(r,s).$promise.then(function(){e.editMode=!1})}else n=e.commentResource.save(e.commentResourcePathParams,s).$promise.then(function(t){e.onCreate&&e.onCreate({comment:t})});n["finally"](function(){e.formState.submitDisabled=!1})}}function a(t){t.preventDefault(),e.formState.shouldBlur=!0,e.comment.id&&(e.editMode=!1)}e.formState={shouldBlur:!1,shouldFocus:!1,isTextAreaFocused:!1,submitDisabled:!1},e.me=y["default"],e.reportAbusePopup={enabled:k["default"].features.report_abuse&&e.me.id!=e.comment.user.id,open:!1},e.escPressed=a,e.deleteComment=n,e.updateComment=s,e.submitCommentForm=r}Object.defineProperty(t,"__esModule",{value:!0});var r=i(7),o=babelHelpers.interopRequireDefault(r);i(1816);var a=i(566),l=babelHelpers.interopRequireDefault(a),c=i(1747),u=babelHelpers.interopRequireDefault(c),d=i(1720),h=babelHelpers.interopRequireDefault(d),p=i(572),f=babelHelpers.interopRequireDefault(p),g=i(1727),m=babelHelpers.interopRequireDefault(g),v=i(40),b=babelHelpers.interopRequireDefault(v),w=i(41),y=babelHelpers.interopRequireDefault(w),A=i(35),k=babelHelpers.interopRequireDefault(A),C=i(1810),x=babelHelpers.interopRequireDefault(C);t["default"]=o["default"].module("ng/directives/comments/comment.ng-directive",["ui.keypress",l["default"].name,h["default"].name,m["default"].name,b["default"].name,f["default"].name,u["default"].name]).directive("comment",n),s.$inject=["$scope","gettextCatalog","udConfirm"]},1802:function(e,t,i){"use strict";function n(e,t){e.captions={},e.hasCaptions=function(){for(var t in e.captions)if(Object.prototype.hasOwnProperty.call(e.captions,t))return!0;return!1},e["delete"]=function(i){t["delete"]({captionId:i}).$promise.then(function(){delete e.captions[i]})}}function s(){return{restrict:"E",replace:!0,templateUrl:f["default"],scope:{id:"@captionId",locale:"@",file:"@"},link:function(e){e["delete"]=function(){e.$parent["delete"](e.id)}}}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(7),o=babelHelpers.interopRequireDefault(r),a=i(136),l=babelHelpers.interopRequireDefault(a),c=i(1805),u=babelHelpers.interopRequireDefault(c),d=i(40),h=babelHelpers.interopRequireDefault(d),p=i(1812),f=babelHelpers.interopRequireDefault(p);t["default"]=o["default"].module("ng/directives/common/caption/caption.ng-directive",[h["default"].name,u["default"].name]).config(l["default"]).controller("AssetCaptions",["$scope","Caption",n]).directive("assetCaption",["Caption",s])},1805:function(e,t,i){var n,s;n=[i(7),i(137)],s=function(e){return e.module("ng/services/asset-resources.ng-factory",["ngResource"]).factory("Caption",["$resource",function(e){return e("/api-2.0/users/me/captions/:captionId")}])}.apply(t,n),!(void 0!==s&&(e.exports=s))},1807:function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;!function(){function aa(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var i=Object.prototype.toString.call(e);if("[object Window]"==i)return"object";if("[object Array]"==i||"number"==typeof e.length&&"undefined"!=typeof e.splice&&"undefined"!=typeof e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==i||"undefined"!=typeof e.call&&"undefined"!=typeof e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&"undefined"==typeof e.call)return"object";return t}function ba(){function e(){t.length&&t[0](function(){t.shift(),e()})}var t=[];return function(i){t.push(i),1==t.length&&e()}}function m(b){if(b=String(b),/^\s*$/.test(b)?0:/^[\],:{}\s\u2028\u2029]*$/.test(b.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+b+")")}catch(a){}throw Error("Invalid JSON string: "+b)}function n(e){var t=[];return p(new ca,e,t),t.join("")}function ca(){}function p(e,t,i){if(null==t)i.push("null");else{if("object"==typeof t){if("array"==aa(t)){var n=t;t=n.length,i.push("[");for(var s="",r=0;r<t;r++)i.push(s),p(e,n[r],i),s=",";return void i.push("]")}if(!(t instanceof String||t instanceof Number||t instanceof Boolean)){i.push("{"),s="";for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r=t[n],"function"!=typeof r&&(i.push(s),q(n,i),i.push(":"),p(e,r,i),s=","));return void i.push("}")}t=t.valueOf()}switch(typeof t){case"string":q(t,i);break;case"number":i.push(isFinite(t)&&!isNaN(t)?t:"null");break;case"boolean":i.push(t);break;case"function":break;default:throw Error("Unknown type: "+typeof t)}}}function q(e,t){t.push('"',e.replace(da,function(e){var t=r[e];return t||(t="\\u"+(65536|e.charCodeAt(0)).toString(16).substr(1),r[e]=t),t}),'"')}function t(e){try{return m(e.get("branch_session"))||null}catch(t){return null}}function u(e,t){return e.replace(/\$(\d)/g,function(e,i){return t[parseInt(i,10)-1]})}function w(e){return{data:e.data||null,referring_identity:e.referring_identity||null,identity:e.identity||null,has_app:e.has_app||null,referring_link:e.referring_link||null}}function x(e){return e.source="web-sdk",e.data&&void 0!==e.data.$desktop_url&&(e.data.$desktop_url=e.data.$desktop_url.replace(/#r:[a-z0-9-_]+$/i,"").replace(/([\?\&]_branch_match_id=\d+)/,"")),e.data=n(e.data||{}),e}function y(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e}function B(){return!!navigator.userAgent.match(/android|i(os|p(hone|od|ad))/i)&&(navigator.userAgent.match(/android/i)?"android":navigator.userAgent.match(/ipad/i)?"ipad":"ios")}function ea(e){return e.replace(/(\-\w)/g,function(e){return e[1].toUpperCase()})}function fa(e){var t,i,n,s,r,o,a="",l=0;for(e=e.replace(/\r\n/g,"\n"),i="",n=0;n<e.length;n++)s=e.charCodeAt(n),128>s?i+=String.fromCharCode(s):(127<s&&2048>s?i+=String.fromCharCode(s>>6|192):(i+=String.fromCharCode(s>>12|224),i+=String.fromCharCode(s>>6&63|128)),i+=String.fromCharCode(63&s|128));for(e=i;l<e.length;)t=e.charCodeAt(l++),i=e.charCodeAt(l++),n=e.charCodeAt(l++),s=t>>2,t=(3&t)<<4|i>>4,r=(15&i)<<2|n>>6,o=63&n,isNaN(i)?r=o=64:isNaN(n)&&(o=64),a=a+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(s)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(t)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(r)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(o);return a}function C(e){for(var t=0;t<e.length;t++){var i=this[e[t]],i="function"==typeof i?i():i;if(i.isEnabled())return i.i={},i}}function D(e){return"branch_session"==e?e:"BRANCH_WEBSDK_KEY"+e}function E(e){return"true"==e||"false"!=e&&e}function F(e){var t=e?localStorage:sessionStorage;return{s:function(){var e,i=null;for(e in t)0==e.indexOf("BRANCH_WEBSDK_KEY")&&(null===i&&(i={}),i[e.replace("BRANCH_WEBSDK_KEY","")]=E(t.getItem(e)));return i},get:function(e){return E(t.getItem(D(e)))},set:function(e,i){t.setItem(D(e),i)},remove:function(e){t.removeItem(D(e))},clear:function(){Object.keys(t).forEach(function(e){0==e.indexOf("BRANCH_WEBSDK_KEY")&&t.removeItem(e)})},isEnabled:function(){try{return t.setItem("test",""),t.removeItem("test"),!0}catch(e){return!1}}}}function G(e){return{s:function(){for(var e=document.cookie.split(";"),t={},i=0;i<e.length;i++){var n=e[i].replace(" ",""),n=n.substring(0,n.length);-1!=n.indexOf("BRANCH_WEBSDK_KEY")&&(n=n.split("="),t[n[0].replace("BRANCH_WEBSDK_KEY","")]=E(n[1]))}return t},get:function(e){e=D(e)+"=";for(var t=document.cookie.split(";"),i=0;i<t.length;i++){var n=t[i],n=n.substring(1,n.length);if(0==n.indexOf(e))return E(n.substring(e.length,n.length))}return null},set:function(t,i){var n=D(t),s="";e&&(s=new Date,console.log(s),s.setTime(s.getTime()+31536e6),s="; branch_expiration_date="+s.toGMTString()+"; expires="+s.toGMTString()),document.cookie=n+"="+i+s+"; path=/"},remove:function(e){document.cookie=D(e)+"=; expires=; path=/"},clear:function(){function t(e){document.cookie=e.substring(0,e.indexOf("="))+"=;expires=-1;path=/"}for(var i=document.cookie.split(";"),n=0;n<i.length;n++){var s=i[n],s=s.substring(1,s.length);-1!=s.indexOf("BRANCH_WEBSDK_KEY")&&(e||-1!=s.indexOf("branch_expiration_date=")?e&&0<s.indexOf("branch_expiration_date=")&&t(s):t(s))}},isEnabled:function(){return navigator.cookieEnabled}}}function H(e){return!!e.className.match(/(\s|^)branch-banner-is-active(\s|$)/)}function ga(){var e=document.body;H(e)||(e.className+=" branch-banner-is-active")}function ha(e){var t=new Date;return t.setDate(t.getDate()+e)}function I(e){return document.body.currentStyle?document.body.currentStyle[ea(e)]:window.getComputedStyle(document.body).getPropertyValue(e)}function J(e){function t(e){function i(){return Math.max(document.documentElement.clientHeight,window.innerHeight||0)/100}function n(){return Math.max(document.documentElement.clientWidth,window.innerWidth||0)/100}if(!e)return 0;var s=e.replace(/[0-9,\.]/g,"");e=e.match(/\d+/g);var r=parseInt(0<e.length?e[0]:"0",10);return parseInt({px:function(e){return e},em:function(e){return document.body.currentStyle?e*t(document.body.currentStyle.fontSize):e*parseFloat(window.getComputedStyle(document.body).fontSize)},rem:function(e){return document.documentElement.currentStyle?e*t(document.documentElement.currentStyle.fontSize):e*parseFloat(window.getComputedStyle(document.documentElement).fontSize)},vw:function(e){return e*n()},vh:function(e){return e*i()},vmin:function(e){return e*Math.min(i(),n())},vmax:function(e){return e*Math.max(i(),n())},"%":function(){return document.body.clientWidth/100*r}}[s](r),10)}return(t("76px")+t(e)).toString()+"px"}function ia(e,t){var i=e.get("hideBanner"),i="number"==typeof i?new Date>=new Date(i):!i,n=t.o;return"number"==typeof n&&(n=!1),!document.getElementById("branch-banner")&&!document.getElementById("branch-banner-iframe")&&(i||n)&&(t.W&&!B()||t.v&&"android"==B()||t.X&&"ipad"==B()||"ipad"!=B()&&t.w&&"ios"==B())}function K(){}function L(e,t,i){var n=[];if(t instanceof Array)for(e=0;e<t.length;e++)n.push(encodeURIComponent(i)+"="+encodeURIComponent(t[e]));else for(var s in t)t.hasOwnProperty(s)&&(t[s]instanceof Array||"object"==typeof t[s]?n.push(L(e,t[s],i?i+"."+s:s)):n.push(encodeURIComponent(i?i+"."+s:s)+"="+encodeURIComponent(t[s])));return n.join("&")}function ja(e,t,i){var n,s,r=t.destination+t.b;if(t.c)for(n in t.c)if(t.c.hasOwnProperty(n)){if(s=t.c[n](t.b,n,i[n]))return{error:s};r+="/"+i[n]}var o={};for(n in t.a)if(t.a.hasOwnProperty(n)){if(s=t.a[n](t.b,n,i[n]))return{error:s};s=i[n],"undefined"!=typeof s&&""!==s&&null!==s&&(o[n]=s)}if(n=/^[0-9]{15,20}$/,s=/key_(live|test)_[A-Za-z0-9]{32}/,"POST"===t.method||"/v1/credithistory"===t.b)if(i.branch_key&&s.test(i.branch_key))o.branch_key=i.branch_key;else{if(!i.app_id||!n.test(i.app_id))return{error:u("API request $1 missing parameter $2",[t.b,"branch_key or app_id"])};o.app_id=i.app_id}return{data:L(e,o,""),url:r}}function ka(e){var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src=e,document.getElementsByTagName("head")[0].appendChild(t)}function M(e,t,i,s,r){var o="branch_callback__"+e.j++;e=0<=t.indexOf("api.branch.io")?"&data=":"&post_data=",i="POST"==s?encodeURIComponent(fa(n(i))):"";var a=window.setTimeout(function(){window[o]=function(){},r(Error("Request timed out"),null,504)},5e3);window[o]=function(e){window.clearTimeout(a),r(null,e)},ka(t+(0>t.indexOf("?")?"?":"")+(i?e+i:"")+(0<=t.indexOf("/c/")?"&click=1":"")+"&callback="+o)}function la(e,t,i,n,s,r){var o=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");o.ontimeout=function(){r(Error("Request timed out"),null,504)},o.onreadystatechange=function(){if(4===o.readyState)if(200===o.status)try{r(null,m(o.responseText),o.status)}catch(e){r(null,{},o.status)}else 402===o.status?r(Error("Not enough credits to redeem."),null,o.status):"4"!==o.status.toString().substring(0,1)&&"5"!==o.status.toString().substring(0,1)||r(Error("Error in API: "+o.status),null,o.status)};try{o.open(n,t,!0),o.timeout=5e3,o.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),o.send(i)}catch(a){s.set("use_jsonp",!0),M(e,t,i,n,r)}}function ma(e,t,i,n,s){var r=ja(e,t,i);if(r.error)s(Error(r.error));else{var o,a="";"GET"==t.method?o=r.url+"?"+r.data:(o=r.url,a=r.data);var l=2,c=function(e,t,i){e&&0<l&&"5"===i.toString().substring(0,1)?(l--,window.setTimeout(function(){u()},200)):s(e,t)},u=function(){n.get("use_jsonp")||t.N?M(e,o,i,t.method,c):la(e,o,a,t.method,n,c)};u()}}function N(e,t){return function(i,n,s){if("number"==typeof s||s)if(0==t){if("object"!=typeof s)return u("API request $1, parameter $2 is not $3",[i,n,"an object"])}else if(3==t){if(!(s instanceof Array))return u("API request $1, parameter $2 is not $3",[i,n,"an array"])}else if(2==t){if("number"!=typeof s)return u("API request $1, parameter $2 is not $3",[i,n,"a number"])}else if(4==t){if("boolean"!=typeof s)return u("API request $1, parameter $2 is not $3",[i,n,"a boolean"])}else{if("string"!=typeof s)return u("API request $1, parameter $2 is not $3",[i,n,"a string"]);if(1!=t&&!t.test(s))return u("API request $1, parameter $2 is not $3",[i,n,"in the proper format"])}else if(e)return u("API request $1 missing parameter $2",[i,n]);return!1}}function P(e){var t={},t={session_id:N(!0,O),identity_id:N(!0,O),sdk:N(!0,1)};return y(e,t)}function Ba(e,t){return"#branch-banner-iframe { position: "+("top"==t?e?"fixed":"absolute":"fixed")+"; }\n"}function Ca(e,t){var i=".branch-banner-is-active { -webkit-transition: all 0.375s ease; transition: all 00.375s ease; }\n#branch-banner { width:100%; z-index: 99999; font-family: Helvetica Neue, Sans-serif; -webkit-font-smoothing: antialiased; -webkit-user-select: none; -moz-user-select: none; user-select: none; -webkit-transition: all 0.25s ease; transition: all 00.25s ease; }\n#branch-banner * { margin-right: 4px; position: relative; line-height: 1.2em; }\n#branch-banner-close { font-weight: 400; cursor: pointer; float: left; z-index: 2; }\n#branch-banner .content { width:100%; overflow: hidden; height: 76px; background: rgba(255, 255, 255, 0.95); color: #333; "+("top"==e.position?"border-bottom":"border-top")+': 1px solid #ddd; padding: 6px; }\n#branch-banner .icon { float: left; }\n#branch-banner .icon img { width: 63px; height: 63px; }\n#branch-banner .details { top: 50%; transform: translateY(-50%); float: left; position: absolute; left: 92px; }\n#branch-banner .details > * { display: block; }\n#branch-banner .right > div { float: right; }\n#branch-banner-action { top: 17px; }\n#branch-banner .content:after { content: ""; position: absolute; left: 0; right: 0; top: 100%; height: 1px; background: rgba(0, 0, 0, 0.2); }\n',n=B();"ios"!=n&&"ipad"!=n||!e.w?"android"==n&&e.v?i+="#branch-banner { position: absolute; }\n#branch-banner-close { margin-top: 22px; }\n#branch-banner .content .left { position: absolute; right: 100px; left: 4px; height: 63px; float: left; }\n#branch-banner .content .right { width: 100px; margin-top: -22px; right: 4px; top: 50%; position: absolute; height: 24px; float: right; }\n#branch-banner .content .left .details .title { font-size: 12px; }\n#branch-banner .content .left .details { padding-right: 6px; left: 88px; position: absolute; }\n#branch-banner a { text-decoration: none; }\n#branch-mobile-action { top: 7px; }\n#branch-banner .content .left .details .description { font-size: 11px; font-weight: normal; }\n#branch-banner-close { height:17px; width: 17px; text-align: center; font-size: 15px; border-radius:14px; border:0; line-height:14px; color:#b1b1b3; background:#efefef; }\n#branch-mobile-action { top: 2px; text-decoration:none; border-bottom: 3px solid #A4C639; padding: 0 10px; height: 24px; line-height: 24px; text-align: center; color: #fff; font-weight: bold; background-color: #A4C639; border-radius: 5px; }\n#branch-mobile-action:hover { border-bottom:3px solid #8c9c29; background-color: #c1d739; }\n":(i+="#branch-banner { position: fixed; min-width: 600px; }\n#branch-banner-close { color: #aaa; font-size: 24px; top: 14px; }\n#branch-banner-close:hover { color: #000; }\n#branch-banner .left, .right { width: 47%;  top: 0; float: left; }\n#branch-banner .title { font-size: 14px; }\n#branch-banner .description { font-size: 12px; font-weight: normal; }\n#branch-sms-block * { vertical-align: bottom; font-size: 15px; }\n#branch-sms-block { display: inline-block; }\n#branch-sms-phone { font-weight: 400; border-radius: 4px; height: 30px; border: 1px solid #ccc; padding: 5px 7px 4px; width: 145px; font-size: 14px; }\n#branch-sms-send { cursor: pointer; margin-top: 0px; font-size: 14px; display: inline-block; height: 30px; margin-left: 5px; font-weight: 400; border-radius: 4px; border: 1px solid #ccc; background: #fff; color: #000; padding: 0px 12px; }\n#branch-sms-send:hover { border: 1px solid #BABABA; background: #E0E0E0; }\n#branch-sms-phone:focus, button:focus { outline: none; }\n#branch-sms-phone.error { color: rgb(194, 0, 0); border-color: rgb(194, 0, 0); }\n#branch-banner .branch-icon-wrapper { width:25px; height: 25px; vertical-align: middle; display: inline-block; margin-top: -18px; }\n@keyframes branch-spinner { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }\n@-webkit-keyframes branch-spinner { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }\n#branch-spinner { -webkit-animation: branch-spinner 1s ease-in-out infinite; animation: branch-spinner 1s ease-in-out infinite; transition: all 0.7s ease-in-out; border:2px solid #ddd; border-bottom-color:#428bca; width:80%; height:80%; border-radius:50%; -webkit-font-smoothing: antialiased !important; }\n",i=window.ActiveXObject?i+"#branch-banner .checkmark { color: #428bca; font-size: 22px; }\n":i+"#branch-banner .checkmark { stroke: #428bca; stroke-dashoffset: 745.74853515625; stroke-dasharray: 745.74853515625; -webkit-animation: dash 2s ease-out forwards; animation: dash 2s ease-out forwards; }\n@-webkit-keyframes dash { 0% { stroke-dashoffset: 745.748535 15625; } 100% { stroke-dashoffset: 0; } }\n@keyframes dash { 0% { stroke-dashoffset: 745.74853515625; } 100% { stroke-dashoffset: 0; } }\n"):i+="#branch-banner { position: absolute; }\n#branch-banner-close { margin-top: 22px; }\n#branch-banner .content .left { position: absolute; right: 100px; left: 4px; height: 63px; float: left; }\n#branch-banner .content .right { width: 100px; margin-top: -22px; right: 4px; top: 50%; position: absolute; height: 24px; float: right; }\n#branch-banner .content .left .details .title { font-size: 12px; }\n#branch-banner .content .left .details { padding-right: 6px; left: 88px; position: absolute; }\n#branch-banner a { text-decoration: none; }\n#branch-mobile-action { top: 7px; }\n#branch-banner .content .left .details .description { font-size: 11px; font-weight: normal; }\n#branch-banner-close { margin-left: 4px; }\n#branch-mobile-action { top: 7px; }\n#branch-banner a { color: #428bca; }\n",i+=e.I,e.l&&(i+="body { margin: 0; }\n",n=document.createElement("style"),n.type="text/css",n.id="branch-iframe-css",n.innerHTML="body { -webkit-transition: all 0.375s ease; transition: all 00.375s ease; }\n#branch-banner-iframe { box-shadow: 0 0 1px rgba(0,0,0,0.2); width: 1px; min-width:100%; left: 0; right: 0; border: 0; height: 76px; z-index: 99999; -webkit-transition: all 0.25s ease; transition: all 00.25s ease; }\n"+(B()?Ba(e.R,e.position):Ba(e.J,e.position)),document.head.appendChild(n)),n=document.createElement("style"),n.type="text/css",n.id="branch-css",n.innerHTML=i,(e.l?t.contentWindow.document:document).head.appendChild(n),"top"==e.position?t.style.top="-76px":"bottom"==e.position&&(t.style.bottom="-76px")}function Da(e,t){return'<div class="content"><div class="left">'+(e.K?"":'<div id="branch-banner-close" class="branch-animation">&times;</div>')+'<div class="icon"><img src="'+e.icon+'"></div><div class="details"><div class="title">'+e.title+'</div><div class="description">'+e.description+'</div></div></div><div class="right" id="branch-banner-action">'+t+"</div></div>"}function Ea(e,t){var i='<div id="branch-sms-form-container">'+(B()?'<a id="branch-mobile-action" href="#" target="_parent">'+(t.get("has_app")?e.S:e.L)+"</a>":'<div class="branch-icon-wrapper" id="branch-loader-wrapper" style="opacity: 0;"><div id="branch-spinner"></div></div><div id="branch-sms-block"><form id="sms-form"><input type="phone" class="branch-animation" name="branch-sms-phone" id="branch-sms-phone" placeholder="'+e.T+'"><button type="submit" id="branch-sms-send" class="branch-animation">'+e.U+"</button></form></div>")+"</div>";if(e.l){var n=document.createElement("iframe");n.src="about:blank",n.style.overflow="hidden",n.scrolling="no",n.id="branch-banner-iframe",n.className="branch-animation",document.body.appendChild(n);var s=B(),i='<html><head></head><body class="'+("ios"==s||"ipad"==s?"branch-banner-ios":"android"==s?"branch-banner-android":"branch-banner-desktop")+'"><div id="branch-banner" class="branch-animation">'+Da(e,i)+"</body></html>";n.contentWindow.document.open(),n.contentWindow.document.write(i),n.contentWindow.document.close()}else n=document.createElement("div"),n.id="branch-banner",n.className="branch-animation",n.innerHTML=Da(e,i),document.body.appendChild(n);return i=n}function Fa(e,t,i,n){function s(){o(),c.style.background="#FFD4D4",l.className="error",setTimeout(function(){c.style.background="#FFFFFF",l.className=""},2e3)}function r(){a=e.createElement("div"),a.className="branch-icon-wrapper",a.id="branch-checkmark",a.style="opacity: 0;",a.innerHTML=window.ActiveXObject?'<span class="checkmark">&#x2713;</span>':'<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 98.5 98.5" enable-background="new 0 0 98.5 98.5" xml:space="preserve"><path class="checkmark" fill="none" stroke-width="8" stroke-miterlimit="10" d="M81.7,17.8C73.5,9.3,62,4,49.2,4C24.3,4,4,24.3,4,49.2s20.3,45.2,45.2,45.2s45.2-20.3,45.2-45.2c0-8.6-2.4-16.6-6.5-23.4l0,0L45.6,68.2L24.7,47.3"/></svg>',d.appendChild(a),c.style.opacity="0",l.style.opacity="0",u.style.opacity="0",setTimeout(function(){a.style.opacity="1"},20),l.value=""}function o(){c.removeAttribute("disabled"),l.removeAttribute("disabled"),c.style.opacity="1",l.style.opacity="1",u.style.opacity="0"}var a,l=e.getElementById("branch-sms-phone"),c=e.getElementById("branch-sms-send"),u=e.getElementById("branch-loader-wrapper"),d=e.getElementById("branch-sms-form-container");if(l){var h=l.value;/^\d{7,}$/.test(h.replace(/[\s()+\-\.]|ext/gi,""))?(R(t,"willSendBannerSMS"),c.setAttribute("disabled",""),l.setAttribute("disabled",""),c.style.opacity=".4",l.style.opacity=".4",u.style.opacity="1",l.className="",t.sendSMS(h,n,i,function(e){e?(R(t,"sendBannerSMSError"),s()):(R(t,"didSendBannerSMS"),r(),setTimeout(function(){d.removeChild(a),o()},3e3))})):s()}}function Ga(e,t,i,n){if(ia(n,t)){R(e,"willShowBanner");var s=Ea(t,n);Ca(t,s),i.channel=i.channel||"app banner";var r=t.l?s.contentWindow.document:document;if(B()){var o=S(e);o&&!t.make_new_link?r.getElementById("branch-mobile-action").href=o:e.link(i,function(e,t){e||(r.getElementById("branch-mobile-action").href=t)})}else r.getElementById("sms-form").addEventListener("submit",function(n){n.preventDefault(),Fa(r,e,t,i)});var o=I("margin-top"),a=document.body.style.marginTop,l=I("margin-bottom"),c=document.body.style.marginBottom,u=r.getElementById("branch-banner-close"),d=function(e){setTimeout(function(){s&&s.parentNode.removeChild(s);var t=document.getElementById("branch-css");t&&t.parentNode.removeChild(t),e()},270),setTimeout(function(){"top"==t.position?document.body.style.marginTop=a:"bottom"==t.position&&(document.body.style.marginBottom=c);var e=document.body;H(e)&&(e.className=e.className.replace(/(\s|^)branch-banner-is-active(\s|$)/," "))},20),"top"==t.position?s.style.top="-76px":"bottom"==t.position&&(s.style.bottom="-76px"),"number"==typeof t.o?n.set("hideBanner",ha(t.o)):n.set("hideBanner",!0)};return u&&(u.onclick=function(t){t.preventDefault(),R(e,"willCloseBanner"),d(function(){R(e,"didCloseBanner")})}),ga(),"top"==t.position?document.body.style.marginTop=J(o):"bottom"==t.position&&(document.body.style.marginBottom=J(l)),setTimeout(function(){"top"==t.position?s.style.top="0":"bottom"==t.position&&(s.style.bottom="0"),R(e,"didShowBanner")},20),d}R(e,"willNotShowBanner")}function U(e,t,i){return function(){var n,s,r=this,o=arguments[arguments.length-1];0===e||"function"!=typeof o?(s=function(e){if(e)throw e},n=Array.prototype.slice.call(arguments)):(n=Array.prototype.slice.call(arguments,0,arguments.length-1)||[],s=o),r.G(function(o){function a(t,i){if(t&&0===e)throw t;1===e?s(t):2===e&&s(t,i),o()}if(!i){if(1==r.h)return a(Error(u("Branch SDK initialization pending and a Branch method was called outside of the queue order")),null);if(2==r.h)return a(Error(u("Branch SDK initialization failed, so further methods cannot be called")),null);if(0==r.h||!r.h)return a(Error(u("Branch SDK not initialized")),null)}n.unshift(a),t.apply(r,n)})}}function V(){if(!(this instanceof V))return T||(T=new V),T;this.G=ba();var e=[],e=B()?["local","permcookie"]:["session","cookie"];e.push("pojo"),this.g=new C(e),this.H=new K,this.j=[],this.B="web"+h.version,this.h=0}function W(e,t,i,n){e.A&&(i.app_id=e.A),e.C&&(i.branch_key=e.C),(t.a&&t.a.session_id||t.c&&t.c.session_id)&&e.F&&(i.session_id=e.F),(t.a&&t.a.identity_id||t.c&&t.c.identity_id)&&e.u&&(i.identity_id=e.u),(t.a&&t.a.link_click_id||t.c&&t.c.link_click_id)&&e.M&&(i.link_click_id=e.M),(t.a&&t.a.sdk||t.c&&t.c.sdk)&&e.B&&(i.sdk=e.B),ma(e.H,t,i,e.g,function(e,t){n(e,t)})}function S(e){var t=e.g.get("referring_link");return e=e.g.get("click_id"),t?t:e?h.m+"/c/"+e:null}function R(e,t){e.j.forEach(function(e){(e.event&&e.event==t||!e.event)&&e.listener(t)})}var h={m:"https://bnc.lt",f:"https://api.branch.io",version:"1.6.1"},r={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\x0B":"\\u000b"},da=/\uffff/.test("￿")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g;C.prototype.local=function(){return F(!0)},C.prototype.session=function(){return F(!1)},C.prototype.cookie=function(){return G(!1)},C.prototype.permcookie=function(){return G(!0)},C.prototype.pojo={s:function(){return this.i},get:function(e){return"undefined"!=typeof this.i[e]?this.i[e]:null},set:function(e,t){this.i[e]=t},remove:function(e){delete this.i[e]},clear:function(){this.i={}},isEnabled:function(){return!0}},C.prototype.titanium={s:function(){for(var e={},t=Ti.App.Properties.P(),i=0;i<t.length;i++)-1!=t[i].indexOf("BRANCH_WEBSDK_KEY")&&(e[t[i]]=E(Ti.App.Properties.getString(t[i])));return e},get:function(e){Ti.App.Properties.getString(D(e));
},set:function(e,t){Ti.App.Properties.setString(D(e),t)},remove:function(e){Ti.App.Properties.setString(D(e),"")},clear:function(){for(var e=Ti.App.Properties.P(),t=0;t<e.length;t++)-1!=e[t].indexOf("BRANCH_WEBSDK_KEY")&&Ti.App.Properties.setString(e[t],"")},isEnabled:function(){try{return Ti.App.Properties.setString("test",""),Ti.App.Properties.getString("test"),!0}catch(e){return!1}}},K.prototype.j=0;var O=/^[0-9]{15,20}$/,na={destination:h.f,b:"/v1/open",method:"POST",a:{identity_id:N(!1,O),link_identifier:N(!1,1),is_referrable:N(!0,2),sdk:N(!1,1),browser_fingerprint_id:N(!0,O)}},oa={destination:h.m,b:"/_r",method:"GET",N:!0,a:{sdk:N(!0,1)}},pa={destination:h.m,b:"",method:"GET",c:{link_url:N(!0,1)},a:{click:N(!0,1)}},qa={destination:h.m,b:"/c",method:"POST",c:{link_url:N(!0,1)},a:{sdk:N(!1,1),phone:N(!0,1)}},ra={destination:h.f,b:"/v1/referralcode",method:"POST",a:P({prefix:N(!1,1),amount:N(!0,2),expiration:N(!1,1),calculation_type:N(!0,2),location:N(!0,2),creation_type:N(!0,2),type:N(!0,1),bucket:N(!1,1)})},sa={destination:h.f,b:"/v1/referralcode",method:"POST",c:{code:N(!0,1)},a:P({})},ta={destination:h.f,b:"/v1/applycode",method:"POST",c:{code:N(!0,1)},a:P({})},ua={destination:h.f,b:"/v1/logout",method:"POST",a:P({session_id:N(!0,O)})},va={destination:h.f,b:"/v1/profile",method:"POST",a:P({identity_id:N(!0,O),identity:N(!0,1)})},wa={destination:h.f,b:"/v1/referrals",method:"GET",c:{identity_id:N(!0,O)},a:P({})},xa={destination:h.f,b:"/v1/credithistory",method:"GET",a:P({link_click_id:N(!1,O),length:N(!1,2),direction:N(!1,2),begin_after_id:N(!1,O),bucket:N(!1,1)})},ya={destination:h.f,b:"/v1/credits",method:"GET",c:{identity_id:N(!0,O)},a:P({})},za={destination:h.f,b:"/v1/redeem",method:"POST",a:P({identity_id:N(!0,O),amount:N(!0,2),bucket:N(!0,1)})},Q={destination:h.f,b:"/v1/url",method:"POST",aa:"obj",a:P({identity_id:N(!0,O),data:N(!1,1),tags:N(!1,3),feature:N(!1,1),campaign:N(!1,1),channel:N(!1,1),stage:N(!1,1),type:N(!1,2),alias:N(!1,1)})},Aa={destination:h.f,b:"/v1/event",method:"POST",a:P({event:N(!0,1),metadata:N(!0,0)})},T;V.prototype.init=U(2,function(e,i){function s(t,i){i&&(i=r(i),a.g.set("branch_session",n(i)),a.h=3,i.data_parsed=i.data?m(i.data):null),t&&(a.h=2),a.O&&setTimeout(function(){a.O=!1},2e3),e(t,i&&w(i))}function r(e){return e.session_id&&(a.F=e.session_id.toString()),e.identity_id&&(a.u=e.identity_id.toString()),e.link&&(a.V=e.link),e.referring_link&&(e.referring_link="http"!=e.referring_link.substring(0,4)?"https://bnc.lt"+e.referring_link:e.referring_link),!e.click_id&&e.referring_link&&(e.click_id=e.referring_link.substring(e.referring_link.lastIndexOf("/")+1,e.referring_link.length)),e}var o,a=this;a.h=1,-1<i.indexOf("key_")?a.C=i:a.A=i;var l=t(a.g);if(l&&l.session_id)s(null,l);else{var c;e:{try{c=window.location.search.substring(1).match(/_branch_match_id=([^&]*)/)[1];break e}catch(u){}c=void 0}if(!(l=c))e:{try{l=window.location.hash.match(/r:([^&]*)/)[1];break e}catch(d){}l=void 0}o=l,W(a,oa,{sdk:h.version},function(e,t){return e?s(e,null):void W(a,na,{link_identifier:o,is_referrable:1,browser_fingerprint_id:t},function(e,t){t&&o&&(t.click_id=o),s(e,t)})})}},!0),V.prototype.data=U(2,function(e){var i=w(t(this.g));i.referring_link=S(this),e(null,i)}),V.prototype.setIdentity=U(2,function(e,t){var i=this;W(this,va,{identity:t},function(t,n){n=n||{},i.u=n.identity_id.toString(),i.V=n.link,i.Z=n.identity,n.referring_data_parsed=n.referring_data?m(n.referring_data):null,e(null,n)})}),V.prototype.logout=U(1,function(e){W(this,ua,{},e)}),V.prototype.track=U(1,function(e,t,i){i||(i={}),W(this,Aa,{event:t,metadata:y({url:document.URL,user_agent:navigator.userAgent,language:navigator.language},i||{})},e)}),V.prototype.link=U(2,function(e,t){W(this,Q,x(t),function(t,i){e(t,i&&i.url)})}),V.prototype.sendSMS=U(1,function(e,t,i,n){function s(i){W(r,qa,{link_url:i,phone:t},e)}var r=this;"function"==typeof n?n={}:"undefined"!=typeof n&&null!==n||(n={}),n.make_new_link=n.make_new_link||!1,i.channel&&"app banner"!=i.channel||(i.channel="sms");var o=S(r);o&&!n.make_new_link?s(o.substring(o.lastIndexOf("/")+1,o.length)):W(r,Q,x(i),function(t,i){return t?e(t):void W(r,pa,{link_url:"l/"+i.url.split("/").pop(),click:"click"},function(t,i){return t?e(t):(r.g.set("click_id",i.click_id),void s(i.click_id))})})}),V.prototype.referrals=U(2,function(e){W(this,wa,{},e)}),V.prototype.getCode=U(2,function(e,t){t.type="credit",t.Y=2,W(this,ra,t,e)}),V.prototype.validateCode=U(1,function(e,t){W(this,sa,{code:t},e)}),V.prototype.applyCode=U(1,function(e,t){W(this,ta,{code:t},e)}),V.prototype.credits=U(2,function(e){W(this,ya,{},e)}),V.prototype.creditHistory=U(2,function(e,t){W(this,xa,t||{},e)}),V.prototype.redeem=U(1,function(e,t,i){W(this,za,{amount:t,bucket:i},e)}),V.prototype.addListener=function(e,t){"function"==typeof e&&void 0==t&&(t=e),t&&this.j.push({listener:t,event:e||null})},V.prototype.removeListener=function(e){e&&(this.j=this.j.filter(function(t){if(t.listener!==e)return t}))},V.prototype.banner=U(0,function(e,t,i){"undefined"==typeof t.forgetHide&&"undefined"!=typeof t.forgetHide&&(t.forgetHide=t.forgetHide);var n={icon:t.icon||"",title:t.title||"",description:t.description||"",S:t.openAppButtonText||"View in app",L:t.downloadAppButtonText||"Download App",U:t.sendLinkText||"Send Link",T:t.phonePreviewText||"(999) 999-9999",l:"undefined"==typeof t.iframe||t.iframe,w:"undefined"==typeof t.showiOS||t.showiOS,X:"undefined"==typeof t.showiPad||t.showiPad,v:"undefined"==typeof t.showAndroid||t.showAndroid,W:"undefined"==typeof t.showDesktop||t.showDesktop,K:!!t.disableHide,o:"number"==typeof t.forgetHide?t.forgetHide:!!t.forgetHide,position:t.position||"top",I:t.customCSS||"",R:"undefined"!=typeof t.mobileSticky&&t.mobileSticky,J:"undefined"==typeof t.desktopSticky||t.desktopSticky,$:!!t.make_new_link};"undefined"!=typeof t.showMobile&&(n.w=n.v=t.showMobile),this.D=Ga(this,n,i,this.g),e()}),V.prototype.closeBanner=U(0,function(e){if(this.D){var t=this;R(this,"willCloseBanner"),this.D(function(){R(t,"didCloseBanner")})}e()});var X=new V;if(window.branch&&window.branch._q)for(var Ha=window.branch._q,Z=0;Z<Ha.length;Z++){var Ia=Ha[Z];X[Ia[0]].apply(X,Ia[1])}__WEBPACK_AMD_DEFINE_RESULT__=function(){return X}.call(exports,__webpack_require__,exports,module),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)),window&&(window.branch=X)}(),module.exports=window.branch},1808:function(e,t){var i="/ng/apps/asset-player/presentation-player.ng-template.html",n='<div class=container--presentation tabindex=-1 ng-keyup=hotkey($event)> <div class="pos-r w100p h100p"> <div class="presentation__slide slide--center" ng-class="{\'slide--right\': !$first}" ng-repeat="slideUrl in slideUrls"> <img ng-src="{{ slideUrl }}" alt=Slide /> </div> </div> <div class="player-footer player-controls"> <div class=presentation__progress-bar> <div class="progress-bar__inner-bar bg-line-grey"></div> <div class="progress-bar__inner-bar bg-green" ng-style="{width: currentProgressWidth()}"></div> <div class=progress-bar__inner-bar> <div class=inner-bar__progress-unit ng-repeat="progressUnitWidth in progressUnitWidths track by $index" ng-style="{width: progressUnitWidth}" ng-click="skipTo($index + 1)"> </div> </div> </div> <div class=presentation__controls> <div class=controls__left> <button class="btn btn-sm btn-slide-control" ng-click=prev() ng-disabled=prevDisabled()> <i class="udi udi-previous"></i> </button> <button class="btn btn-sm btn-slide-control" ng-click=next() ng-disabled=nextDisabled()> <i class="udi udi-next"></i> </button> <span class="btn-text--sm slide-counter-display" translate>{{ currSlide }} of {{ numSlides }} Slides</span> </div> <ng-transclude class=controls__right></ng-transclude> <div class=controls__right ng-if=showDefaultRightControls> <button class="btn btn-sm btn-icon" ng-click=toggleFullscreen()> <i class=udi ng-class="{\'udi-fullscreen\': !isFullscreen(), \'udi-exit-fullscreen\': isFullscreen()}"></i> </button> </div> </div> </div> </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(i,n)}]),e.exports=i},1809:function(e,t){var i="/ng/directives/comments/canned-comments-directive.ng-template.html",n='<select ng-show="cannedComments && cannedComments.length" ng-change=selectCannedComment() ng-model=selectedCannedComment ng-options="(c.title + \' (\' + c.label + \')\') for c in cannedComments"> <option value="" selected=selected translate>-- Pick a comment --</option> </select>';window.angular.module("ng").run(["$templateCache",function(e){e.put(i,n)}]),e.exports=i},1810:function(e,t){var i="/ng/directives/comments/comment-directive.ng-template.html",n='<div class=component-thread-head ng-class="{\'well well-sm text-muted mb0\': deleteInProgress}"> <div class=thread-head__avatar> <img class=round data-purpose=avatar height=40 width=40 ng-src={{comment.user.image_50x50}} alt="{{\'Commenter\' | translate}}" title="{{\'Commenter\' | translate}}"> </div> <div class=thread-head__basic-info data-purpose=content-container ng-show=!editMode> <a ng-href={{comment.user.url}} class="inline inline--no-padding" ng-bind=comment.user.title data-purpose=commenter-name></a> <time class="inline inline--no-padding">&middot; {{comment.created | fromNow}}</time> <button class="inline fr btn btn-link" ng-click=deleteComment($event) ng-if="me.id == comment.user.id" ng-disabled=deleteInProgress data-purpose=delete-button> <i class="udi udi-trash" aria-hidden=true></i> </button> <button class="inline fr btn btn-link" ng-click=updateComment($event) ng-if="me.id == comment.user.id" ng-disabled=deleteInProgress data-purpose=edit-button> <i class="udi udi-pencil" aria-hidden=true></i> </button> <span class="inline inline--no-padding" ng-if=reportAbusePopup.enabled>&middot;</span> <report-abuse class="inline inline--no-padding" btn-class="\'btn-link btn--report-abuse\'" ng-if=reportAbusePopup.enabled object-type="\'comment\'" object-id=comment.id> </report-abuse> <p ng-bind-html="comment.content | textToHtml" class=no-compress data-purpose=content></p> </div> <div class=thread-head__basic-info data-purpose=edit-container ng-show=editMode> <textarea ng-model=comment.content ng-disabled=formState.submitDisabled text-area-expand rows=1 focus-on=formState.shouldFocus ng-focus="formState.shouldFocus=false; formState.isTextAreaFocused=true" blur-on=formState.shouldBlur ng-blur="formState.shouldBlur=false; formState.isTextAreaFocused=false" ui-keypress="{\'enter\': \'submitCommentForm($event)\'}" ui-keydown="{\'esc\': \'escPressed($event)\'}" ng-attr-placeholder="{{\'Enter your comment\' | translate}}" class=form-control data-purpose=edit-textarea></textarea> <div ng-show=formState.isTextAreaFocused translate data-purpose=edit-comment-tip> Press <b>Enter</b> to post, <b>Esc</b> to cancel, <b>Shift + Enter</b> to go to a new line </div> </div> </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(i,n)}]),e.exports=i},1811:function(e,t){var i="/ng/directives/comments/comment-thread-directive.ng-template.html",n='<div class=mt10> <canned-comments ng-if="canReply && cannedComments" canned-comments=cannedComments on-select="setPlaceholderComment(text, cannedCommentId)"> </canned-comments> <comment ng-if=canReply comment=placeholderComment comment-resource=commentResource comment-resource-path-params=commentResourcePathParams edit-mode=true on-create=onCommentCreate(comment) data-purpose=new-comment-container> </comment> <comment ng-if=comments ng-repeat="comment in comments" comment=comment comment-resource=commentResource comment-resource-path-params=commentResourcePathParams on-delete=onCommentDelete(comment) data-purpose=comment> </comment> <a ng-click=loadComments() ng-if=showShowCommentsLabel data-purpose=show-comments-link translate> Show comments ({{ commentThread.num_comments }}) </a> <span ng-if=loading data-purpose=loading-icon> <span class="udi udi-circle-loader udi-small"></span> </span> <a ng-if="comments.length < pagination.total" ng-click=loadMore() translate data-purpose=load-more-link> Load more ({{ pagination.total - comments.length }}) </a> </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(i,n)}]),e.exports=i},1812:function(e,t){var i="/ng/directives/common/caption/caption.ng-template.html",n='<div class="m5-10 asset-caption"> <i class="udi udi-globe"></i> <span class="lang ml5">{{ locale }}</span> <b class="file-name ml5 fs12">({{ file }})</b> <a href=javascript:void(0) data-toggle=modal data-target=#captionDeleteModal><i class="udi udi-trash caption-delete-handle"></i></a> <div class="modal fade" id=captionDeleteModal tabindex=-1 role=dialog> <div class=modal-dialog role=document> <div class=modal-content> <div class=modal-header> <button type=button class=close data-dismiss=modal aria-label=Close> <span class="udi udi-close"></span> </button> <h4 class=modal-title id=myModalLabel translate>Delete Closed Caption?</h4> </div> <div class=modal-body translate> Are you sure you want to delete this Closed Caption? </div> <div class=modal-footer> <div class=modal-footer--inner> <button type=button class="btn btn-tertiary" data-dismiss=modal translate>Cancel</button> <button type=button class="btn btn-primary" data-dismiss=modal ng-click=delete() translate>Delete</button> </div> </div> </div> </div> </div> </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(i,n)}]),e.exports=i},1816:function(e,t,i){(function(e){e.module("ui.keypress",[]).factory("keypressHelper",["$parse",function(t){var i={8:"backspace",9:"tab",13:"enter",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"delete"},n=function(e){return e.charAt(0).toUpperCase()+e.slice(1)};return function(s,r,o,a){var l,c=[];l=r.$eval(a["ui"+n(s)]),e.forEach(l,function(i,n){var s,r;r=t(i),e.forEach(n.split(" "),function(t){s={expression:r,keys:{}},e.forEach(t.split("-"),function(e){s.keys[e]=!0}),c.push(s)})}),o.bind(s,function(t){var n=!(!t.metaKey||t.ctrlKey),o=!!t.altKey,a=!!t.ctrlKey,l=!!t.shiftKey,u=t.keyCode;"keypress"===s&&!l&&u>=97&&u<=122&&(u-=32),e.forEach(c,function(e){var s=e.keys[i[u]]||e.keys[u.toString()],c=!!e.keys.meta,d=!!e.keys.alt,h=!!e.keys.ctrl,p=!!e.keys.shift;s&&c===n&&d===o&&h===a&&p===l&&r.$apply(function(){e.expression(r,{$event:t})})})})}}]),e.module("ui.keypress").directive("uiKeydown",["keypressHelper",function(e){return{link:function(t,i,n){e("keydown",t,i,n)}}}]),e.module("ui.keypress").directive("uiKeypress",["keypressHelper",function(e){return{link:function(t,i,n){e("keypress",t,i,n)}}}]),e.module("ui.keypress").directive("uiKeyup",["keypressHelper",function(e){return{link:function(t,i,n){e("keyup",t,i,n)}}}])}).call(t,i(7))},1817:function(e,t,i){var n,s;n=[i(7),i(1871),i(1872)],s=function(e,t,i){return e.module("ng/directives/common/forms/module",[t["default"].name,i.name])}.apply(t,n),!(void 0!==s&&(e.exports=s))},1818:function(e,t,i){"use strict";function n(){return{templateUrl:c["default"],restrict:"E",replace:!0,scope:{course:"=",displayOrder:"=?",hasReward:"=",onPage:"@",redeemReward:"=",redeemingCourseId:"="},link:function(e,t,i){e.trackClick=function(){d["default"].trace("early-access",{courseId:e.course.id,displayOrder:e.displayOrder,onPage:e.onPage,action:"clicked-course-card"})}}}}Object.defineProperty(t,"__esModule",{value:!0});var s=i(7),r=babelHelpers.interopRequireDefault(s),o=i(1720),a=babelHelpers.interopRequireDefault(o),l=i(1897),c=babelHelpers.interopRequireDefault(l),u=i(374),d=babelHelpers.interopRequireDefault(u),h=i(568),p=babelHelpers.interopRequireDefault(h);t["default"]=r["default"].module("ng/directives/courses/early-access-course-card.ng-directive",[p["default"].name,a["default"].name]).directive("earlyAccessCourseCard",n)},1821:function(e,t,i){!function(){var i={VERSION:"2.3.5",Result:{SUCCEEDED:1,NOTRANSITION:2,CANCELLED:3,PENDING:4},Error:{INVALID_TRANSITION:100,PENDING_TRANSITION:200,INVALID_CALLBACK:300},WILDCARD:"*",ASYNC:"async",create:function(e,t){var n="string"==typeof e.initial?{state:e.initial}:e.initial,s=e.terminal||e["final"],r=t||e.target||{},o=e.events||[],a=e.callbacks||{},l={},c={},u=function(e){var t=e.from instanceof Array?e.from:e.from?[e.from]:[i.WILDCARD];l[e.name]=l[e.name]||{};for(var n=0;n<t.length;n++)c[t[n]]=c[t[n]]||[],c[t[n]].push(e.name),l[e.name][t[n]]=e.to||t[n]};n&&(n.event=n.event||"startup",u({name:n.event,from:"none",to:n.state}));for(var d=0;d<o.length;d++)u(o[d]);for(var h in l)l.hasOwnProperty(h)&&(r[h]=i.buildEvent(h,l[h]));for(var h in a)a.hasOwnProperty(h)&&(r[h]=a[h]);return r.current="none",r.is=function(e){return e instanceof Array?e.indexOf(this.current)>=0:this.current===e},r.can=function(e){return!this.transition&&(l[e].hasOwnProperty(this.current)||l[e].hasOwnProperty(i.WILDCARD))},r.cannot=function(e){return!this.can(e)},r.transitions=function(){return c[this.current]},r.isFinished=function(){return this.is(s)},r.error=e.error||function(e,t,i,n,s,r,o){throw o||r},n&&!n.defer&&r[n.event](),r},doCallback:function(e,t,n,s,r,o){if(t)try{return t.apply(e,[n,s,r].concat(o))}catch(a){return e.error(n,s,r,o,i.Error.INVALID_CALLBACK,"an exception occurred in a caller-provided callback function",a)}},beforeAnyEvent:function(e,t,n,s,r){return i.doCallback(e,e.onbeforeevent,t,n,s,r)},afterAnyEvent:function(e,t,n,s,r){return i.doCallback(e,e.onafterevent||e.onevent,t,n,s,r)},leaveAnyState:function(e,t,n,s,r){return i.doCallback(e,e.onleavestate,t,n,s,r)},enterAnyState:function(e,t,n,s,r){return i.doCallback(e,e.onenterstate||e.onstate,t,n,s,r)},changeState:function(e,t,n,s,r){return i.doCallback(e,e.onchangestate,t,n,s,r)},beforeThisEvent:function(e,t,n,s,r){return i.doCallback(e,e["onbefore"+t],t,n,s,r)},afterThisEvent:function(e,t,n,s,r){return i.doCallback(e,e["onafter"+t]||e["on"+t],t,n,s,r)},leaveThisState:function(e,t,n,s,r){return i.doCallback(e,e["onleave"+n],t,n,s,r)},enterThisState:function(e,t,n,s,r){return i.doCallback(e,e["onenter"+s]||e["on"+s],t,n,s,r)},beforeEvent:function(e,t,n,s,r){if(!1===i.beforeThisEvent(e,t,n,s,r)||!1===i.beforeAnyEvent(e,t,n,s,r))return!1},afterEvent:function(e,t,n,s,r){i.afterThisEvent(e,t,n,s,r),i.afterAnyEvent(e,t,n,s,r)},leaveState:function(e,t,n,s,r){var o=i.leaveThisState(e,t,n,s,r),a=i.leaveAnyState(e,t,n,s,r);return!1!==o&&!1!==a&&(i.ASYNC===o||i.ASYNC===a?i.ASYNC:void 0)},enterState:function(e,t,n,s,r){i.enterThisState(e,t,n,s,r),i.enterAnyState(e,t,n,s,r)},buildEvent:function(e,t){return function(){var n=this.current,s=t[n]||t[i.WILDCARD]||n,r=Array.prototype.slice.call(arguments);if(this.transition)return this.error(e,n,s,r,i.Error.PENDING_TRANSITION,"event "+e+" inappropriate because previous transition did not complete");if(this.cannot(e))return this.error(e,n,s,r,i.Error.INVALID_TRANSITION,"event "+e+" inappropriate in current state "+this.current);if(!1===i.beforeEvent(this,e,n,s,r))return i.Result.CANCELLED;if(n===s)return i.afterEvent(this,e,n,s,r),i.Result.NOTRANSITION;var o=this;this.transition=function(){return o.transition=null,o.current=s,i.enterState(o,e,n,s,r),i.changeState(o,e,n,s,r),i.afterEvent(o,e,n,s,r),i.Result.SUCCEEDED},this.transition.cancel=function(){o.transition=null,i.afterEvent(o,e,n,s,r)};var a=i.leaveState(this,e,n,s,r);return!1===a?(this.transition=null,i.Result.CANCELLED):i.ASYNC===a?i.Result.PENDING:this.transition?this.transition():void 0}}};"undefined"!=typeof e&&e.exports&&(t=e.exports=i),t.StateMachine=i}()},1822:function(e,t,i){var n,s;n=[i(7),i(2469),i(2467),i(2022),i(2466),i(1779)],s=function(e,t,i,n,s,r){return e.module("ng/apps/course-taking-v4/curriculum/module",[t["default"].name,i["default"].name,n["default"].name,s["default"].name,r.name])}.apply(t,n),!(void 0!==s&&(e.exports=s))},1823:function(e,t,i){var n,s;n=[i(7),i(35),i(1752),i(1743)],s=function(e,t,i,n){function s(i,n,s,r){function o(){return this.questions.params.search?this.loadQuestionsHelper(n.get,this.questions.params):this.loadQuestionsHelper(i.get,this.questions.params)}function a(e){this.questions.activeQuestion=e,this.questions.isDetailsOpen=!0}var l={courseId:s.id,ordering:"-created,-last_activity",page:1,page_size:15,"fields[course_discussion]":"@default,user,course,related_object,is_following,is_instructor,num_replies,created,num_follows","fields[user]":"@min,image_50x50,url","fields[course]":"id,published_title","fields[lecture]":"@min,title,object_index","fields[quiz]":"@min,title,object_index","fields[practice]":"@min,title,object_index"},c=t.brand.is_discussions_enabled&&s.features&&s.features.discussions_view;this.init=function(){return this.questions={featureEnabled:c,initialized:!1,loading:!1,isDetailsOpen:!1,showNew:!1,data:[],listData:[],count:0,searchCount:0,activeQuestion:null,params:e.copy(l),loadQuestions:o.bind(this),onSelect:a.bind(this)},this.questions},this.loadQuestionsHelper=function(t,i){var n=this;return 1===this.questions.params.page&&(this.questions.data=[]),this.questions.loading=!0,t(i).$promise.then(function(t){n.questions.data=1===n.questions.params.page?t.results:n.questions.data.concat(t.results),n.questions.hasMore=!!t.next,n.questions.params.search?n.questions.searchCount=t.count:(n.questions.count=t.count,n.questions.listData=e.copy(n.questions.data))})["finally"](function(){n.questions.initialized=!0,n.questions.loading=!1})},this.unfollowQuestion=function(e,t){return r["delete"]({courseId:e.course.id,discussionId:e.id,userId:t},null).$promise.then(function(){e.is_following=!1,e.num_follows--})},this.followQuestion=function(e){return r.save({courseId:e.course.id,discussionId:e.id},null).$promise.then(function(){e.is_following=!0,e.num_follows++})},this.loadQuestion=function(t){var n=this;return this.questions.loading=!0,i.get(e.extend({id:t},this.questions.params)).$promise.then(function(e){n.questions.activeQuestion=e,n.questions.isDetailsOpen=!0})["finally"](function(){n.questions.loading=!1})},this.deleteQuestion=function(e){var t=this,n={courseId:e.course.id,id:e.id};return i["delete"](n).$promise.then(function(){t.questions&&(t.questions.listData=t.questions.listData.filter(function(t){return t.id!==e.id}),t.questions.data=t.questions.listData,t.questions.count--)})}}var r=e.module("ng/apps/course-taking-v4/question-answer/question-answer.ng-service",[i.name,n.name]).service("QuestionAnswer",s);return s.$inject=["CourseQuestion","CourseSearchableQuestion","CurrentCourse","QuestionFollow"],r}.apply(t,n),!(void 0!==s&&(e.exports=s))},1830:function(e,t,i){var n,s;n=[i(7),i(567),i(1882)],s=function(e,t){function i(){}function n(t,i){this.loadForCourseIdAndUserId=function(e,n,s){var r={courseId:e,"fields[course_review]":"@min,location",user:n};return s&&(r["fields[course_review]"]+=",response"),i.get(r).$promise.then(function(e){return e.results.length>0?t.when(e.results[0]):t.reject()})},this.save=function(t,n){var s={courseId:n,"fields[course_review]":"@min"},r="save";return t.id&&(e.extend(s,{reviewId:t.id}),r="update"),i[r](s,{rating:parseFloat(t.rating),title:t.title,content:t.content,location:t.location}).$promise},this["delete"]=function(e,t){return i["delete"]({reviewId:e.id,courseId:t}).$promise}}var s=e.module("ng/directives/common/review/review.ng-service",[t.name]).factory("CourseReviewStateFactory",function(){return i}).service("courseReviewService",n);return i.prototype={_previousState:{},set:function(t){e.replaceProperties(this,t),this._previousState=t},clear:function(){this.set({})},reset:function(){var t=this._previousState;e.replaceProperties(this,this._previousState),this._previousState=t}},n.$inject=["$q","CourseReview"],s}.apply(t,n),!(void 0!==s&&(e.exports=s))},1831:function(e,t,i){var n,s;n=[i(7),i(161)],s=function(e,t){return e.module("ng/filters/fixurl.ng-filter",[]).filter("fixurl",function(){return function(e){var i=window.location.pathname,n=new t(e),s=n.path(),r=n.anchor();"/"===s.slice(-1)&&"/"!==i.slice(-1)&&n.setPath(s.substr(0,s.length-1)),"/"!==r.substr(0,1)&&r&&n.setAnchor("/"+r);var o=new t(window.location),a=o.query().toString();return a&&n.setQuery(a),n.toString()}})}.apply(t,n),!(void 0!==s&&(e.exports=s))},1832:function(e,t,i){var n,s;n=[i(7)],s=function(e){return e.module("ng/filters/jsonutils.ng-filter",[]).filter("prettyJSON",function(){return function(e){var t=Object.prototype.toString.call(e).slice(8,-1).toLowerCase(),i=void 0;return"string"==t?i=JSON.parse(e):"object"==t&&(i=e),JSON.stringify(i,null,4)}})}.apply(t,n),!(void 0!==s&&(e.exports=s))},1833:function(e,t,i){var n,s;n=[i(7)],s=function(e){return e.module("ng/filters/stringutils.ng-filter",[]).filter("capitalizeFirstLetters",function(){return function(e){function t(e){return e.substring(0,1).toUpperCase()+e.substring(1)}var i=void 0,n=void 0;if(null!==e&&void 0!==e){for(e=e.toLowerCase(),i=e.split(" "),n=0;n<i.length;n++)i[n]=t(i[n]);return i.toString().replace(/,/g," ")}}})}.apply(t,n),!(void 0!==s&&(e.exports=s))},1834:function(e,t,i){var n,s;n=[i(7)],s=function(e){return e.module("ng/filters/striptags.ng-filter",[]).filter("stripTags",function(){return function(e){return e?e.replace(/<\S[^><]*>/g,""):e}})}.apply(t,n),!(void 0!==s&&(e.exports=s))},1846:function(e,t,i){var n,s;n=[i(7),i(575)],s=function(e,t){function i(e){this.quizId=null,this.initQuiz=function(e){this.quizId=e},this.clickedShowAnswer=function(t,i){e.track("trackclick","quiz_taking",{quiz:this.quizId,user_attempted_quiz:t,assessment:i,log_action:"showed-answer"})},this.skippedQuestion=function(t,i){e.track("trackclick","quiz_taking",{quiz:this.quizId,user_attempted_quiz:t,assessment:i,log_action:"skipped-question"})},this.seenRelatedLecture=function(t,i){e.track("trackclick","quiz_taking",{quiz:this.quizId,user_attempted_quiz:t,assessment:i,log_action:"seen-related-lecture"})},this.seenResultPage=function(t){e.track("trackclick","quiz_taking",{quiz:this.quizId,user_attempted_quiz:t,log_action:"viewed-result-page"})},this.startedQuizAttempt=function(t,i){e.track("trackclick","quiz_taking",{quiz:this.quizId,user_attempted_quiz:t,num_questions:i,log_action:"started-quiz-attempt"})},this.answeredQuestion=function(t,i,n,s){e.track("trackclick","quiz_taking",{quiz:this.quizId,user_attempted_quiz:t,question_id:i,answer:n,duration:s,log_action:"answered-question"})},this.pausePracticeTest=function(t){e.track("trackclick","quiz_taking",{quiz:this.quizId,user_attempted_quiz:t,log_action:"pause-test"})},this.stopPracticeTest=function(t){e.track("trackclick","quiz_taking",{quiz:this.quizId,user_attempted_quiz:t,log_action:"stop-test"})},this.reviewPracticeTestQuestions=function(t){e.track("trackclick","quiz_taking",{quiz:this.quizId,user_attempted_quiz:t,log_action:"review-questions"})}}return e.module("ng/apps/course-taking-v4/quiz-view/quiz-tracking.ng-service",[t.name]).service("quizTrackingService",["PageEvent",i])}.apply(t,n),!(void 0!==s&&(e.exports=s))},1847:function(e,t,i){var n,s;n=[i(7),i(2334)],s=function(e,t){function i(){return{restrict:"A",require:"^userActivityCheck",link:function(t,i,n,s){function r(){s.removeMouseMoveEvent(),s.setActive(),a&&s.addMouseMoveEvent(a)}function o(){a&&s.removeMouseMoveEvent(),s.setActive(),s.addMouseMoveEvent(),s.setInactiveAfterTimeout()}var a=e.isUndefined(n.activeFor)?null:t.$eval(n.activeFor);e.isDefined(n.activeWhen)&&t.$watch(n.activeWhen,function(e,t){e?(i.off("mouseover mouseout"),s.removeMouseMoveEvent(),s.setActive()):t&&(s.setActive(),s.addMouseMoveEvent(a),s.setInactiveAfterTimeout(a),i.on("mouseover",r),i.on("mouseout",o))}),i.on("mouseover",r),i.on("mouseout",o),t.$on("$destroy",function(){i.off("mouseover mouseout")})}}}var n=e.module("ng/apps/course-taking-v4/user-activity-check/user-active-on.ng-directive",[t.name]).directive("userActiveOn",i);return n}.apply(t,n),!(void 0!==s&&(e.exports=s))},1848:function(e,t,i){"use strict";function n(e){return{restrict:"E",replace:!0,transclude:!0,templateUrl:u["default"],scope:{requestEditorInit:"=",requestEditorValue:"=",requestResetValue:"=",editorValue:"=",placeholderText:"@?",editorValueCollectedFn:"=?",redactorTheme:"@?",redactorAddInlineStyle:"=?",submitDisabled:"=?",submitLabel:"@?",submitFn:"&",editorHidden:"=",allowBlankAnswers:"@"},controller:s,compile:function(t,i){var n=e(i.submitFn);return function(e){e.parsedSubmitFn=n}}}}function s(e,t,i){function n(){e.resetValue=!1,e.editorHidden=!1,e.editorError=!1}function s(){e.resetValue=!0,e.editorHidden=!0,e.editorError=!1}function r(){!e.allowBlankAnswer&&i("isStrippedHTMLEmpty")(i("removeAllWhiteSpace")(i("removeHTMLWhiteSpace")(e.editorValue)))?e.editorError=!0:(e.parsedSubmitFn(e.$parent,{value:e.editorValue}),e.editorError=!1)}e.openEditor=n,e.closeEditor=s,e.submitHandler=r,e.submitLabel=o["default"].isDefined(e.submitLabel)?e.submitLabel:t.getString("Submit")}Object.defineProperty(t,"__esModule",{value:!0});var r=i(7),o=babelHelpers.interopRequireDefault(r),a=i(40),l=babelHelpers.interopRequireDefault(a),c=i(1985),u=babelHelpers.interopRequireDefault(c),d=i(1748),h=babelHelpers.interopRequireDefault(d),p=i(1720),f=babelHelpers.interopRequireDefault(p),g=o["default"].module("ng/directives/common/inplace-wysiwyg/inplace-wysiwyg.ng-directive",[l["default"].name,h["default"].name,f["default"].name]).directive("inplaceWysiwyg",n);n.$inject=["$parse"],s.$inject=["$scope","gettextCatalog","$filter"],t["default"]=g},1850:function(e,t,i){"use strict";function n(e){e.isStarOn=function(t){return t<=(e.hoverRating||e.currentRating)},e.handleHover=function(t,i){e.hoverRating=i,e.starHoverHandler&&e.starHoverHandler({$event:t,rating:i})}}Object.defineProperty(t,"__esModule",{value:!0});var s=i(7),r=babelHelpers.interopRequireDefault(s),o=i(40),a=babelHelpers.interopRequireDefault(o),l=i(566),c=babelHelpers.interopRequireDefault(l),u=i(1896),d=babelHelpers.interopRequireDefault(u),h=r["default"].module("ng/directives/common/review/review-star.ng-directive",[a["default"].name,c["default"].name]).directive("reviewStar",function(){return{restrict:"E",replace:!0,scope:{currentRating:"=",starClickHandler:"&",starHoverHandler:"&"},templateUrl:d["default"],controller:n}});n.$inject=["$scope"],t["default"]=h},1853:function(e,t,i){var n,s;n=[i(7),i(137)],s=function(e){function t(e){var t=e("/api-2.0/users/me/subscribed-courses/:courseId/lectures/:id");return t}function i(e){return e("/api-2.0/users/me/subscribed-courses/:courseId/completed-lectures/:lectureId")}function n(e){return e("/api-2.0/users/me/subscribed-courses/:courseId/lectures/:id/view-logs")}function s(e){return e("/api-2.0/users/me/subscribed-courses/:courseId/lectures/:id/progress-logs")}function r(e){var t=e("/api-2.0/users/me/taught-courses/:courseId/lectures/:id");return t}function o(e){return e("/api-2.0/users/me/subscribed-courses/:courseId/lectures/:lectureId/supplementary-assets/:id")}function a(e){return e("/api-2.0/users/me/subscribed-courses/:courseId/lectures/:lectureId/notes/:id",null,{update:{method:"PATCH"}})}function l(e){return e("/api-2.0/users/me/subscribed-courses/:courseId/lectures/:lectureId/social-bookmarks")}var c=e.module("ng/services/v2/lecture-resources.ng-factory",["ngResource"]).factory("SubscribedLecture",["$resource",t]).factory("CompletedLecture",["$resource",i]).factory("SubscribedLectureViewLog",["$resource",n]).factory("SubscribedLectureProgressLog",["$resource",s]).factory("TaughtLecture",["$resource",r]).factory("SupplementaryAsset",["$resource",o]).factory("LectureNote",["$resource",a]).factory("LectureSocialBookmark",["$resource",l]);return c}.apply(t,n),!(void 0!==s&&(e.exports=s))},1854:function(e,t,i){(function(n){var s=i(1749);/**
	 * highcharts-ng
	 * @version v0.0.8 - 2015-02-25
	 * @link https://github.com/pablojim/highcharts-ng
	 * @author Barry Fitzgerald <>
	 * @license MIT License, http://www.opensource.org/licenses/MIT
	 */
"undefined"!=typeof e&&"undefined"!=typeof t&&e.exports===t&&(e.exports="highcharts-ng"),function(){"use strict";function e(){return{indexOf:function(e,t,i){void 0===i&&(i=0),0>i&&(i+=e.length),0>i&&(i=0);for(var n=e.length;n>i;i++)if(i in e&&e[i]===t)return i;return-1},prependMethod:function(e,t,i){var n=e[t];e[t]=function(){var e=Array.prototype.slice.call(arguments);return i.apply(this,e),n?n.apply(this,e):void 0}},deepExtend:function e(t,i){if(n.isArray(i)){t=n.isArray(t)?t:[];for(var s=0;s<i.length;s++)t[s]=e(t[s]||{},i[s])}else if(n.isObject(i))for(var r in i)t[r]=e(t[r]||{},i[r]);else t=i;return t}}}function t(e,t){var i=0,r=function(e){var t=!1;return n.forEach(e,function(e){n.isDefined(e.id)||(e.id="series-"+i++,t=!0)}),t},o=["xAxis","yAxis"],a={stock:"StockChart",map:"Map",chart:"Chart"},l=function(t,i,s){var r={},a={chart:{events:{}},title:{},subtitle:{},series:[],credits:{},plotOptions:{},navigator:{enabled:!1}};return r=s.options?e.deepExtend(a,s.options):a,r.chart.renderTo=i[0],n.forEach(o,function(i){n.isDefined(s[i])&&(r[i]=n.copy(s[i]),(n.isDefined(s[i].currentMin)||n.isDefined(s[i].currentMax))&&(e.prependMethod(r.chart.events,"selection",function(e){var n=this;t.$apply(e[i]?function(){t.config[i].currentMin=e[i][0].min,t.config[i].currentMax=e[i][0].max}:function(){t.config[i].currentMin=n[i][0].dataMin,t.config[i].currentMax=n[i][0].dataMax})}),e.prependMethod(r.chart.events,"addSeries",function(){t.config[i].currentMin=this[i][0].min||t.config[i].currentMin,t.config[i].currentMax=this[i][0].max||t.config[i].currentMax})))}),s.title&&(r.title=s.title),s.subtitle&&(r.subtitle=s.subtitle),s.credits&&(r.credits=s.credits),s.size&&(s.size.width&&(r.chart.width=s.size.width),s.size.height&&(r.chart.height=s.size.height)),r},c=function(e,t){var i=e.getExtremes();(t.currentMin!==i.dataMin||t.currentMax!==i.dataMax)&&e.setExtremes(t.currentMin,t.currentMax,!1)},u=function(e,t,i){(t.currentMin||t.currentMax)&&e[i][0].setExtremes(t.currentMin,t.currentMax,!0)},d=function(t){return e.deepExtend({},t,{data:null,visible:null})},h=function(e){return void 0===e.config?"Chart":a[(""+e.config.chartType).toLowerCase()]||(e.config.useHighStocks?"StockChart":"Chart")};return{restrict:"EAC",replace:!0,template:"<div></div>",scope:{config:"=",disableDataWatch:"="},link:function(i,a){var p={},f=function(t){var s,o=[];if(t){var a=r(t);if(a)return!1;if(n.forEach(t,function(e){o.push(e.id);var t=g.get(e.id);t?n.equals(p[e.id],d(e))?(void 0!==e.visible&&t.visible!==e.visible&&t.setVisible(e.visible,!1),t.setData(n.copy(e.data),!1)):t.update(n.copy(e),!1):g.addSeries(n.copy(e),!1),p[e.id]=d(e)}),i.config.noData){var l=!1;for(s=0;s<t.length;s++)if(t[s].data&&t[s].data.length>0){l=!0;break}l?g.hideLoading():g.showLoading(i.config.noData)}}for(s=g.series.length-1;s>=0;s--){var c=g.series[s];"highcharts-navigator-series"!==c.options.id&&e.indexOf(o,c.options.id)<0&&c.remove(!1)}return!0},g=!1,m=function(){g&&g.destroy(),p={};var e=i.config||{},t=l(i,a,e),n=e.func||void 0,r=h(i);g=new s[r](t,n);for(var c=0;c<o.length;c++)e[o[c]]&&u(g,e[o[c]],o[c]);e.loading&&g.showLoading(),e.getHighcharts=function(){return g}};m(),i.disableDataWatch?i.$watchCollection("config.series",function(e){f(e),g.redraw()}):i.$watch("config.series",function(e){var t=f(e);t&&g.redraw()},!0),i.$watch("config.title",function(e){g.setTitle(e,!0)},!0),i.$watch("config.subtitle",function(e){g.setTitle(!0,e)},!0),i.$watch("config.loading",function(e){e?g.showLoading(e===!0?null:e):g.hideLoading()}),i.$watch("config.noData",function(e){i.config&&i.config.loading&&g.showLoading(e)},!0),i.$watch("config.credits.enabled",function(e){e?g.credits.show():g.credits&&g.credits.hide()}),i.$watch(h,function(e,t){e!==t&&m()}),n.forEach(o,function(e){i.$watch("config."+e,function(t,i){if(t!==i&&t){if(n.isArray(t))for(var s=0;s<t.length;s++){var r=t[s];s<g[e].length&&(g[e][s].update(r,!1),c(g[e][s],n.copy(r)))}else g[e][0].update(t,!1),c(g[e][0],n.copy(t));g.redraw()}},!0)}),i.$watch("config.options",function(e,t,i){e!==t&&(m(),f(i.config.series),g.redraw())},!0),i.$watch("config.size",function(e,t){e!==t&&e&&g.setSize(e.width||void 0,e.height||void 0)},!0),i.$on("highchartsng.reflow",function(){g.reflow()}),i.$on("$destroy",function(){if(g){try{g.destroy()}catch(e){}t(function(){a.remove()},0)}})}}}n.module("highcharts-ng",[]).factory("highchartsNGUtils",e).directive("highchart",["highchartsNGUtils","$timeout",t])}()}).call(t,i(7))},1866:function(e,t,i){var n,s;n=[i(7),i(2021)],s=function(e,t){var i=e.module("ng/apps/course-taking-v4/animated-state-change/module",["ui.router",t.name]);return i}.apply(t,n),!(void 0!==s&&(e.exports=s))},1867:function(e,t,i){var n,s;n=[i(7),i(2167)],s=function(e,t){function i(t,i,n,s){this.courseId=null,this.quizId=null,this.isCodingExercise=null,this.initQuiz=function(e,t,i){this.courseId=e,this.quizId=t,this.isCodingExercise=i},this.getLatestCodingExerciseAnswer=function(e){return s.get({courseId:this.courseId,attemptId:e})},this.getAnswersForQuestions=function(e,t){return n.get({courseId:this.courseId,attemptId:e,"fields[user_answers_assessment]":"id,response,assessment,score,is_marked_for_review","fields[assessment]":"id",page_size:250}).$promise.then(function(e){e.results.forEach(function(e){var i=t.find(function(t){return t.id===e.assessment.id});i&&(i.selectedAnswers=e.response.map(function(e){return i.answers.find(function(t){return t.id===e})}),i.selectedAnswers.forEach(function(e){e.selected=!0}),i.is_marked_for_review=e.is_marked_for_review,i.score=e.score)})})},this.getLatestAttempt=function(){return this.getAttemptById("latest")},this.getAttemptById=function(e){return t.get({courseId:this.courseId,quizId:this.quizId,attemptId:e,"fields[user_attempted_quiz]":"@default,completed_assessments,current_assessment_id,is_paused,elapsed_time,is_reviewing,results_summary,ignore_time_limit"}).$promise.then(function(e){return e},function(){return null})},this.getAllLatestAttempts=function(){return t.get({courseId:this.courseId,quizId:this.quizId,page_size:100,ordering:"-created","fields[user_attempted_quiz]":"@default,elapsed_time,results_summary"}).$promise.then(function(e){var t=e.results;return t.forEach(function(e){var t=e.results_summary;t&&t.total>0&&(t.skippedPercentage=Math.round(100*t.skipped/t.total),t.correctPercentage=Math.round(100*t.correct/t.total),t.incorrectPercentage=Math.round(100*t.incorrect/t.total))}),t})},this.getAttemptStats=function(e){return t.get({courseId:this.courseId,quizId:this.quizId,attemptId:e,action:"stats"})},this.createNewAttempt=function(){return t.save({courseId:this.courseId,quizId:this.quizId},{is_viewed:!0})},this.updateAttempt=function(e,i){return t.update({courseId:this.courseId,quizId:this.quizId,attemptId:e},i)},this.loadQuestions=function(){var t=this;return i.get({quizId:this.quizId,page_size:250,"fields[assessment]":this.isCodingExercise?"@default":"@all"}).$promise.then(function(i){return i=i.results,t.isCodingExercise?i:(e.forEach(i,function(t,i){t.questionIndex=i+1,t.attempts=0,t.prompt.question=t.prompt.question.trim(),t.answers=[],"multiple-choice"==t.assessment_type||"multi-select"==t.assessment_type?!function(){var i="a".charCodeAt(0);e.forEach(t.prompt.answers,function(e,n){var s=String.fromCharCode(i+n),r="";t.prompt.feedbacks&&t.prompt.feedbacks.length==t.prompt.answers.length&&(r=t.prompt.feedbacks[n]),t.answers.push({id:s,text:e,feedback:r,correct:t.correct_response.indexOf(s)>=0})})}():"fill-in-the-blanks"==t.assessment_type&&e.forEach(t.correct_response,function(e){t.answers.push({fill:"",correct:e})})}),i)})},this.answerQuestion=function(e,t,i,s,r){return n.save({courseId:this.courseId,attemptId:e},Object.assign({assessment_id:t,duration:s,response:JSON.stringify(i)},r))},this.saveCodingExercise=function(e,t,i,n){return s.save({courseId:this.courseId,attemptId:e},{assessment_id:t,response:i,pusher_channel:n.pusherChannel})}}return e.module("ng/apps/course-taking-v4/quiz-view/assessment.ng-service",[t.name]).service("assessmentService",["AttemptedQuiz","Question","Answer","CodingExerciseAnswer",i])}.apply(t,n),!(void 0!==s&&(e.exports=s))},1871:function(e,t,i){"use strict";function n(){return{restrict:"EA",templateUrl:a["default"],replace:!0,scope:{error:"="}}}Object.defineProperty(t,"__esModule",{value:!0});var s=i(7),r=babelHelpers.interopRequireDefault(s),o=i(1889),a=babelHelpers.interopRequireDefault(o),l=r["default"].module("ng/directives/common/forms/form-alert.ng-directive",[]).directive("formAlert",n);t["default"]=l},1872:function(e,t,i){var n,s;n=[i(7),i(1721)],s=function(e,t){function i(t,i){function n(){this.state={},this.reset(),this.ErrorType=t}return n.prototype.setErrorMessage=function(e){this.state.message=e},n.prototype.setErrorType=function(e){this.state.type=e},n.prototype.getMessage=function(){return this.state.message},n.prototype.getType=function(){return this.state.type},n.prototype.getCurrent=function(){return this.state},n.prototype.reset=function(){this.state.type=t.info,this.state.message=null,this.state.ignoreWarnings=!1},n.prototype.ignoreWarnings=function(e,t){return this.hasWarnings()&&e==t},n.prototype.hasWarnings=function(){return this.state.ignoreWarnings},n.prototype.processResponseError=function(n){var s=n.data,r={},o={},a="",l=void 0;s?s.detail&&(a=s.detail):a="No response";for(var c in s)if("string"==typeof s[c])r[c]=s[c];else if(s[c]&&s[c][0]){var u=s[c][0].messages||[s[c][0]];"warning"==s[c][0].type?(o[c]=u,this.state.ignoreWarnings=!0):r[c]=u}a||r&&Object.keys(r).length?(this.state.message=(a+" "+i.joinObjWithEnclosedTag(r,"p")).trim(),this.state.type=t.danger):(this.state.message=i.joinObjWithEnclosedTag(o,"p").trim(),this.state.type=t.warning),e.isFunction(n.headers)&&(l=n.headers(),this.state.feedback={message:l["x-ui-message"],type:l["x-ui-message-type"]})},n.prototype.getFeedback=function(){return this.state.feedback},n}var n=e.module("ng/directives/common/forms/form-error.ng-factory",[t.name]).constant("FORM_ERROR_TYPE",{info:"info",warning:"warning",danger:"danger"}).factory("FormError",i);return i.$inject=["FORM_ERROR_TYPE","Utils"],n}.apply(t,n),!(void 0!==s&&(e.exports=s))},1876:function(e,t,i){"use strict";function n(e,t,i,n,s,r){function o(e){d["default"].Feedback.fromText(e)}function l(e){d["default"].Feedback.fromText(e,"error")}function u(t){t.location=e.courseReview.location,e.courseReview.set(t)}function h(){t(function(){e.courseReview.reset()})}function f(){e.reviewLink=e.course.id?"/home/teaching/reviews/?course="+e.course.id:"",n.loadForCourseIdAndUserId(e.course.id,A["default"].id,!0).then(function(e){u(e)})}function g(){var t=this;n.save(e.courseReview,e.course.id).then(function(i){u(i),e.surveyDirectiveActions.save().then(o.bind(t,C))["catch"](l.bind(t,_))},l.bind(this,_))}function m(){return n["delete"](e.courseReview,e.course.id)["catch"](l.bind(this,S))}function v(){return e.eventSourcePage&&e.eventSourcePage.split(" ").join("_").toLowerCase()}function b(){return void 0===e.courseReview.rating?(l(x),void e.popupSM.expandViewAdd()):(e.sendGoogleAnalyticsEvent("create"),void g())}function y(){e.sendGoogleAnalyticsEvent("update"),g()}function k(){e.popupSM.can("close")&&(e.sendGoogleAnalyticsEvent("cancel"),e.popupSM.close())}e.isUfbUser=w["default"].brand.has_organization,e.surveyDirectiveActions={},e.courseReview=new i,e.updateCourseRating=function(t){e.courseReview.rating=t},e.loadReview?f():e.$watch("course.review",function(t,i){t!==i&&u(e.course.review)});var C=s.getString("Your review has been submitted."),x=s.getString("It looks like you forgot to choose a star rating. Please click on a star and submit your review again."),_=s.getString("Error happened while saving your review. Please submit your review again."),S=s.getString("Error happened while deleting your review. Please try again."),E=s.getString("Are you sure you want to delete your review?");e.eventSourcePage&&(e.courseReview.location=v()),e.sendGoogleAnalyticsEvent=function(t){var i={location:e.courseReview.location};p["default"].track("coursetaking","Review",t,null,null,i,{objectType:"review",objectId:e.courseReview.id})},e.popupSM=a["default"].create({initial:"closed",events:[{name:"openAddView",from:"closed",to:"add"},{name:"openEditView",from:"closed",to:"edit"},{name:"openSummaryView",from:"closed",to:"summary"},{name:"expandView",from:"summary",to:"edit"},{name:"expandViewAdd",from:"summary",to:"add"},{name:"collapseView",from:["add","edit"],to:"summary"},{name:"close",from:["add","edit","summary"],to:"closed"},{name:"delete",from:["edit","summary"],to:"add"}],callbacks:{onleaveclosed:function(){c["default"].ud.ud_popup.prototype.open({href:"#dashboard-reviews-popup-"+e.course.id,type:"inline"})},onenterclosed:function(e,t){"none"!==t&&h()},ondelete:function(){e.courseReview.clear(),e.surveyDirectiveActions.clear()}}}),e.isPopupExpanded=function(){return["add","edit"].includes(e.popupSM.current)},e.openReviewPopup=function(t,i){t&&e.updateCourseRating(t),e.sendGoogleAnalyticsEvent("visit"),e.courseReview.id?i?e.popupSM.openSummaryView():e.popupSM.openEditView():e.popupSM.openAddView()},e.saveReview=function(){e.popupSM.collapseView(),e.courseReview.id?y():b()},e.deleteReview=function(){r(E).then(function(){e.sendGoogleAnalyticsEvent("delete"),m().then(function(){e.popupSM["delete"]()})})},e.cancelReview=function(){c["default"].ud.ud_popup.prototype.close()},(0,c["default"])(window).on("udpopupclosed",k),e.$on("$destroy",function(){(0,c["default"])(window).off("udpopupclosed",k)}),e.autoOpen&&t(function(){e.openReviewPopup()})}Object.defineProperty(t,"__esModule",{value:!0});var s=i(7),r=babelHelpers.interopRequireDefault(s),o=i(1821),a=babelHelpers.interopRequireDefault(o),l=i(5),c=babelHelpers.interopRequireDefault(l),u=i(249),d=babelHelpers.interopRequireDefault(u),h=i(1722),p=babelHelpers.interopRequireDefault(h),f=i(1751),g=babelHelpers.interopRequireDefault(f),m=i(1727),v=babelHelpers.interopRequireDefault(m),b=i(35),w=babelHelpers.interopRequireDefault(b),y=i(41),A=babelHelpers.interopRequireDefault(y),k=i(135),C=babelHelpers.interopRequireDefault(k),x=i(1895),_=babelHelpers.interopRequireDefault(x),S=i(1830),E=babelHelpers.interopRequireDefault(S),F=i(1850),D=babelHelpers.interopRequireDefault(F);t["default"]=r["default"].module("ng/directives/common/review/popup-review.ng-directive",[E["default"].name,D["default"].name,g["default"].name,v["default"].name,C["default"].name]).directive("popupReview",function(){return{restrict:"E",replace:!0,scope:{course:"=",loadReview:"=?",isInstructor:"=?",starLabelSize:"@",eventSourcePage:"@",autoOpen:"=?"},templateUrl:_["default"],controller:"PopupReviewController"}}).controller("PopupReviewController",n),n.$inject=["$scope","$timeout","CourseReviewStateFactory","courseReviewService","gettextCatalog","udConfirm"]},1877:function(e,t,i){"use strict";function n(e,t,i){return{restrict:"E",transclude:!0,scope:{text:"=",viewMoreStyle:"=",filterHtml:"=",notIsolate:"="},link:function(n,s){function o(){var e=s.find(".view-more")[0],i=e.offsetHeight,r=e.scrollHeight;i+2<r?n.showToggle=!0:n.showToggle=!1,0==i&&t(o,200)}n.showToggle=!1,n.isCollapsed=!0;var a="view-more--"+n.viewMoreStyle;t(o),n.$on("$destroy",e.$on("applyViewMore",function(){t(o)})),n.showMore=function(e){n.notIsolate||e.stopPropagation();var t=r["default"].element(s.find(".view-more")[0]);i.removeClass(t,a),n.isCollapsed=!1},n.showLess=function(e){n.notIsolate||e.stopPropagation();var t=r["default"].element(s.find(".view-more")[0]);i.addClass(t,a),n.isCollapsed=!0};var l=n.$watch("text",function(e,i){e&&e!==i&&t(o)});n.$on("$destroy",l)},templateUrl:a["default"]}}Object.defineProperty(t,"__esModule",{value:!0});var s=i(7),r=babelHelpers.interopRequireDefault(s);i(379);var o=i(2244),a=babelHelpers.interopRequireDefault(o);t["default"]=r["default"].module("ng/directives/common/view-more.ng-directive",["ngAnimate"]).directive("viewMore",["$rootScope","$timeout","$animate",n])},1882:function(e,t,i){var n,s;n=[i(7)],s=function(e){e.replaceProperties=function(t,i){var n=[];for(var s in t)"function"==typeof t[s]||Object.prototype.hasOwnProperty.call(i,s)||n.push(s);for(var r=0;r<n.length;r++)delete t[n[r]];return e.extend(t,i),t}}.apply(t,n),!(void 0!==s&&(e.exports=s))},1884:function(e,t,i){!function(){function e(e){var t=i;e&&(i[e]||(i[e]={}),t=i[e]),t.define&&t.define.packaged||(n.original=t.define,t.define=n,t.define.packaged=!0),t.require&&t.require.packaged||(r.original=t.require,t.require=r,t.require.packaged=!0)}var t="ace",i=function(){return this}();if(!i&&"undefined"!=typeof window&&(i=window),t||"undefined"==typeof requirejs){var n=function(e,t,i){return"string"!=typeof e?void(n.original?n.original.apply(this,arguments):(console.error("dropping module because define wasn't a string."),console.trace())):(2==arguments.length&&(i=t),void(n.modules[e]||(n.payloads[e]=i,n.modules[e]=null)))};n.modules={},n.payloads={};var s=function(e,t,i){if("string"==typeof t){var n=a(e,t);if(void 0!=n)return i&&i(),n}else if("[object Array]"===Object.prototype.toString.call(t)){for(var s=[],o=0,l=t.length;o<l;++o){var c=a(e,t[o]);if(void 0==c&&r.original)return;s.push(c)}return i&&i.apply(null,s)||!0}},r=function(e,t){var i=s("",e,t);return void 0==i&&r.original?r.original.apply(this,arguments):i},o=function(e,t){if(t.indexOf("!")!==-1){var i=t.split("!");return o(e,i[0])+"!"+o(e,i[1])}if("."==t.charAt(0)){var n=e.split("/").slice(0,-1).join("/");for(t=n+"/"+t;t.indexOf(".")!==-1&&s!=t;){var s=t;t=t.replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"")}}return t},a=function(e,t){t=o(e,t);var i=n.modules[t];if(!i){if(i=n.payloads[t],"function"==typeof i){var r={},a={id:t,uri:"",exports:r,packaged:!0},l=function(e,i){return s(t,e,i)},c=i(l,r,a);r=c||a.exports,n.modules[t]=r,delete n.payloads[t]}i=n.modules[t]=r||i}return i};e(t)}}(),ace.define("ace/lib/regexp",["require","exports","module"],function(e,t,i){"use strict";function n(e){return(e.global?"g":"")+(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.extended?"x":"")+(e.sticky?"y":"")}function s(e,t,i){if(Array.prototype.indexOf)return e.indexOf(t,i);for(var n=i||0;n<e.length;n++)if(e[n]===t)return n;return-1}var r={exec:RegExp.prototype.exec,test:RegExp.prototype.test,match:String.prototype.match,replace:String.prototype.replace,split:String.prototype.split},o=void 0===r.exec.call(/()??/,"")[1],a=function(){var e=/^/g;return r.test.call(e,""),!e.lastIndex}();a&&o||(RegExp.prototype.exec=function(e){var t,i,l=r.exec.apply(this,arguments);if("string"==typeof e&&l){if(!o&&l.length>1&&s(l,"")>-1&&(i=RegExp(this.source,r.replace.call(n(this),"g","")),r.replace.call(e.slice(l.index),i,function(){for(var e=1;e<arguments.length-2;e++)void 0===arguments[e]&&(l[e]=void 0)})),this._xregexp&&this._xregexp.captureNames)for(var c=1;c<l.length;c++)t=this._xregexp.captureNames[c-1],t&&(l[t]=l[c]);!a&&this.global&&!l[0].length&&this.lastIndex>l.index&&this.lastIndex--}return l},a||(RegExp.prototype.test=function(e){var t=r.exec.call(this,e);return t&&this.global&&!t[0].length&&this.lastIndex>t.index&&this.lastIndex--,!!t}))}),ace.define("ace/lib/es5-shim",["require","exports","module"],function(e,t,i){function n(){}function s(e){try{return Object.defineProperty(e,"sentinel",{}),"sentinel"in e}catch(t){}}function r(e){return e=+e,e!==e?e=0:0!==e&&e!==1/0&&e!==-1/0&&(e=(e>0||-1)*Math.floor(Math.abs(e))),e}Function.prototype.bind||(Function.prototype.bind=function(e){var t=this;if("function"!=typeof t)throw new TypeError("Function.prototype.bind called on incompatible "+t);var i=f.call(arguments,1),s=function(){if(this instanceof s){var n=t.apply(this,i.concat(f.call(arguments)));return Object(n)===n?n:this}return t.apply(e,i.concat(f.call(arguments)))};return t.prototype&&(n.prototype=t.prototype,s.prototype=new n,n.prototype=null),s});var o,a,l,c,u,d=Function.prototype.call,h=Array.prototype,p=Object.prototype,f=h.slice,g=d.bind(p.toString),m=d.bind(p.hasOwnProperty);if((u=m(p,"__defineGetter__"))&&(o=d.bind(p.__defineGetter__),a=d.bind(p.__defineSetter__),l=d.bind(p.__lookupGetter__),c=d.bind(p.__lookupSetter__)),2!=[1,2].splice(0).length)if(function(){function e(e){var t=new Array(e+2);return t[0]=t[1]=0,t}var t,i=[];if(i.splice.apply(i,e(20)),i.splice.apply(i,e(26)),t=i.length,i.splice(5,0,"XXX"),t+1==i.length,t+1==i.length)return!0}()){var v=Array.prototype.splice;Array.prototype.splice=function(e,t){return arguments.length?v.apply(this,[void 0===e?0:e,void 0===t?this.length-e:t].concat(f.call(arguments,2))):[]}}else Array.prototype.splice=function(e,t){var i=this.length;e>0?e>i&&(e=i):void 0==e?e=0:e<0&&(e=Math.max(i+e,0)),e+t<i||(t=i-e);var n=this.slice(e,e+t),s=f.call(arguments,2),r=s.length;if(e===i)r&&this.push.apply(this,s);else{var o=Math.min(t,i-e),a=e+o,l=a+r-o,c=i-a,u=i-o;if(l<a)for(var d=0;d<c;++d)this[l+d]=this[a+d];else if(l>a)for(d=c;d--;)this[l+d]=this[a+d];if(r&&e===u)this.length=u,this.push.apply(this,s);else for(this.length=u+r,d=0;d<r;++d)this[e+d]=s[d]}return n};Array.isArray||(Array.isArray=function(e){return"[object Array]"==g(e)});var b=Object("a"),w="a"!=b[0]||!(0 in b);if(Array.prototype.forEach||(Array.prototype.forEach=function(e){var t=P(this),i=w&&"[object String]"==g(this)?this.split(""):t,n=arguments[1],s=-1,r=i.length>>>0;if("[object Function]"!=g(e))throw new TypeError;for(;++s<r;)s in i&&e.call(n,i[s],s,t)}),Array.prototype.map||(Array.prototype.map=function(e){var t=P(this),i=w&&"[object String]"==g(this)?this.split(""):t,n=i.length>>>0,s=Array(n),r=arguments[1];if("[object Function]"!=g(e))throw new TypeError(e+" is not a function");for(var o=0;o<n;o++)o in i&&(s[o]=e.call(r,i[o],o,t));return s}),Array.prototype.filter||(Array.prototype.filter=function(e){var t,i=P(this),n=w&&"[object String]"==g(this)?this.split(""):i,s=n.length>>>0,r=[],o=arguments[1];if("[object Function]"!=g(e))throw new TypeError(e+" is not a function");for(var a=0;a<s;a++)a in n&&(t=n[a],e.call(o,t,a,i)&&r.push(t));return r}),Array.prototype.every||(Array.prototype.every=function(e){var t=P(this),i=w&&"[object String]"==g(this)?this.split(""):t,n=i.length>>>0,s=arguments[1];if("[object Function]"!=g(e))throw new TypeError(e+" is not a function");for(var r=0;r<n;r++)if(r in i&&!e.call(s,i[r],r,t))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(e){var t=P(this),i=w&&"[object String]"==g(this)?this.split(""):t,n=i.length>>>0,s=arguments[1];if("[object Function]"!=g(e))throw new TypeError(e+" is not a function");for(var r=0;r<n;r++)if(r in i&&e.call(s,i[r],r,t))return!0;return!1}),Array.prototype.reduce||(Array.prototype.reduce=function(e){var t=P(this),i=w&&"[object String]"==g(this)?this.split(""):t,n=i.length>>>0;if("[object Function]"!=g(e))throw new TypeError(e+" is not a function");if(!n&&1==arguments.length)throw new TypeError("reduce of empty array with no initial value");var s,r=0;if(arguments.length>=2)s=arguments[1];else for(;;){if(r in i){s=i[r++];break}if(++r>=n)throw new TypeError("reduce of empty array with no initial value")}for(;r<n;r++)r in i&&(s=e.call(void 0,s,i[r],r,t));return s}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(e){var t=P(this),i=w&&"[object String]"==g(this)?this.split(""):t,n=i.length>>>0;if("[object Function]"!=g(e))throw new TypeError(e+" is not a function");if(!n&&1==arguments.length)throw new TypeError("reduceRight of empty array with no initial value");var s,r=n-1;if(arguments.length>=2)s=arguments[1];else for(;;){if(r in i){s=i[r--];break}if(--r<0)throw new TypeError("reduceRight of empty array with no initial value")}do r in this&&(s=e.call(void 0,s,i[r],r,t));while(r--);return s}),Array.prototype.indexOf&&[0,1].indexOf(1,2)==-1||(Array.prototype.indexOf=function(e){var t=w&&"[object String]"==g(this)?this.split(""):P(this),i=t.length>>>0;if(!i)return-1;var n=0;for(arguments.length>1&&(n=r(arguments[1])),n=n>=0?n:Math.max(0,i+n);n<i;n++)if(n in t&&t[n]===e)return n;return-1}),Array.prototype.lastIndexOf&&[0,1].lastIndexOf(0,-3)==-1||(Array.prototype.lastIndexOf=function(e){var t=w&&"[object String]"==g(this)?this.split(""):P(this),i=t.length>>>0;if(!i)return-1;var n=i-1;for(arguments.length>1&&(n=Math.min(n,r(arguments[1]))),n=n>=0?n:i-Math.abs(n);n>=0;n--)if(n in t&&e===t[n])return n;return-1}),Object.getPrototypeOf||(Object.getPrototypeOf=function(e){return e.__proto__||(e.constructor?e.constructor.prototype:p)}),!Object.getOwnPropertyDescriptor){var y="Object.getOwnPropertyDescriptor called on a non-object: ";Object.getOwnPropertyDescriptor=function(e,t){if("object"!=typeof e&&"function"!=typeof e||null===e)throw new TypeError(y+e);if(m(e,t)){var i,n,s;if(i={enumerable:!0,configurable:!0},u){var r=e.__proto__;e.__proto__=p;var n=l(e,t),s=c(e,t);if(e.__proto__=r,n||s)return n&&(i.get=n),s&&(i.set=s),i}return i.value=e[t],i}}}if(Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function(e){return Object.keys(e)}),!Object.create){var A;A=null===Object.prototype.__proto__?function(){return{__proto__:null}}:function(){var e={};for(var t in e)e[t]=null;return e.constructor=e.hasOwnProperty=e.propertyIsEnumerable=e.isPrototypeOf=e.toLocaleString=e.toString=e.valueOf=e.__proto__=null,e},Object.create=function(e,t){var i;if(null===e)i=A();else{if("object"!=typeof e)throw new TypeError("typeof prototype["+typeof e+"] != 'object'");var n=function(){};n.prototype=e,i=new n,i.__proto__=e}return void 0!==t&&Object.defineProperties(i,t),i}}if(Object.defineProperty){var k=s({}),C="undefined"==typeof document||s(document.createElement("div"));if(!k||!C)var x=Object.defineProperty}if(!Object.defineProperty||x){var _="Property description must be an object: ",S="Object.defineProperty called on non-object: ",E="getters & setters can not be defined on this javascript engine";Object.defineProperty=function(e,t,i){if("object"!=typeof e&&"function"!=typeof e||null===e)throw new TypeError(S+e);if("object"!=typeof i&&"function"!=typeof i||null===i)throw new TypeError(_+i);if(x)try{return x.call(Object,e,t,i)}catch(n){}if(m(i,"value"))if(u&&(l(e,t)||c(e,t))){var s=e.__proto__;e.__proto__=p,delete e[t],e[t]=i.value,e.__proto__=s}else e[t]=i.value;else{if(!u)throw new TypeError(E);m(i,"get")&&o(e,t,i.get),m(i,"set")&&a(e,t,i.set)}return e}}Object.defineProperties||(Object.defineProperties=function(e,t){for(var i in t)m(t,i)&&Object.defineProperty(e,i,t[i]);return e}),Object.seal||(Object.seal=function(e){return e}),Object.freeze||(Object.freeze=function(e){return e});try{Object.freeze(function(){})}catch(F){Object.freeze=function(e){return function(t){return"function"==typeof t?t:e(t)}}(Object.freeze)}if(Object.preventExtensions||(Object.preventExtensions=function(e){return e}),Object.isSealed||(Object.isSealed=function(e){return!1}),Object.isFrozen||(Object.isFrozen=function(e){return!1}),Object.isExtensible||(Object.isExtensible=function(e){if(Object(e)===e)throw new TypeError;for(var t="";m(e,t);)t+="?";e[t]=!0;var i=m(e,t);return delete e[t],i}),!Object.keys){var D=!0,$=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],q=$.length;for(var R in{toString:null})D=!1;Object.keys=function M(e){if("object"!=typeof e&&"function"!=typeof e||null===e)throw new TypeError("Object.keys called on a non-object");var M=[];for(var t in e)m(e,t)&&M.push(t);if(D)for(var i=0,n=q;i<n;i++){var s=$[i];m(e,s)&&M.push(s)}return M}}Date.now||(Date.now=function(){return(new Date).getTime()});var T="\t\n\x0B\f\r   ᠎             　\u2028\u2029\ufeff";if(!String.prototype.trim||T.trim()){T="["+T+"]";var B=new RegExp("^"+T+T+"*"),L=new RegExp(T+T+"*$");String.prototype.trim=function(){return String(this).replace(B,"").replace(L,"")}}var P=function(e){if(null==e)throw new TypeError("can't convert "+e+" to object");return Object(e)}}),ace.define("ace/lib/fixoldbrowsers",["require","exports","module","ace/lib/regexp","ace/lib/es5-shim"],function(e,t,i){"use strict";e("./regexp"),e("./es5-shim")}),ace.define("ace/lib/dom",["require","exports","module"],function(e,t,i){"use strict";var n="http://www.w3.org/1999/xhtml";return t.getDocumentHead=function(e){return e||(e=document),e.head||e.getElementsByTagName("head")[0]||e.documentElement},t.createElement=function(e,t){return document.createElementNS?document.createElementNS(t||n,e):document.createElement(e)},t.hasCssClass=function(e,t){var i=(e.className||"").split(/\s+/g);return i.indexOf(t)!==-1},t.addCssClass=function(e,i){t.hasCssClass(e,i)||(e.className+=" "+i)},t.removeCssClass=function(e,t){for(var i=e.className.split(/\s+/g);;){var n=i.indexOf(t);if(n==-1)break;i.splice(n,1)}e.className=i.join(" ")},t.toggleCssClass=function(e,t){for(var i=e.className.split(/\s+/g),n=!0;;){var s=i.indexOf(t);if(s==-1)break;n=!1,i.splice(s,1)}return n&&i.push(t),e.className=i.join(" "),n},t.setCssClass=function(e,i,n){n?t.addCssClass(e,i):t.removeCssClass(e,i)},t.hasCssString=function(e,t){var i,n=0;if(t=t||document,t.createStyleSheet&&(i=t.styleSheets)){for(;n<i.length;)if(i[n++].owningElement.id===e)return!0}else if(i=t.getElementsByTagName("style"))for(;n<i.length;)if(i[n++].id===e)return!0;return!1},t.importCssString=function(e,i,n){if(n=n||document,i&&t.hasCssString(i,n))return null;var s;i&&(e+="\n/*# sourceURL=ace/css/"+i+" */"),n.createStyleSheet?(s=n.createStyleSheet(),s.cssText=e,i&&(s.owningElement.id=i)):(s=t.createElement("style"),s.appendChild(n.createTextNode(e)),i&&(s.id=i),t.getDocumentHead(n).appendChild(s))},t.importCssStylsheet=function(e,i){if(i.createStyleSheet)i.createStyleSheet(e);else{var n=t.createElement("link");n.rel="stylesheet",n.href=e,t.getDocumentHead(i).appendChild(n)}},t.getInnerWidth=function(e){return parseInt(t.computedStyle(e,"paddingLeft"),10)+parseInt(t.computedStyle(e,"paddingRight"),10)+e.clientWidth},t.getInnerHeight=function(e){return parseInt(t.computedStyle(e,"paddingTop"),10)+parseInt(t.computedStyle(e,"paddingBottom"),10)+e.clientHeight},t.scrollbarWidth=function(e){var i=t.createElement("ace_inner");i.style.width="100%",i.style.minWidth="0px",i.style.height="200px",i.style.display="block";var n=t.createElement("ace_outer"),s=n.style;s.position="absolute",s.left="-10000px",s.overflow="hidden",s.width="200px",s.minWidth="0px",s.height="150px",s.display="block",n.appendChild(i);var r=e.documentElement;r.appendChild(n);var o=i.offsetWidth;s.overflow="scroll";var a=i.offsetWidth;return o==a&&(a=n.clientWidth),r.removeChild(n),o-a},"undefined"==typeof document?void(t.importCssString=function(){}):(void 0!==window.pageYOffset?(t.getPageScrollTop=function(){return window.pageYOffset},t.getPageScrollLeft=function(){return window.pageXOffset}):(t.getPageScrollTop=function(){return document.body.scrollTop},t.getPageScrollLeft=function(){return document.body.scrollLeft}),window.getComputedStyle?t.computedStyle=function(e,t){return t?(window.getComputedStyle(e,"")||{})[t]||"":window.getComputedStyle(e,"")||{}}:t.computedStyle=function(e,t){return t?e.currentStyle[t]:e.currentStyle},t.setInnerHtml=function(e,t){var i=e.cloneNode(!1);return i.innerHTML=t,e.parentNode.replaceChild(i,e),i},"textContent"in document.documentElement?(t.setInnerText=function(e,t){e.textContent=t},t.getInnerText=function(e){return e.textContent}):(t.setInnerText=function(e,t){e.innerText=t},t.getInnerText=function(e){return e.innerText}),t.getParentWindow=function(e){return e.defaultView||e.parentWindow},void 0)}),ace.define("ace/lib/oop",["require","exports","module"],function(e,t,i){"use strict";t.inherits=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})},t.mixin=function(e,t){for(var i in t)e[i]=t[i];return e},t.implement=function(e,i){t.mixin(e,i)}}),ace.define("ace/lib/keys",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/oop"],function(e,t,i){"use strict";e("./fixoldbrowsers");var n=e("./oop"),s=function(){var e,t,i={MODIFIER_KEYS:{16:"Shift",17:"Ctrl",18:"Alt",224:"Meta"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,"super":8,meta:8,command:8,cmd:8
},FUNCTION_KEYS:{8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9","-13":"NumpadEnter",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Numlock",145:"Scrolllock"},PRINTABLE_KEYS:{32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*"}};for(t in i.FUNCTION_KEYS)e=i.FUNCTION_KEYS[t].toLowerCase(),i[e]=parseInt(t,10);for(t in i.PRINTABLE_KEYS)e=i.PRINTABLE_KEYS[t].toLowerCase(),i[e]=parseInt(t,10);return n.mixin(i,i.MODIFIER_KEYS),n.mixin(i,i.PRINTABLE_KEYS),n.mixin(i,i.FUNCTION_KEYS),i.enter=i["return"],i.escape=i.esc,i.del=i["delete"],i[173]="-",function(){for(var e=["cmd","ctrl","alt","shift"],t=Math.pow(2,e.length);t--;)i.KEY_MODS[t]=e.filter(function(e){return t&i.KEY_MODS[e]}).join("-")+"-"}(),i.KEY_MODS[0]="",i.KEY_MODS[-1]="input-",i}();n.mixin(t,s),t.keyCodeToString=function(e){var t=s[e];return"string"!=typeof t&&(t=String.fromCharCode(e)),t.toLowerCase()}}),ace.define("ace/lib/useragent",["require","exports","module"],function(e,t,i){"use strict";if(t.OS={LINUX:"LINUX",MAC:"MAC",WINDOWS:"WINDOWS"},t.getOS=function(){return t.isMac?t.OS.MAC:t.isLinux?t.OS.LINUX:t.OS.WINDOWS},"object"==typeof navigator){var n=(navigator.platform.match(/mac|win|linux/i)||["other"])[0].toLowerCase(),s=navigator.userAgent;t.isWin="win"==n,t.isMac="mac"==n,t.isLinux="linux"==n,t.isIE="Microsoft Internet Explorer"==navigator.appName||navigator.appName.indexOf("MSAppHost")>=0?parseFloat((s.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]):parseFloat((s.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]),t.isOldIE=t.isIE&&t.isIE<9,t.isGecko=t.isMozilla=(window.Controllers||window.controllers)&&"Gecko"===window.navigator.product,t.isOldGecko=t.isGecko&&parseInt((s.match(/rv\:(\d+)/)||[])[1],10)<4,t.isOpera=window.opera&&"[object Opera]"==Object.prototype.toString.call(window.opera),t.isWebKit=parseFloat(s.split("WebKit/")[1])||void 0,t.isChrome=parseFloat(s.split(" Chrome/")[1])||void 0,t.isAIR=s.indexOf("AdobeAIR")>=0,t.isIPad=s.indexOf("iPad")>=0,t.isTouchPad=s.indexOf("TouchPad")>=0,t.isChromeOS=s.indexOf(" CrOS ")>=0}}),ace.define("ace/lib/event",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(e,t,i){"use strict";function n(e,t,i){var n=c(t);if(!o.isMac&&a){if(a.OSKey&&(n|=8),a.altGr){if(3==(3&n))return;a.altGr=0}if(18===i||17===i){var s="location"in t?t.location:t.keyLocation;if(17===i&&1===s)1==a[i]&&(l=t.timeStamp);else if(18===i&&3===n&&2===s){var u=t.timeStamp-l;u<50&&(a.altGr=!0)}}}if(i in r.MODIFIER_KEYS&&(i=-1),8&n&&i>=91&&i<=93&&(i=-1),!n&&13===i){var s="location"in t?t.location:t.keyLocation;if(3===s&&(e(t,n,-i),t.defaultPrevented))return}if(o.isChromeOS&&8&n){if(e(t,n,i),t.defaultPrevented)return;n&=-9}return!!(n||i in r.FUNCTION_KEYS||i in r.PRINTABLE_KEYS)&&e(t,n,i)}function s(){a=Object.create(null),a.count=0,a.lastT=0}var r=e("./keys"),o=e("./useragent"),a=null,l=0;t.addListener=function(e,t,i){if(e.addEventListener)return e.addEventListener(t,i,!1);if(e.attachEvent){var n=function(){i.call(e,window.event)};i._wrapper=n,e.attachEvent("on"+t,n)}},t.removeListener=function(e,t,i){return e.removeEventListener?e.removeEventListener(t,i,!1):void(e.detachEvent&&e.detachEvent("on"+t,i._wrapper||i))},t.stopEvent=function(e){return t.stopPropagation(e),t.preventDefault(e),!1},t.stopPropagation=function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},t.preventDefault=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},t.getButton=function(e){return"dblclick"==e.type?0:"contextmenu"==e.type||o.isMac&&e.ctrlKey&&!e.altKey&&!e.shiftKey?2:e.preventDefault?e.button:{1:0,2:2,4:1}[e.button]},t.capture=function(e,i,n){function s(e){i&&i(e),n&&n(e),t.removeListener(document,"mousemove",i,!0),t.removeListener(document,"mouseup",s,!0),t.removeListener(document,"dragstart",s,!0)}return t.addListener(document,"mousemove",i,!0),t.addListener(document,"mouseup",s,!0),t.addListener(document,"dragstart",s,!0),s},t.addTouchMoveListener=function(e,i){if("ontouchmove"in e){var n,s;t.addListener(e,"touchstart",function(e){var t=e.changedTouches[0];n=t.clientX,s=t.clientY}),t.addListener(e,"touchmove",function(e){var t=1,r=e.changedTouches[0];e.wheelX=-(r.clientX-n)/t,e.wheelY=-(r.clientY-s)/t,n=r.clientX,s=r.clientY,i(e)})}},t.addMouseWheelListener=function(e,i){"onmousewheel"in e?t.addListener(e,"mousewheel",function(e){var t=8;void 0!==e.wheelDeltaX?(e.wheelX=-e.wheelDeltaX/t,e.wheelY=-e.wheelDeltaY/t):(e.wheelX=0,e.wheelY=-e.wheelDelta/t),i(e)}):"onwheel"in e?t.addListener(e,"wheel",function(e){var t=.35;switch(e.deltaMode){case e.DOM_DELTA_PIXEL:e.wheelX=e.deltaX*t||0,e.wheelY=e.deltaY*t||0;break;case e.DOM_DELTA_LINE:case e.DOM_DELTA_PAGE:e.wheelX=5*(e.deltaX||0),e.wheelY=5*(e.deltaY||0)}i(e)}):t.addListener(e,"DOMMouseScroll",function(e){e.axis&&e.axis==e.HORIZONTAL_AXIS?(e.wheelX=5*(e.detail||0),e.wheelY=0):(e.wheelX=0,e.wheelY=5*(e.detail||0)),i(e)})},t.addMultiMouseDownListener=function(e,i,n,s){function r(e){if(0!==t.getButton(e)?d=0:e.detail>1?(d++,d>4&&(d=1)):d=1,o.isIE){var r=Math.abs(e.clientX-l)>5||Math.abs(e.clientY-c)>5;u&&!r||(d=1),u&&clearTimeout(u),u=setTimeout(function(){u=null},i[d-1]||600),1==d&&(l=e.clientX,c=e.clientY)}if(e._clicks=d,n[s]("mousedown",e),d>4)d=0;else if(d>1)return n[s](h[d],e)}function a(e){d=2,u&&clearTimeout(u),u=setTimeout(function(){u=null},i[d-1]||600),n[s]("mousedown",e),n[s](h[d],e)}var l,c,u,d=0,h={2:"dblclick",3:"tripleclick",4:"quadclick"};Array.isArray(e)||(e=[e]),e.forEach(function(e){t.addListener(e,"mousedown",r),o.isOldIE&&t.addListener(e,"dblclick",a)})};var c=!o.isMac||!o.isOpera||"KeyboardEvent"in window?function(e){return 0|(e.ctrlKey?1:0)|(e.altKey?2:0)|(e.shiftKey?4:0)|(e.metaKey?8:0)}:function(e){return 0|(e.metaKey?1:0)|(e.altKey?2:0)|(e.shiftKey?4:0)|(e.ctrlKey?8:0)};if(t.getModifierString=function(e){return r.KEY_MODS[c(e)]},t.addCommandKeyListener=function(e,i){var r=t.addListener;if(o.isOldGecko||o.isOpera&&!("KeyboardEvent"in window)){var l=null;r(e,"keydown",function(e){l=e.keyCode}),r(e,"keypress",function(e){return n(i,e,l)})}else{var c=null;r(e,"keydown",function(e){var t=e.keyCode;a[t]=(a[t]||0)+1,91==t||92==t?a.OSKey=!0:a.OSKey&&e.timeStamp-a.lastT>200&&1==a.count&&s(),1==a[t]&&a.count++,a.lastT=e.timeStamp;var r=n(i,e,t);return c=e.defaultPrevented,r}),r(e,"keypress",function(e){c&&(e.ctrlKey||e.altKey||e.shiftKey||e.metaKey)&&(t.stopEvent(e),c=null)}),r(e,"keyup",function(e){var t=e.keyCode;a[t]?a.count=Math.max(a.count-1,0):s(),91!=t&&92!=t||(a.OSKey=!1),a[t]=null}),a||(s(),r(window,"focus",s))}},"object"==typeof window&&window.postMessage&&!o.isOldIE){var u=1;t.nextTick=function(e,i){i=i||window;var n="zero-timeout-message-"+u;t.addListener(i,"message",function s(r){r.data==n&&(t.stopPropagation(r),t.removeListener(i,"message",s),e())}),i.postMessage(n,"*")}}t.nextFrame="object"==typeof window&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame),t.nextFrame?t.nextFrame=t.nextFrame.bind(window):t.nextFrame=function(e){setTimeout(e,17)}}),ace.define("ace/lib/lang",["require","exports","module"],function(e,t,i){"use strict";t.last=function(e){return e[e.length-1]},t.stringReverse=function(e){return e.split("").reverse().join("")},t.stringRepeat=function(e,t){for(var i="";t>0;)1&t&&(i+=e),(t>>=1)&&(e+=e);return i};var n=/^\s\s*/,s=/\s\s*$/;t.stringTrimLeft=function(e){return e.replace(n,"")},t.stringTrimRight=function(e){return e.replace(s,"")},t.copyObject=function(e){var t={};for(var i in e)t[i]=e[i];return t},t.copyArray=function(e){for(var t=[],i=0,n=e.length;i<n;i++)e[i]&&"object"==typeof e[i]?t[i]=this.copyObject(e[i]):t[i]=e[i];return t},t.deepCopy=function r(e){if("object"!=typeof e||!e)return e;var t;if(Array.isArray(e)){t=[];for(var i=0;i<e.length;i++)t[i]=r(e[i]);return t}var n=e.constructor;if(n===RegExp)return e;t=n();for(var i in e)t[i]=r(e[i]);return t},t.arrayToMap=function(e){for(var t={},i=0;i<e.length;i++)t[e[i]]=1;return t},t.createMap=function(e){var t=Object.create(null);for(var i in e)t[i]=e[i];return t},t.arrayRemove=function(e,t){for(var i=0;i<=e.length;i++)t===e[i]&&e.splice(i,1)},t.escapeRegExp=function(e){return e.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},t.escapeHTML=function(e){return e.replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")},t.getMatchOffsets=function(e,t){var i=[];return e.replace(t,function(e){i.push({offset:arguments[arguments.length-2],length:e.length})}),i},t.deferredCall=function(e){var t=null,i=function(){t=null,e()},n=function(e){return n.cancel(),t=setTimeout(i,e||0),n};return n.schedule=n,n.call=function(){return this.cancel(),e(),n},n.cancel=function(){return clearTimeout(t),t=null,n},n.isPending=function(){return t},n},t.delayedCall=function(e,t){var i=null,n=function(){i=null,e()},s=function(e){null==i&&(i=setTimeout(n,e||t))};return s.delay=function(e){i&&clearTimeout(i),i=setTimeout(n,e||t)},s.schedule=s,s.call=function(){this.cancel(),e()},s.cancel=function(){i&&clearTimeout(i),i=null},s.isPending=function(){return i},s}}),ace.define("ace/keyboard/textinput",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/lib/dom","ace/lib/lang"],function(e,t,i){"use strict";var n=e("../lib/event"),s=e("../lib/useragent"),r=e("../lib/dom"),o=e("../lib/lang"),a=s.isChrome<18,l=s.isIE,c=function(e,t){function i(e){if(!g){if(g=!0,F)t=0,i=e?0:d.value.length-1;else var t=e?2:1,i=2;try{d.setSelectionRange(t,i)}catch(n){}g=!1}}function c(){g||(d.value=h,s.isWebKit&&A.schedule())}function u(){clearTimeout(O),O=setTimeout(function(){m&&(d.style.cssText=m,m=""),null==t.renderer.$keepTextAreaAtCursor&&(t.renderer.$keepTextAreaAtCursor=!0,t.renderer.$moveTextAreaToCursor())},s.isOldIE?200:0)}var d=r.createElement("textarea");d.className="ace_text-input",s.isTouchPad&&d.setAttribute("x-palm-disable-auto-cap",!0),d.setAttribute("wrap","off"),d.setAttribute("autocorrect","off"),d.setAttribute("autocapitalize","off"),d.setAttribute("spellcheck",!1),d.style.opacity="0",s.isOldIE&&(d.style.top="-1000px"),e.insertBefore(d,e.firstChild);var h="",p=!1,f=!1,g=!1,m="",v=!0;try{var b=document.activeElement===d}catch(w){}n.addListener(d,"blur",function(e){t.onBlur(e),b=!1}),n.addListener(d,"focus",function(e){b=!0,t.onFocus(e),i()}),this.focus=function(){if(m)return d.focus();var e=d.style.top;d.style.position="fixed",d.style.top="0px",d.focus(),setTimeout(function(){d.style.position="","0px"==d.style.top&&(d.style.top=e)},0)},this.blur=function(){d.blur()},this.isFocused=function(){return b};var y=o.delayedCall(function(){b&&i(v)}),A=o.delayedCall(function(){g||(d.value=h,b&&i())});s.isWebKit||t.addEventListener("changeSelection",function(){t.selection.isEmpty()!=v&&(v=!v,y.schedule())}),c(),b&&t.onFocus();var k=function(e){return 0===e.selectionStart&&e.selectionEnd===e.value.length};if(!d.setSelectionRange&&d.createTextRange&&(d.setSelectionRange=function(e,t){var i=this.createTextRange();i.collapse(!0),i.moveStart("character",e),i.moveEnd("character",t),i.select()},k=function(e){try{var t=e.ownerDocument.selection.createRange()}catch(i){}return!(!t||t.parentElement()!=e)&&t.text==e.value}),s.isOldIE){var C=!1,x=function(e){if(!C){var t=d.value;if(!g&&t&&t!=h)return e&&t==h[0]?_.schedule():($(t),C=!0,c(),C=!1,void 0)}},_=o.delayedCall(x);n.addListener(d,"propertychange",x);var S={13:1,27:1};n.addListener(d,"keyup",function(e){return g&&(!d.value||S[e.keyCode])&&setTimeout(H,0),(d.value.charCodeAt(0)||0)<129?_.call():void(g?I():M())}),n.addListener(d,"keydown",function(e){_.schedule(50)})}var E=function(e){p?p=!1:k(d)?(t.selectAll(),i()):F&&i(t.selection.isEmpty())},F=null;this.setInputHandler=function(e){F=e},this.getInputHandler=function(){return F};var D=!1,$=function(e){F&&(e=F(e),F=null),f?(i(),e&&t.onPaste(e),f=!1):e==h.charAt(0)?D?t.execCommand("del",{source:"ace"}):t.execCommand("backspace",{source:"ace"}):(e.substring(0,2)==h?e=e.substr(2):e.charAt(0)==h.charAt(0)?e=e.substr(1):e.charAt(e.length-1)==h.charAt(0)&&(e=e.slice(0,-1)),e.charAt(e.length-1)==h.charAt(0)&&(e=e.slice(0,-1)),e&&t.onTextInput(e)),D&&(D=!1)},q=function(e){if(!g){var t=d.value;$(t),c()}},R=function(e,t){var i=e.clipboardData||window.clipboardData;if(i&&!a){var n=l?"Text":"text/plain";return t?i.setData(n,t)!==!1:i.getData(n)}},T=function(e,s){var r=t.getCopyText();return r?void(R(e,r)?(s?t.onCut():t.onCopy(),n.preventDefault(e)):(p=!0,d.value=r,d.select(),setTimeout(function(){p=!1,c(),i(),s?t.onCut():t.onCopy()}))):n.preventDefault(e)},B=function(e){T(e,!0)},L=function(e){T(e,!1)},P=function(e){var r=R(e);"string"==typeof r?(r&&t.onPaste(r,e),s.isIE&&setTimeout(i),n.preventDefault(e)):(d.value="",f=!0)};n.addCommandKeyListener(d,t.onCommandKey.bind(t)),n.addListener(d,"select",E),n.addListener(d,"input",q),n.addListener(d,"cut",B),n.addListener(d,"copy",L),n.addListener(d,"paste",P),(!("oncut"in d)||!("oncopy"in d)||!("onpaste"in d))&&n.addListener(e,"keydown",function(e){if((!s.isMac||e.metaKey)&&e.ctrlKey)switch(e.keyCode){case 67:L(e);break;case 86:P(e);break;case 88:B(e)}});var M=function(e){g||!t.onCompositionStart||t.$readOnly||(g={},t.onCompositionStart(),setTimeout(I,0),t.on("mousedown",H),t.selection.isEmpty()||(t.insert(""),t.session.markUndoGroup(),t.selection.clearSelection()),t.session.markUndoGroup())},I=function(){if(g&&t.onCompositionUpdate&&!t.$readOnly){var e=d.value.replace(/\x01/g,"");if(g.lastValue!==e&&(t.onCompositionUpdate(e),g.lastValue&&t.undo(),g.lastValue=e,g.lastValue)){var i=t.selection.getRange();t.insert(g.lastValue),t.session.markUndoGroup(),g.range=t.selection.getRange(),t.selection.setRange(i),t.selection.clearSelection()}}},H=function(e){if(t.onCompositionEnd&&!t.$readOnly){var i=g;g=!1;var n=setTimeout(function(){n=null;var e=d.value.replace(/\x01/g,"");g||(e==i.lastValue?c():!i.lastValue&&e&&(c(),$(e)))});F=function(e){return n&&clearTimeout(n),e=e.replace(/\x01/g,""),e==i.lastValue?"":(i.lastValue&&n&&t.undo(),e)},t.onCompositionEnd(),t.removeListener("mousedown",H),"compositionend"==e.type&&i.range&&t.selection.setRange(i.range)}},z=o.delayedCall(I,50);n.addListener(d,"compositionstart",M),s.isGecko?n.addListener(d,"text",function(){z.schedule()}):(n.addListener(d,"keyup",function(){z.schedule()}),n.addListener(d,"keydown",function(){z.schedule()})),n.addListener(d,"compositionend",H),this.getElement=function(){return d},this.setReadOnly=function(e){d.readOnly=e},this.onContextMenu=function(e){D=!0,i(t.selection.isEmpty()),t._emit("nativecontextmenu",{target:t,domEvent:e}),this.moveToMouse(e,!0)},this.moveToMouse=function(e,i){if(i||!s.isOldIE){m||(m=d.style.cssText),d.style.cssText=(i?"z-index:100000;":"")+"height:"+d.style.height+";"+(s.isIE?"opacity:0.1;":"");var o=t.container.getBoundingClientRect(),a=r.computedStyle(t.container),l=o.top+(parseInt(a.borderTopWidth)||0),c=o.left+(parseInt(o.borderLeftWidth)||0),h=o.bottom-l-d.clientHeight-2,p=function(e){d.style.left=e.clientX-c-2+"px",d.style.top=Math.min(e.clientY-l-2,h)+"px"};p(e),"mousedown"==e.type&&(t.renderer.$keepTextAreaAtCursor&&(t.renderer.$keepTextAreaAtCursor=null),clearTimeout(O),s.isWin&&!s.isOldIE&&n.capture(t.container,p,u))}},this.onContextMenuClose=u;var O,j=function(e){t.textInput.onContextMenu(e),u()};n.addListener(d,"mouseup",j),n.addListener(d,"mousedown",function(e){e.preventDefault(),u()}),n.addListener(t.renderer.scroller,"contextmenu",j),n.addListener(d,"contextmenu",j)};t.TextInput=c}),ace.define("ace/mouse/default_handlers",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],function(e,t,i){"use strict";function n(e){e.$clickSelection=null;var t=e.editor;t.setDefaultHandler("mousedown",this.onMouseDown.bind(e)),t.setDefaultHandler("dblclick",this.onDoubleClick.bind(e)),t.setDefaultHandler("tripleclick",this.onTripleClick.bind(e)),t.setDefaultHandler("quadclick",this.onQuadClick.bind(e)),t.setDefaultHandler("mousewheel",this.onMouseWheel.bind(e)),t.setDefaultHandler("touchmove",this.onTouchMove.bind(e));var i=["select","startSelect","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","dragWait","dragWaitEnd","focusWait"];i.forEach(function(t){e[t]=this[t]},this),e.selectByLines=this.extendSelectionBy.bind(e,"getLineRange"),e.selectByWords=this.extendSelectionBy.bind(e,"getWordRange")}function s(e,t,i,n){return Math.sqrt(Math.pow(i-e,2)+Math.pow(n-t,2))}function r(e,t){if(e.start.row==e.end.row)var i=2*t.column-e.start.column-e.end.column;else if(e.start.row!=e.end.row-1||e.start.column||e.end.column)var i=2*t.row-e.start.row-e.end.row;else var i=t.column-4;return i<0?{cursor:e.start,anchor:e.end}:{cursor:e.end,anchor:e.start}}var o=(e("../lib/dom"),e("../lib/event"),e("../lib/useragent"),0);(function(){this.onMouseDown=function(e){var t=e.inSelection(),i=e.getDocumentPosition();this.mousedownEvent=e;var n=this.editor,s=e.getButton();if(0!==s){var r=n.getSelectionRange(),o=r.isEmpty();return n.$blockScrolling++,(o||1==s)&&n.selection.moveToPosition(i),n.$blockScrolling--,2==s&&n.textInput.onContextMenu(e.domEvent),void 0}return this.mousedownEvent.time=Date.now(),!t||n.isFocused()||(n.focus(),!this.$focusTimout||this.$clickSelection||n.inMultiSelectMode)?(this.captureMouse(e),this.startSelect(i,e.domEvent._clicks>1),e.preventDefault()):(this.setState("focusWait"),void this.captureMouse(e))},this.startSelect=function(e,t){e=e||this.editor.renderer.screenToTextCoordinates(this.x,this.y);var i=this.editor;i.$blockScrolling++,this.mousedownEvent.getShiftKey()?i.selection.selectToPosition(e):t||i.selection.moveToPosition(e),t||this.select(),i.renderer.scroller.setCapture&&i.renderer.scroller.setCapture(),i.setStyle("ace_selecting"),this.setState("select"),i.$blockScrolling--},this.select=function(){var e,t=this.editor,i=t.renderer.screenToTextCoordinates(this.x,this.y);if(t.$blockScrolling++,this.$clickSelection){var n=this.$clickSelection.comparePoint(i);if(n==-1)e=this.$clickSelection.end;else if(1==n)e=this.$clickSelection.start;else{var s=r(this.$clickSelection,i);i=s.cursor,e=s.anchor}t.selection.setSelectionAnchor(e.row,e.column)}t.selection.selectToPosition(i),t.$blockScrolling--,t.renderer.scrollCursorIntoView()},this.extendSelectionBy=function(e){var t,i=this.editor,n=i.renderer.screenToTextCoordinates(this.x,this.y),s=i.selection[e](n.row,n.column);if(i.$blockScrolling++,this.$clickSelection){var o=this.$clickSelection.comparePoint(s.start),a=this.$clickSelection.comparePoint(s.end);if(o==-1&&a<=0)t=this.$clickSelection.end,s.end.row==n.row&&s.end.column==n.column||(n=s.start);else if(1==a&&o>=0)t=this.$clickSelection.start,s.start.row==n.row&&s.start.column==n.column||(n=s.end);else if(o==-1&&1==a)n=s.end,t=s.start;else{var l=r(this.$clickSelection,n);n=l.cursor,t=l.anchor}i.selection.setSelectionAnchor(t.row,t.column)}i.selection.selectToPosition(n),i.$blockScrolling--,i.renderer.scrollCursorIntoView()},this.selectEnd=this.selectAllEnd=this.selectByWordsEnd=this.selectByLinesEnd=function(){this.$clickSelection=null,this.editor.unsetStyle("ace_selecting"),this.editor.renderer.scroller.releaseCapture&&this.editor.renderer.scroller.releaseCapture()},this.focusWait=function(){var e=s(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y),t=Date.now();(e>o||t-this.mousedownEvent.time>this.$focusTimout)&&this.startSelect(this.mousedownEvent.getDocumentPosition())},this.onDoubleClick=function(e){var t=e.getDocumentPosition(),i=this.editor,n=i.session,s=n.getBracketRange(t);s?(s.isEmpty()&&(s.start.column--,s.end.column++),this.setState("select")):(s=i.selection.getWordRange(t.row,t.column),this.setState("selectByWords")),this.$clickSelection=s,this.select()},this.onTripleClick=function(e){var t=e.getDocumentPosition(),i=this.editor;this.setState("selectByLines");var n=i.getSelectionRange();n.isMultiLine()&&n.contains(t.row,t.column)?(this.$clickSelection=i.selection.getLineRange(n.start.row),this.$clickSelection.end=i.selection.getLineRange(n.end.row).end):this.$clickSelection=i.selection.getLineRange(t.row),this.select()},this.onQuadClick=function(e){var t=this.editor;t.selectAll(),this.$clickSelection=t.getSelectionRange(),this.setState("selectAll")},this.onMouseWheel=function(e){if(!e.getAccelKey()){e.getShiftKey()&&e.wheelY&&!e.wheelX&&(e.wheelX=e.wheelY,e.wheelY=0);var t=e.domEvent.timeStamp,i=t-(this.$lastScrollTime||0),n=this.editor,s=n.renderer.isScrollableBy(e.wheelX*e.speed,e.wheelY*e.speed);return s||i<200?(this.$lastScrollTime=t,n.renderer.scrollBy(e.wheelX*e.speed,e.wheelY*e.speed),e.stop()):void 0}},this.onTouchMove=function(e){var t=e.domEvent.timeStamp,i=t-(this.$lastScrollTime||0),n=this.editor,s=n.renderer.isScrollableBy(e.wheelX*e.speed,e.wheelY*e.speed);if(s||i<200)return this.$lastScrollTime=t,n.renderer.scrollBy(e.wheelX*e.speed,e.wheelY*e.speed),e.stop()}}).call(n.prototype),t.DefaultHandlers=n}),ace.define("ace/tooltip",["require","exports","module","ace/lib/oop","ace/lib/dom"],function(e,t,i){"use strict";function n(e){this.isOpen=!1,this.$element=null,this.$parentNode=e}var s=(e("./lib/oop"),e("./lib/dom"));(function(){this.$init=function(){return this.$element=s.createElement("div"),this.$element.className="ace_tooltip",this.$element.style.display="none",this.$parentNode.appendChild(this.$element),this.$element},this.getElement=function(){return this.$element||this.$init()},this.setText=function(e){s.setInnerText(this.getElement(),e)},this.setHtml=function(e){this.getElement().innerHTML=e},this.setPosition=function(e,t){this.getElement().style.left=e+"px",this.getElement().style.top=t+"px"},this.setClassName=function(e){s.addCssClass(this.getElement(),e)},this.show=function(e,t,i){null!=e&&this.setText(e),null!=t&&null!=i&&this.setPosition(t,i),this.isOpen||(this.getElement().style.display="block",this.isOpen=!0)},this.hide=function(){this.isOpen&&(this.getElement().style.display="none",this.isOpen=!1)},this.getHeight=function(){return this.getElement().offsetHeight},this.getWidth=function(){return this.getElement().offsetWidth}}).call(n.prototype),t.Tooltip=n}),ace.define("ace/mouse/default_gutter_handler",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event","ace/tooltip"],function(e,t,i){"use strict";function n(e){function t(){var t=d.getDocumentPosition().row,s=l.$annotations[t];if(!s)return i();var r=o.session.getLength();if(t==r){var a=o.renderer.pixelToScreenCoordinates(0,d.y).row,u=d.$pos;if(a>o.session.documentToScreenRow(u.row,u.column))return i()}if(h!=s)if(h=s.text.join("<br/>"),c.setHtml(h),c.show(),o.on("mousewheel",i),e.$tooltipFollowsMouse)n(d);else{var p=d.domEvent.target,f=p.getBoundingClientRect(),g=c.getElement().style;g.left=f.right+"px",g.top=f.bottom+"px"}}function i(){u&&(u=clearTimeout(u)),h&&(c.hide(),h=null,o.removeEventListener("mousewheel",i))}function n(e){c.setPosition(e.x,e.y)}var o=e.editor,l=o.renderer.$gutterLayer,c=new s(o.container);e.editor.setDefaultHandler("guttermousedown",function(t){if(o.isFocused()&&0==t.getButton()){var i=l.getRegion(t);if("foldWidgets"!=i){var n=t.getDocumentPosition().row,s=o.session.selection;if(t.getShiftKey())s.selectTo(n,0);else{if(2==t.domEvent.detail)return o.selectAll(),t.preventDefault();e.$clickSelection=o.selection.getLineRange(n)}return e.setState("selectByLines"),e.captureMouse(t),t.preventDefault()}}});var u,d,h;e.editor.setDefaultHandler("guttermousemove",function(s){var o=s.domEvent.target||s.domEvent.srcElement;return r.hasCssClass(o,"ace_fold-widget")?i():(h&&e.$tooltipFollowsMouse&&n(s),d=s,void(u||(u=setTimeout(function(){u=null,d&&!e.isMousePressed?t():i()},50))))}),a.addListener(o.renderer.$gutter,"mouseout",function(e){d=null,h&&!u&&(u=setTimeout(function(){u=null,i()},50))}),o.on("changeSession",i)}function s(e){l.call(this,e)}var r=e("../lib/dom"),o=e("../lib/oop"),a=e("../lib/event"),l=e("../tooltip").Tooltip;o.inherits(s,l),function(){this.setPosition=function(e,t){var i=window.innerWidth||document.documentElement.clientWidth,n=window.innerHeight||document.documentElement.clientHeight,s=this.getWidth(),r=this.getHeight();e+=15,t+=15,e+s>i&&(e-=e+s-i),t+r>n&&(t-=20+r),l.prototype.setPosition.call(this,e,t)}}.call(s.prototype),t.GutterHandler=n}),ace.define("ace/mouse/mouse_event",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(e,t,i){"use strict";var n=e("../lib/event"),s=e("../lib/useragent"),r=t.MouseEvent=function(e,t){this.domEvent=e,this.editor=t,this.x=this.clientX=e.clientX,this.y=this.clientY=e.clientY,this.$pos=null,this.$inSelection=null,this.propagationStopped=!1,this.defaultPrevented=!1};(function(){this.stopPropagation=function(){n.stopPropagation(this.domEvent),this.propagationStopped=!0},this.preventDefault=function(){n.preventDefault(this.domEvent),this.defaultPrevented=!0},this.stop=function(){this.stopPropagation(),this.preventDefault()},this.getDocumentPosition=function(){return this.$pos?this.$pos:(this.$pos=this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY),this.$pos)},this.inSelection=function(){if(null!==this.$inSelection)return this.$inSelection;var e=this.editor,t=e.getSelectionRange();if(t.isEmpty())this.$inSelection=!1;else{var i=this.getDocumentPosition();this.$inSelection=t.contains(i.row,i.column)}return this.$inSelection},this.getButton=function(){return n.getButton(this.domEvent)},this.getShiftKey=function(){return this.domEvent.shiftKey},this.getAccelKey=s.isMac?function(){return this.domEvent.metaKey}:function(){return this.domEvent.ctrlKey}}).call(r.prototype)}),ace.define("ace/mouse/dragdrop_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],function(e,t,i){"use strict";function n(e){function t(e,t){var i=Date.now(),n=!t||e.row!=t.row,r=!t||e.column!=t.column;if(!F||n||r)m.$blockScrolling+=1,m.moveCursorToPosition(e),m.$blockScrolling-=1,F=i,D={x:y,y:A};else{var o=s(D.x,D.y,y,A);o>u?F=null:i-F>=c&&(m.renderer.scrollCursorIntoView(),F=null)}}function i(e,t){var i=Date.now(),n=m.renderer.layerConfig.lineHeight,s=m.renderer.layerConfig.characterWidth,r=m.renderer.scroller.getBoundingClientRect(),o={x:{left:y-r.left,right:r.right-y},y:{top:A-r.top,bottom:r.bottom-A}},a=Math.min(o.x.left,o.x.right),c=Math.min(o.y.top,o.y.bottom),u={row:e.row,column:e.column};a/s<=2&&(u.column+=o.x.left<o.x.right?-3:2),c/n<=1&&(u.row+=o.y.top<o.y.bottom?-1:1);var d=e.row!=u.row,h=e.column!=u.column,p=!t||e.row!=t.row;d||h&&!p?E?i-E>=l&&m.renderer.scrollCursorIntoView(u):E=i:E=null}function n(){var e=x;x=m.renderer.screenToTextCoordinates(y,A),t(x,e),i(x,e)}function d(){C=m.selection.toOrientedRange(),w=m.session.addMarker(C,"ace_selection",m.getSelectionStyle()),m.clearSelection(),m.isFocused()&&m.renderer.$cursorLayer.setBlinking(!1),clearInterval(k),n(),k=setInterval(n,20),q=0,o.addListener(document,"mousemove",p)}function h(){clearInterval(k),m.session.removeMarker(w),w=null,m.$blockScrolling+=1,m.selection.fromOrientedRange(C),m.$blockScrolling-=1,m.isFocused()&&!S&&m.renderer.$cursorLayer.setBlinking(!m.getReadOnly()),C=null,x=null,q=0,E=null,F=null,o.removeListener(document,"mousemove",p)}function p(){null==R&&(R=setTimeout(function(){null!=R&&w&&h()},20))}function f(e){var t=e.types;return!t||Array.prototype.some.call(t,function(e){return"text/plain"==e||"Text"==e})}function g(e){var t=["copy","copymove","all","uninitialized"],i=["move","copymove","linkmove","all","uninitialized"],n=a.isMac?e.altKey:e.ctrlKey,s="uninitialized";try{s=e.dataTransfer.effectAllowed.toLowerCase()}catch(e){}var r="none";return n&&t.indexOf(s)>=0?r="copy":i.indexOf(s)>=0?r="move":t.indexOf(s)>=0&&(r="copy"),r}var m=e.editor,v=r.createElement("img");v.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",a.isOpera&&(v.style.cssText="width:1px;height:1px;position:fixed;top:0;left:0;z-index:2147483647;opacity:0;");var b=["dragWait","dragWaitEnd","startDrag","dragReadyEnd","onMouseDrag"];b.forEach(function(t){e[t]=this[t]},this),m.addEventListener("mousedown",this.onMouseDown.bind(e));var w,y,A,k,C,x,_,S,E,F,D,$=m.container,q=0;this.onDragStart=function(e){if(this.cancelDrag||!$.draggable){var t=this;return setTimeout(function(){t.startSelect(),t.captureMouse(e)},0),e.preventDefault()}C=m.getSelectionRange();var i=e.dataTransfer;i.effectAllowed=m.getReadOnly()?"copy":"copyMove",a.isOpera&&(m.container.appendChild(v),v.scrollTop=0),i.setDragImage&&i.setDragImage(v,0,0),a.isOpera&&m.container.removeChild(v),i.clearData(),i.setData("Text",m.session.getTextRange()),S=!0,this.setState("drag")},this.onDragEnd=function(e){if($.draggable=!1,S=!1,this.setState(null),!m.getReadOnly()){var t=e.dataTransfer.dropEffect;!_&&"move"==t&&m.session.remove(m.getSelectionRange()),m.renderer.$cursorLayer.setBlinking(!0)}this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle("")},this.onDragEnter=function(e){if(!m.getReadOnly()&&f(e.dataTransfer))return y=e.clientX,A=e.clientY,w||d(),q++,e.dataTransfer.dropEffect=_=g(e),o.preventDefault(e)},this.onDragOver=function(e){if(!m.getReadOnly()&&f(e.dataTransfer))return y=e.clientX,A=e.clientY,w||(d(),q++),null!==R&&(R=null),e.dataTransfer.dropEffect=_=g(e),o.preventDefault(e)},this.onDragLeave=function(e){if(q--,q<=0&&w)return h(),_=null,o.preventDefault(e)},this.onDrop=function(e){if(x){var t=e.dataTransfer;if(S)switch(_){case"move":C=C.contains(x.row,x.column)?{start:x,end:x}:m.moveText(C,x);break;case"copy":C=m.moveText(C,x,!0)}else{var i=t.getData("Text");C={start:x,end:m.session.insert(x,i)},m.focus(),_=null}return h(),o.preventDefault(e)}},o.addListener($,"dragstart",this.onDragStart.bind(e)),o.addListener($,"dragend",this.onDragEnd.bind(e)),o.addListener($,"dragenter",this.onDragEnter.bind(e)),o.addListener($,"dragover",this.onDragOver.bind(e)),o.addListener($,"dragleave",this.onDragLeave.bind(e)),o.addListener($,"drop",this.onDrop.bind(e));var R=null}function s(e,t,i,n){return Math.sqrt(Math.pow(i-e,2)+Math.pow(n-t,2))}var r=e("../lib/dom"),o=e("../lib/event"),a=e("../lib/useragent"),l=200,c=200,u=5;(function(){this.dragWait=function(){var e=Date.now()-this.mousedownEvent.time;e>this.editor.getDragDelay()&&this.startDrag()},this.dragWaitEnd=function(){var e=this.editor.container;e.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()),this.selectEnd()},this.dragReadyEnd=function(e){this.editor.renderer.$cursorLayer.setBlinking(!this.editor.getReadOnly()),this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle(""),this.dragWaitEnd()},this.startDrag=function(){this.cancelDrag=!1;var e=this.editor,t=e.container;t.draggable=!0,e.renderer.$cursorLayer.setBlinking(!1),e.setStyle("ace_dragging");var i=a.isWin?"default":"move";e.renderer.setCursorStyle(i),this.setState("dragReady")},this.onMouseDrag=function(e){var t=this.editor.container;if(a.isIE&&"dragReady"==this.state){var i=s(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);i>3&&t.dragDrop()}if("dragWait"===this.state){var i=s(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);i>0&&(t.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()))}},this.onMouseDown=function(e){if(this.$dragEnabled){this.mousedownEvent=e;var t=this.editor,i=e.inSelection(),n=e.getButton(),s=e.domEvent.detail||1;if(1===s&&0===n&&i){if(e.editor.inMultiSelectMode&&(e.getAccelKey()||e.getShiftKey()))return;
this.mousedownEvent.time=Date.now();var r=e.domEvent.target||e.domEvent.srcElement;if("unselectable"in r&&(r.unselectable="on"),t.getDragDelay()){if(a.isWebKit){this.cancelDrag=!0;var o=t.container;o.draggable=!0}this.setState("dragWait")}else this.startDrag();this.captureMouse(e,this.onMouseDrag.bind(this)),e.defaultPrevented=!0}}}}).call(n.prototype),t.DragdropHandler=n}),ace.define("ace/lib/net",["require","exports","module","ace/lib/dom"],function(e,t,i){"use strict";var n=e("./dom");t.get=function(e,t){var i=new XMLHttpRequest;i.open("GET",e,!0),i.onreadystatechange=function(){4===i.readyState&&t(i.responseText)},i.send(null)},t.loadScript=function(e,t){var i=n.getDocumentHead(),s=document.createElement("script");s.src=e,i.appendChild(s),s.onload=s.onreadystatechange=function(e,i){!i&&s.readyState&&"loaded"!=s.readyState&&"complete"!=s.readyState||(s=s.onload=s.onreadystatechange=null,i||t())}},t.qualifyURL=function(e){var t=document.createElement("a");return t.href=e,t.href}}),ace.define("ace/lib/event_emitter",["require","exports","module"],function(e,t,i){"use strict";var n={},s=function(){this.propagationStopped=!0},r=function(){this.defaultPrevented=!0};n._emit=n._dispatchEvent=function(e,t){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var i=this._eventRegistry[e]||[],n=this._defaultHandlers[e];if(i.length||n){"object"==typeof t&&t||(t={}),t.type||(t.type=e),t.stopPropagation||(t.stopPropagation=s),t.preventDefault||(t.preventDefault=r),i=i.slice();for(var o=0;o<i.length&&(i[o](t,this),!t.propagationStopped);o++);return n&&!t.defaultPrevented?n(t,this):void 0}},n._signal=function(e,t){var i=(this._eventRegistry||{})[e];if(i){i=i.slice();for(var n=0;n<i.length;n++)i[n](t,this)}},n.once=function(e,t){var i=this;t&&this.addEventListener(e,function n(){i.removeEventListener(e,n),t.apply(null,arguments)})},n.setDefaultHandler=function(e,t){var i=this._defaultHandlers;if(i||(i=this._defaultHandlers={_disabled_:{}}),i[e]){var n=i[e],s=i._disabled_[e];s||(i._disabled_[e]=s=[]),s.push(n);var r=s.indexOf(t);r!=-1&&s.splice(r,1)}i[e]=t},n.removeDefaultHandler=function(e,t){var i=this._defaultHandlers;if(i){var n=i._disabled_[e];if(i[e]==t){i[e];n&&this.setDefaultHandler(e,n.pop())}else if(n){var s=n.indexOf(t);s!=-1&&n.splice(s,1)}}},n.on=n.addEventListener=function(e,t,i){this._eventRegistry=this._eventRegistry||{};var n=this._eventRegistry[e];return n||(n=this._eventRegistry[e]=[]),n.indexOf(t)==-1&&n[i?"unshift":"push"](t),t},n.off=n.removeListener=n.removeEventListener=function(e,t){this._eventRegistry=this._eventRegistry||{};var i=this._eventRegistry[e];if(i){var n=i.indexOf(t);n!==-1&&i.splice(n,1)}},n.removeAllListeners=function(e){this._eventRegistry&&(this._eventRegistry[e]=[])},t.EventEmitter=n}),ace.define("ace/lib/app_config",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(e,t,i){"no use strict";function n(e){"undefined"!=typeof console&&console.warn&&console.warn.apply(console,arguments)}function s(e,t){var i=new Error(e);i.data=t,"object"==typeof console&&console.error&&console.error(i),setTimeout(function(){throw i})}var r=e("./oop"),o=e("./event_emitter").EventEmitter,a={setOptions:function(e){Object.keys(e).forEach(function(t){this.setOption(t,e[t])},this)},getOptions:function(e){var t={};return e?Array.isArray(e)||(t=e,e=Object.keys(t)):e=Object.keys(this.$options),e.forEach(function(e){t[e]=this.getOption(e)},this),t},setOption:function(e,t){if(this["$"+e]!==t){var i=this.$options[e];return i?i.forwardTo?this[i.forwardTo]&&this[i.forwardTo].setOption(e,t):(i.handlesSet||(this["$"+e]=t),void(i&&i.set&&i.set.call(this,t))):n('misspelled option "'+e+'"')}},getOption:function(e){var t=this.$options[e];return t?t.forwardTo?this[t.forwardTo]&&this[t.forwardTo].getOption(e):t&&t.get?t.get.call(this):this["$"+e]:n('misspelled option "'+e+'"')}},l=function(){this.$defaultOptions={}};(function(){r.implement(this,o),this.defineOptions=function(e,t,i){return e.$options||(this.$defaultOptions[t]=e.$options={}),Object.keys(i).forEach(function(t){var n=i[t];"string"==typeof n&&(n={forwardTo:n}),n.name||(n.name=t),e.$options[n.name]=n,"initialValue"in n&&(e["$"+n.name]=n.initialValue)}),r.implement(e,a),this},this.resetOptions=function(e){Object.keys(e.$options).forEach(function(t){var i=e.$options[t];"value"in i&&e.setOption(t,i.value)})},this.setDefaultValue=function(e,t,i){var n=this.$defaultOptions[e]||(this.$defaultOptions[e]={});n[t]&&(n.forwardTo?this.setDefaultValue(n.forwardTo,t,i):n[t].value=i)},this.setDefaultValues=function(e,t){Object.keys(t).forEach(function(i){this.setDefaultValue(e,i,t[i])},this)},this.warn=n,this.reportError=s}).call(l.prototype),t.AppConfig=l}),ace.define("ace/config",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/lib/net","ace/lib/app_config"],function(e,t,n){"no use strict";function s(s){if(c&&c.document){u.packaged=s||e.packaged||n.packaged||c.define&&i(1914).packaged;for(var o={},a="",l=document.currentScript||document._currentScript,d=l&&l.ownerDocument||document,h=d.getElementsByTagName("script"),p=0;p<h.length;p++){var f=h[p],g=f.src||f.getAttribute("src");if(g){for(var m=f.attributes,v=0,b=m.length;v<b;v++){var w=m[v];0===w.name.indexOf("data-ace-")&&(o[r(w.name.replace(/^data-ace-/,""))]=w.value)}var y=g.match(/^(.*)\/ace(\-\w+)?\.js(\?|$)/);y&&(a=y[1])}}a&&(o.base=o.base||a,o.packaged=!0),o.basePath=o.base,o.workerPath=o.workerPath||o.base,o.modePath=o.modePath||o.base,o.themePath=o.themePath||o.base,delete o.base;for(var A in o)"undefined"!=typeof o[A]&&t.set(A,o[A])}}function r(e){return e.replace(/-(.)/g,function(e,t){return t.toUpperCase()})}var o=e("./lib/lang"),a=(e("./lib/oop"),e("./lib/net")),l=e("./lib/app_config").AppConfig;n.exports=t=new l;var c=function(){return this||"undefined"!=typeof window&&window}(),u={packaged:!1,workerPath:null,modePath:null,themePath:null,basePath:"",suffix:".js",$moduleUrls:{}};t.get=function(e){if(!u.hasOwnProperty(e))throw new Error("Unknown config key: "+e);return u[e]},t.set=function(e,t){if(!u.hasOwnProperty(e))throw new Error("Unknown config key: "+e);u[e]=t},t.all=function(){return o.copyObject(u)},t.moduleUrl=function(e,t){if(u.$moduleUrls[e])return u.$moduleUrls[e];var i=e.split("/");t=t||i[i.length-2]||"";var n="snippets"==t?"/":"-",s=i[i.length-1];if("worker"==t&&"-"==n){var r=new RegExp("^"+t+"[\\-_]|[\\-_]"+t+"$","g");s=s.replace(r,"")}(!s||s==t)&&i.length>1&&(s=i[i.length-2]);var o=u[t+"Path"];return null==o?o=u.basePath:"/"==n&&(t=n=""),o&&"/"!=o.slice(-1)&&(o+="/"),o+t+n+s+this.get("suffix")},t.setModuleUrl=function(e,t){return u.$moduleUrls[e]=t},t.$loading={},t.loadModule=function(i,n){var s,r;Array.isArray(i)&&(r=i[0],i=i[1]);try{s=e(i)}catch(o){}if(s&&!t.$loading[i])return n&&n(s);if(t.$loading[i]||(t.$loading[i]=[]),t.$loading[i].push(n),!(t.$loading[i].length>1)){var l=function(){e([i],function(e){t._emit("load.module",{name:i,module:e});var n=t.$loading[i];t.$loading[i]=null,n.forEach(function(t){t&&t(e)})})};return t.get("packaged")?void a.loadScript(t.moduleUrl(i,r),l):l()}},t.init=s}),ace.define("ace/mouse/mouse_handler",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/mouse/default_handlers","ace/mouse/default_gutter_handler","ace/mouse/mouse_event","ace/mouse/dragdrop_handler","ace/config"],function(e,t,i){"use strict";var n=e("../lib/event"),s=e("../lib/useragent"),r=e("./default_handlers").DefaultHandlers,o=e("./default_gutter_handler").GutterHandler,a=e("./mouse_event").MouseEvent,l=e("./dragdrop_handler").DragdropHandler,c=e("../config"),u=function(e){var t=this;this.editor=e,new r(this),new o(this),new l(this);var i=function(t){var i=!document.hasFocus||!document.hasFocus()||!e.isFocused()&&document.activeElement==(e.textInput&&e.textInput.getElement());i&&window.focus(),e.focus()},a=e.renderer.getMouseEventTarget();n.addListener(a,"click",this.onMouseEvent.bind(this,"click")),n.addListener(a,"mousemove",this.onMouseMove.bind(this,"mousemove")),n.addMultiMouseDownListener([a,e.renderer.scrollBarV&&e.renderer.scrollBarV.inner,e.renderer.scrollBarH&&e.renderer.scrollBarH.inner,e.textInput&&e.textInput.getElement()].filter(Boolean),[400,300,250],this,"onMouseEvent"),n.addMouseWheelListener(e.container,this.onMouseWheel.bind(this,"mousewheel")),n.addTouchMoveListener(e.container,this.onTouchMove.bind(this,"touchmove"));var c=e.renderer.$gutter;n.addListener(c,"mousedown",this.onMouseEvent.bind(this,"guttermousedown")),n.addListener(c,"click",this.onMouseEvent.bind(this,"gutterclick")),n.addListener(c,"dblclick",this.onMouseEvent.bind(this,"gutterdblclick")),n.addListener(c,"mousemove",this.onMouseEvent.bind(this,"guttermousemove")),n.addListener(a,"mousedown",i),n.addListener(c,"mousedown",i),s.isIE&&e.renderer.scrollBarV&&(n.addListener(e.renderer.scrollBarV.element,"mousedown",i),n.addListener(e.renderer.scrollBarH.element,"mousedown",i)),e.on("mousemove",function(i){if(!t.state&&!t.$dragDelay&&t.$dragEnabled){var n=e.renderer.screenToTextCoordinates(i.x,i.y),s=e.session.selection.getRange(),r=e.renderer;!s.isEmpty()&&s.insideStart(n.row,n.column)?r.setCursorStyle("default"):r.setCursorStyle("")}})};(function(){this.onMouseEvent=function(e,t){this.editor._emit(e,new a(t,this.editor))},this.onMouseMove=function(e,t){var i=this.editor._eventRegistry&&this.editor._eventRegistry.mousemove;i&&i.length&&this.editor._emit(e,new a(t,this.editor))},this.onMouseWheel=function(e,t){var i=new a(t,this.editor);i.speed=2*this.$scrollSpeed,i.wheelX=t.wheelX,i.wheelY=t.wheelY,this.editor._emit(e,i)},this.onTouchMove=function(e,t){var i=new a(t,this.editor);i.speed=1,i.wheelX=t.wheelX,i.wheelY=t.wheelY,this.editor._emit(e,i)},this.setState=function(e){this.state=e},this.captureMouse=function(e,t){this.x=e.x,this.y=e.y,this.isMousePressed=!0;var i=this.editor.renderer;i.$keepTextAreaAtCursor&&(i.$keepTextAreaAtCursor=null);var r=this,o=function(e){if(e)return s.isWebKit&&!e.which&&r.releaseMouse?r.releaseMouse():(r.x=e.clientX,r.y=e.clientY,t&&t(e),r.mouseEvent=new a(e,r.editor),r.$mouseMoved=!0,void 0)},l=function(e){clearInterval(u),c(),r[r.state+"End"]&&r[r.state+"End"](e),r.state="",null==i.$keepTextAreaAtCursor&&(i.$keepTextAreaAtCursor=!0,i.$moveTextAreaToCursor()),r.isMousePressed=!1,r.$onCaptureMouseMove=r.releaseMouse=null,e&&r.onMouseEvent("mouseup",e)},c=function(){r[r.state]&&r[r.state](),r.$mouseMoved=!1};if(s.isOldIE&&"dblclick"==e.domEvent.type)return setTimeout(function(){l(e)});r.$onCaptureMouseMove=o,r.releaseMouse=n.capture(this.editor.container,o,l);var u=setInterval(c,20)},this.releaseMouse=null,this.cancelContextMenu=function(){var e=function(t){t&&t.domEvent&&"contextmenu"!=t.domEvent.type||(this.editor.off("nativecontextmenu",e),t&&t.domEvent&&n.stopEvent(t.domEvent))}.bind(this);setTimeout(e,10),this.editor.on("nativecontextmenu",e)}}).call(u.prototype),c.defineOptions(u.prototype,"mouseHandler",{scrollSpeed:{initialValue:2},dragDelay:{initialValue:s.isMac?150:0},dragEnabled:{initialValue:!0},focusTimout:{initialValue:0},tooltipFollowsMouse:{initialValue:!0}}),t.MouseHandler=u}),ace.define("ace/mouse/fold_handler",["require","exports","module"],function(e,t,i){"use strict";function n(e){e.on("click",function(t){var i=t.getDocumentPosition(),n=e.session,s=n.getFoldAt(i.row,i.column,1);s&&(t.getAccelKey()?n.removeFold(s):n.expandFold(s),t.stop())}),e.on("gutterclick",function(t){var i=e.renderer.$gutterLayer.getRegion(t);if("foldWidgets"==i){var n=t.getDocumentPosition().row,s=e.session;s.foldWidgets&&s.foldWidgets[n]&&e.session.onFoldWidgetClick(n,t),e.isFocused()||e.focus(),t.stop()}}),e.on("gutterdblclick",function(t){var i=e.renderer.$gutterLayer.getRegion(t);if("foldWidgets"==i){var n=t.getDocumentPosition().row,s=e.session,r=s.getParentFoldRangeData(n,!0),o=r.range||r.firstRange;if(o){n=o.start.row;var a=s.getFoldAt(n,s.getLine(n).length,1);a?s.removeFold(a):(s.addFold("...",o),e.renderer.scrollCursorIntoView({row:o.start.row,column:0}))}t.stop()}})}t.FoldHandler=n}),ace.define("ace/keyboard/keybinding",["require","exports","module","ace/lib/keys","ace/lib/event"],function(e,t,i){"use strict";var n=e("../lib/keys"),s=e("../lib/event"),r=function(e){this.$editor=e,this.$data={editor:e},this.$handlers=[],this.setDefaultHandler(e.commands)};(function(){this.setDefaultHandler=function(e){this.removeKeyboardHandler(this.$defaultHandler),this.$defaultHandler=e,this.addKeyboardHandler(e,0)},this.setKeyboardHandler=function(e){var t=this.$handlers;if(t[t.length-1]!=e){for(;t[t.length-1]&&t[t.length-1]!=this.$defaultHandler;)this.removeKeyboardHandler(t[t.length-1]);this.addKeyboardHandler(e,1)}},this.addKeyboardHandler=function(e,t){if(e){"function"==typeof e&&!e.handleKeyboard&&(e.handleKeyboard=e);var i=this.$handlers.indexOf(e);i!=-1&&this.$handlers.splice(i,1),void 0==t?this.$handlers.push(e):this.$handlers.splice(t,0,e),i==-1&&e.attach&&e.attach(this.$editor)}},this.removeKeyboardHandler=function(e){var t=this.$handlers.indexOf(e);return t!=-1&&(this.$handlers.splice(t,1),e.detach&&e.detach(this.$editor),!0)},this.getKeyboardHandler=function(){return this.$handlers[this.$handlers.length-1]},this.getStatusText=function(){var e=this.$data,t=e.editor;return this.$handlers.map(function(i){return i.getStatusText&&i.getStatusText(t,e)||""}).filter(Boolean).join(" ")},this.$callKeyboardHandlers=function(e,t,i,n){for(var r,o=!1,a=this.$editor.commands,l=this.$handlers.length;l--&&(r=this.$handlers[l].handleKeyboard(this.$data,e,t,i,n),!(r&&r.command&&(o="null"==r.command||a.exec(r.command,this.$editor,r.args,n),o&&n&&e!=-1&&1!=r.passEvent&&1!=r.command.passEvent&&s.stopEvent(n),o))););return!o&&e==-1&&(r={command:"insertstring"},o=a.exec("insertstring",this.$editor,t)),o&&this.$editor._signal("keyboardActivity",r),o},this.onCommandKey=function(e,t,i){var s=n.keyCodeToString(i);this.$callKeyboardHandlers(t,s,i,e)},this.onTextInput=function(e){this.$callKeyboardHandlers(-1,e)}}).call(r.prototype),t.KeyBinding=r}),ace.define("ace/range",["require","exports","module"],function(e,t,i){"use strict";var n=function(e,t){return e.row-t.row||e.column-t.column},s=function(e,t,i,n){this.start={row:e,column:t},this.end={row:i,column:n}};(function(){this.isEqual=function(e){return this.start.row===e.start.row&&this.end.row===e.end.row&&this.start.column===e.start.column&&this.end.column===e.end.column},this.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},this.contains=function(e,t){return 0==this.compare(e,t)},this.compareRange=function(e){var t,i=e.end,n=e.start;return t=this.compare(i.row,i.column),1==t?(t=this.compare(n.row,n.column),1==t?2:0==t?1:0):t==-1?-2:(t=this.compare(n.row,n.column),t==-1?-1:1==t?42:0)},this.comparePoint=function(e){return this.compare(e.row,e.column)},this.containsRange=function(e){return 0==this.comparePoint(e.start)&&0==this.comparePoint(e.end)},this.intersects=function(e){var t=this.compareRange(e);return t==-1||0==t||1==t},this.isEnd=function(e,t){return this.end.row==e&&this.end.column==t},this.isStart=function(e,t){return this.start.row==e&&this.start.column==t},this.setStart=function(e,t){"object"==typeof e?(this.start.column=e.column,this.start.row=e.row):(this.start.row=e,this.start.column=t)},this.setEnd=function(e,t){"object"==typeof e?(this.end.column=e.column,this.end.row=e.row):(this.end.row=e,this.end.column=t)},this.inside=function(e,t){return 0==this.compare(e,t)&&(!this.isEnd(e,t)&&!this.isStart(e,t))},this.insideStart=function(e,t){return 0==this.compare(e,t)&&!this.isEnd(e,t)},this.insideEnd=function(e,t){return 0==this.compare(e,t)&&!this.isStart(e,t)},this.compare=function(e,t){return this.isMultiLine()||e!==this.start.row?e<this.start.row?-1:e>this.end.row?1:this.start.row===e?t>=this.start.column?0:-1:this.end.row===e?t<=this.end.column?0:1:0:t<this.start.column?-1:t>this.end.column?1:0},this.compareStart=function(e,t){return this.start.row==e&&this.start.column==t?-1:this.compare(e,t)},this.compareEnd=function(e,t){return this.end.row==e&&this.end.column==t?1:this.compare(e,t)},this.compareInside=function(e,t){return this.end.row==e&&this.end.column==t?1:this.start.row==e&&this.start.column==t?-1:this.compare(e,t)},this.clipRows=function(e,t){if(this.end.row>t)var i={row:t+1,column:0};else if(this.end.row<e)var i={row:e,column:0};if(this.start.row>t)var n={row:t+1,column:0};else if(this.start.row<e)var n={row:e,column:0};return s.fromPoints(n||this.start,i||this.end)},this.extend=function(e,t){var i=this.compare(e,t);if(0==i)return this;if(i==-1)var n={row:e,column:t};else var r={row:e,column:t};return s.fromPoints(n||this.start,r||this.end)},this.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},this.isMultiLine=function(){return this.start.row!==this.end.row},this.clone=function(){return s.fromPoints(this.start,this.end)},this.collapseRows=function(){return 0==this.end.column?new s(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new s(this.start.row,0,this.end.row,0)},this.toScreenRange=function(e){var t=e.documentToScreenPosition(this.start),i=e.documentToScreenPosition(this.end);return new s(t.row,t.column,i.row,i.column)},this.moveBy=function(e,t){this.start.row+=e,this.start.column+=t,this.end.row+=e,this.end.column+=t}}).call(s.prototype),s.fromPoints=function(e,t){return new s(e.row,e.column,t.row,t.column)},s.comparePoints=n,s.comparePoints=function(e,t){return e.row-t.row||e.column-t.column},t.Range=s}),ace.define("ace/selection",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/range"],function(e,t,i){"use strict";var n=e("./lib/oop"),s=e("./lib/lang"),r=e("./lib/event_emitter").EventEmitter,o=e("./range").Range,a=function(e){this.session=e,this.doc=e.getDocument(),this.clearSelection(),this.lead=this.selectionLead=this.doc.createAnchor(0,0),this.anchor=this.selectionAnchor=this.doc.createAnchor(0,0);var t=this;this.lead.on("change",function(e){t._emit("changeCursor"),t.$isEmpty||t._emit("changeSelection"),!t.$keepDesiredColumnOnChange&&e.old.column!=e.value.column&&(t.$desiredColumn=null)}),this.selectionAnchor.on("change",function(){t.$isEmpty||t._emit("changeSelection")})};(function(){n.implement(this,r),this.isEmpty=function(){return this.$isEmpty||this.anchor.row==this.lead.row&&this.anchor.column==this.lead.column},this.isMultiLine=function(){return!this.isEmpty()&&this.getRange().isMultiLine()},this.getCursor=function(){return this.lead.getPosition()},this.setSelectionAnchor=function(e,t){this.anchor.setPosition(e,t),this.$isEmpty&&(this.$isEmpty=!1,this._emit("changeSelection"))},this.getSelectionAnchor=function(){return this.$isEmpty?this.getSelectionLead():this.anchor.getPosition()},this.getSelectionLead=function(){return this.lead.getPosition()},this.shiftSelection=function(e){if(this.$isEmpty)return void this.moveCursorTo(this.lead.row,this.lead.column+e);var t=this.getSelectionAnchor(),i=this.getSelectionLead(),n=this.isBackwards();(!n||0!==t.column)&&this.setSelectionAnchor(t.row,t.column+e),(n||0!==i.column)&&this.$moveSelection(function(){this.moveCursorTo(i.row,i.column+e)})},this.isBackwards=function(){var e=this.anchor,t=this.lead;return e.row>t.row||e.row==t.row&&e.column>t.column},this.getRange=function(){var e=this.anchor,t=this.lead;return this.isEmpty()?o.fromPoints(t,t):this.isBackwards()?o.fromPoints(t,e):o.fromPoints(e,t)},this.clearSelection=function(){this.$isEmpty||(this.$isEmpty=!0,this._emit("changeSelection"))},this.selectAll=function(){var e=this.doc.getLength()-1;this.setSelectionAnchor(0,0),this.moveCursorTo(e,this.doc.getLine(e).length)},this.setRange=this.setSelectionRange=function(e,t){t?(this.setSelectionAnchor(e.end.row,e.end.column),this.selectTo(e.start.row,e.start.column)):(this.setSelectionAnchor(e.start.row,e.start.column),this.selectTo(e.end.row,e.end.column)),this.getRange().isEmpty()&&(this.$isEmpty=!0),this.$desiredColumn=null},this.$moveSelection=function(e){var t=this.lead;this.$isEmpty&&this.setSelectionAnchor(t.row,t.column),e.call(this)},this.selectTo=function(e,t){this.$moveSelection(function(){this.moveCursorTo(e,t)})},this.selectToPosition=function(e){this.$moveSelection(function(){this.moveCursorToPosition(e)})},this.moveTo=function(e,t){this.clearSelection(),this.moveCursorTo(e,t)},this.moveToPosition=function(e){this.clearSelection(),this.moveCursorToPosition(e)},this.selectUp=function(){this.$moveSelection(this.moveCursorUp)},this.selectDown=function(){this.$moveSelection(this.moveCursorDown)},this.selectRight=function(){this.$moveSelection(this.moveCursorRight)},this.selectLeft=function(){this.$moveSelection(this.moveCursorLeft)},this.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart)},this.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd)},this.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd)},this.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart)},this.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight)},this.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft)},this.getWordRange=function(e,t){if("undefined"==typeof t){var i=e||this.lead;e=i.row,t=i.column}return this.session.getWordRange(e,t)},this.selectWord=function(){this.setSelectionRange(this.getWordRange())},this.selectAWord=function(){var e=this.getCursor(),t=this.session.getAWordRange(e.row,e.column);this.setSelectionRange(t)},this.getLineRange=function(e,t){var i,n="number"==typeof e?e:this.lead.row,s=this.session.getFoldLine(n);return s?(n=s.start.row,i=s.end.row):i=n,t===!0?new o(n,0,i,this.session.getLine(i).length):new o(n,0,i+1,0)},this.selectLine=function(){this.setSelectionRange(this.getLineRange())},this.moveCursorUp=function(){this.moveCursorBy(-1,0)},this.moveCursorDown=function(){this.moveCursorBy(1,0)},this.moveCursorLeft=function(){var e,t=this.lead.getPosition();if(e=this.session.getFoldAt(t.row,t.column,-1))this.moveCursorTo(e.start.row,e.start.column);else if(0===t.column)t.row>0&&this.moveCursorTo(t.row-1,this.doc.getLine(t.row-1).length);else{var i=this.session.getTabSize();this.session.isTabStop(t)&&this.doc.getLine(t.row).slice(t.column-i,t.column).split(" ").length-1==i?this.moveCursorBy(0,-i):this.moveCursorBy(0,-1)}},this.moveCursorRight=function(){var e,t=this.lead.getPosition();if(e=this.session.getFoldAt(t.row,t.column,1))this.moveCursorTo(e.end.row,e.end.column);else if(this.lead.column==this.doc.getLine(this.lead.row).length)this.lead.row<this.doc.getLength()-1&&this.moveCursorTo(this.lead.row+1,0);else{var i=this.session.getTabSize(),t=this.lead;this.session.isTabStop(t)&&this.doc.getLine(t.row).slice(t.column,t.column+i).split(" ").length-1==i?this.moveCursorBy(0,i):this.moveCursorBy(0,1)}},this.moveCursorLineStart=function(){var e=this.lead.row,t=this.lead.column,i=this.session.documentToScreenRow(e,t),n=this.session.screenToDocumentPosition(i,0),s=this.session.getDisplayLine(e,null,n.row,n.column),r=s.match(/^\s*/);r[0].length!=t&&!this.session.$useEmacsStyleLineStart&&(n.column+=r[0].length),this.moveCursorToPosition(n)},this.moveCursorLineEnd=function(){var e=this.lead,t=this.session.getDocumentLastRowColumnPosition(e.row,e.column);if(this.lead.column==t.column){var i=this.session.getLine(t.row);if(t.column==i.length){var n=i.search(/\s+$/);n>0&&(t.column=n)}}this.moveCursorTo(t.row,t.column)},this.moveCursorFileEnd=function(){var e=this.doc.getLength()-1,t=this.doc.getLine(e).length;this.moveCursorTo(e,t)},this.moveCursorFileStart=function(){this.moveCursorTo(0,0)},this.moveCursorLongWordRight=function(){var e,t=this.lead.row,i=this.lead.column,n=this.doc.getLine(t),s=n.substring(i);this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0;var r=this.session.getFoldAt(t,i,1);return r?void this.moveCursorTo(r.end.row,r.end.column):((e=this.session.nonTokenRe.exec(s))&&(i+=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0,s=n.substring(i)),i>=n.length?(this.moveCursorTo(t,n.length),this.moveCursorRight(),t<this.doc.getLength()-1&&this.moveCursorWordRight(),void 0):((e=this.session.tokenRe.exec(s))&&(i+=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),void this.moveCursorTo(t,i)))},this.moveCursorLongWordLeft=function(){var e,t=this.lead.row,i=this.lead.column;if(e=this.session.getFoldAt(t,i,-1))return void this.moveCursorTo(e.start.row,e.start.column);var n=this.session.getFoldStringAt(t,i,-1);null==n&&(n=this.doc.getLine(t).substring(0,i));var r,o=s.stringReverse(n);return this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,(r=this.session.nonTokenRe.exec(o))&&(i-=this.session.nonTokenRe.lastIndex,o=o.slice(this.session.nonTokenRe.lastIndex),this.session.nonTokenRe.lastIndex=0),i<=0?(this.moveCursorTo(t,0),this.moveCursorLeft(),t>0&&this.moveCursorWordLeft(),void 0):((r=this.session.tokenRe.exec(o))&&(i-=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),void this.moveCursorTo(t,i))},this.$shortWordEndIndex=function(e){var t,i,n=0,s=/\s/,r=this.session.tokenRe;if(r.lastIndex=0,t=this.session.tokenRe.exec(e))n=this.session.tokenRe.lastIndex;else{for(;(i=e[n])&&s.test(i);)n++;if(n<1)for(r.lastIndex=0;(i=e[n])&&!r.test(i);)if(r.lastIndex=0,n++,s.test(i)){if(n>2){n--;break}for(;(i=e[n])&&s.test(i);)n++;if(n>2)break}}return r.lastIndex=0,n},this.moveCursorShortWordRight=function(){var e=this.lead.row,t=this.lead.column,i=this.doc.getLine(e),n=i.substring(t),s=this.session.getFoldAt(e,t,1);if(s)return this.moveCursorTo(s.end.row,s.end.column);if(t==i.length){var r=this.doc.getLength();do e++,n=this.doc.getLine(e);while(e<r&&/^\s*$/.test(n));/^\s+/.test(n)||(n=""),t=0}var o=this.$shortWordEndIndex(n);this.moveCursorTo(e,t+o)},this.moveCursorShortWordLeft=function(){var e,t=this.lead.row,i=this.lead.column;if(e=this.session.getFoldAt(t,i,-1))return this.moveCursorTo(e.start.row,e.start.column);var n=this.session.getLine(t).substring(0,i);if(0===i){do t--,n=this.doc.getLine(t);while(t>0&&/^\s*$/.test(n));i=n.length,/\s+$/.test(n)||(n="")}var r=s.stringReverse(n),o=this.$shortWordEndIndex(r);return this.moveCursorTo(t,i-o)},this.moveCursorWordRight=function(){this.session.$selectLongWords?this.moveCursorLongWordRight():this.moveCursorShortWordRight()},this.moveCursorWordLeft=function(){this.session.$selectLongWords?this.moveCursorLongWordLeft():this.moveCursorShortWordLeft()},this.moveCursorBy=function(e,t){var i=this.session.documentToScreenPosition(this.lead.row,this.lead.column);0===t&&(this.$desiredColumn?i.column=this.$desiredColumn:this.$desiredColumn=i.column);var n=this.session.screenToDocumentPosition(i.row+e,i.column);0!==e&&0===t&&n.row===this.lead.row&&n.column===this.lead.column&&this.session.lineWidgets&&this.session.lineWidgets[n.row]&&(n.row>0||e>0)&&n.row++,this.moveCursorTo(n.row,n.column+t,0===t)},this.moveCursorToPosition=function(e){this.moveCursorTo(e.row,e.column)},this.moveCursorTo=function(e,t,i){var n=this.session.getFoldAt(e,t,1);n&&(e=n.start.row,t=n.start.column),this.$keepDesiredColumnOnChange=!0,this.lead.setPosition(e,t),this.$keepDesiredColumnOnChange=!1,i||(this.$desiredColumn=null)},this.moveCursorToScreen=function(e,t,i){var n=this.session.screenToDocumentPosition(e,t);this.moveCursorTo(n.row,n.column,i)},this.detach=function(){this.lead.detach(),this.anchor.detach(),this.session=this.doc=null},this.fromOrientedRange=function(e){this.setSelectionRange(e,e.cursor==e.start),this.$desiredColumn=e.desiredColumn||this.$desiredColumn},this.toOrientedRange=function(e){var t=this.getRange();return e?(e.start.column=t.start.column,e.start.row=t.start.row,e.end.column=t.end.column,e.end.row=t.end.row):e=t,e.cursor=this.isBackwards()?e.start:e.end,e.desiredColumn=this.$desiredColumn,e},this.getRangeOfMovements=function(e){var t=this.getCursor();try{e(this);var i=this.getCursor();return o.fromPoints(t,i)}catch(n){return o.fromPoints(t,t)}finally{this.moveCursorToPosition(t)}},this.toJSON=function(){if(this.rangeCount)var e=this.ranges.map(function(e){var t=e.clone();return t.isBackwards=e.cursor==e.start,t});else{var e=this.getRange();e.isBackwards=this.isBackwards()}return e},this.fromJSON=function(e){if(void 0==e.start){if(this.rangeList){this.toSingleRange(e[0]);for(var t=e.length;t--;){var i=o.fromPoints(e[t].start,e[t].end);e[t].isBackwards&&(i.cursor=i.start),this.addRange(i,!0)}return}e=e[0]}this.rangeList&&this.toSingleRange(e),this.setSelectionRange(e,e.isBackwards)},this.isEqual=function(e){if((e.length||this.rangeCount)&&e.length!=this.rangeCount)return!1;if(!e.length||!this.ranges)return this.getRange().isEqual(e);for(var t=this.ranges.length;t--;)if(!this.ranges[t].isEqual(e[t]))return!1;return!0}}).call(a.prototype),t.Selection=a}),ace.define("ace/tokenizer",["require","exports","module","ace/config"],function(e,t,i){"use strict";var n=e("./config"),s=2e3,r=function(e){this.states=e,this.regExps={},this.matchMappings={};for(var t in this.states){for(var i=this.states[t],n=[],s=0,r=this.matchMappings[t]={defaultToken:"text"},o="g",a=[],l=0;l<i.length;l++){var c=i[l];if(c.defaultToken&&(r.defaultToken=c.defaultToken),c.caseInsensitive&&(o="gi"),null!=c.regex){c.regex instanceof RegExp&&(c.regex=c.regex.toString().slice(1,-1));var u=c.regex,d=new RegExp("(?:("+u+")|(.))").exec("a").length-2;Array.isArray(c.token)?1==c.token.length||1==d?c.token=c.token[0]:d-1!=c.token.length?(this.reportError("number of classes and regexp groups doesn't match",{rule:c,groupCount:d-1}),c.token=c.token[0]):(c.tokenArray=c.token,c.token=null,c.onMatch=this.$arrayTokens):"function"==typeof c.token&&!c.onMatch&&(d>1?c.onMatch=this.$applyToken:c.onMatch=c.token),d>1&&(/\\\d/.test(c.regex)?u=c.regex.replace(/\\([0-9]+)/g,function(e,t){return"\\"+(parseInt(t,10)+s+1)}):(d=1,u=this.removeCapturingGroups(c.regex)),!c.splitRegex&&"string"!=typeof c.token&&a.push(c)),r[s]=l,s+=d,n.push(u),c.onMatch||(c.onMatch=null)}}n.length||(r[0]=0,n.push("$")),a.forEach(function(e){e.splitRegex=this.createSplitterRegexp(e.regex,o)},this),this.regExps[t]=new RegExp("("+n.join(")|(")+")|($)",o)}};(function(){this.$setMaxTokenCount=function(e){s=0|e},this.$applyToken=function(e){var t=this.splitRegex.exec(e).slice(1),i=this.token.apply(this,t);if("string"==typeof i)return[{type:i,value:e}];for(var n=[],s=0,r=i.length;s<r;s++)t[s]&&(n[n.length]={type:i[s],value:t[s]});return n},this.$arrayTokens=function(e){if(!e)return[];var t=this.splitRegex.exec(e);if(!t)return"text";for(var i=[],n=this.tokenArray,s=0,r=n.length;s<r;s++)t[s+1]&&(i[i.length]={type:n[s],value:t[s+1]});return i},this.removeCapturingGroups=function(e){var t=e.replace(/\[(?:\\.|[^\]])*?\]|\\.|\(\?[:=!]|(\()/g,function(e,t){return t?"(?:":e});return t},this.createSplitterRegexp=function(e,t){if(e.indexOf("(?=")!=-1){var i=0,n=!1,s={};e.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g,function(e,t,r,o,a,l){return n?n="]"!=a:a?n=!0:o?(i==s.stack&&(s.end=l+1,s.stack=-1),i--):r&&(i++,1!=r.length&&(s.stack=i,s.start=l)),e}),null!=s.end&&/^\)*$/.test(e.substr(s.end))&&(e=e.substring(0,s.start)+e.substr(s.end))}return"^"!=e.charAt(0)&&(e="^"+e),"$"!=e.charAt(e.length-1)&&(e+="$"),new RegExp(e,(t||"").replace("g",""))},this.getLineTokens=function(e,t){if(t&&"string"!=typeof t){var i=t.slice(0);t=i[0],"#tmp"===t&&(i.shift(),t=i.shift())}else var i=[];var n=t||"start",r=this.states[n];r||(n="start",r=this.states[n]);var o=this.matchMappings[n],a=this.regExps[n];a.lastIndex=0;for(var l,c=[],u=0,d=0,h={type:null,value:""};l=a.exec(e);){var p=o.defaultToken,f=null,g=l[0],m=a.lastIndex;if(m-g.length>u){var v=e.substring(u,m-g.length);h.type==p?h.value+=v:(h.type&&c.push(h),h={type:p,value:v})}for(var b=0;b<l.length-2;b++)if(void 0!==l[b+1]){f=r[o[b]],p=f.onMatch?f.onMatch(g,n,i):f.token,f.next&&(n="string"==typeof f.next?f.next:f.next(n,i),r=this.states[n],r||(this.reportError("state doesn't exist",n),n="start",r=this.states[n]),o=this.matchMappings[n],
u=m,a=this.regExps[n],a.lastIndex=m);break}if(g)if("string"==typeof p)f&&f.merge===!1||h.type!==p?(h.type&&c.push(h),h={type:p,value:g}):h.value+=g;else if(p){h.type&&c.push(h),h={type:null,value:""};for(var b=0;b<p.length;b++)c.push(p[b])}if(u==e.length)break;if(u=m,d++>s){for(d>2*e.length&&this.reportError("infinite loop with in ace tokenizer",{startState:t,line:e});u<e.length;)h.type&&c.push(h),h={value:e.substring(u,u+=2e3),type:"overflow"};n="start",i=[];break}}return h.type&&c.push(h),i.length>1&&i[0]!==n&&i.unshift("#tmp",n),{tokens:c,state:i.length?i:n}},this.reportError=n.reportError}).call(r.prototype),t.Tokenizer=r}),ace.define("ace/mode/text_highlight_rules",["require","exports","module","ace/lib/lang"],function(e,t,i){"use strict";var n=e("../lib/lang"),s=function(){this.$rules={start:[{token:"empty_line",regex:"^$"},{defaultToken:"text"}]}};(function(){this.addRules=function(e,t){if(t)for(var i in e){for(var n=e[i],s=0;s<n.length;s++){var r=n[s];(r.next||r.onMatch)&&("string"==typeof r.next&&0!==r.next.indexOf(t)&&(r.next=t+r.next),r.nextState&&0!==r.nextState.indexOf(t)&&(r.nextState=t+r.nextState))}this.$rules[t+i]=n}else for(var i in e)this.$rules[i]=e[i]},this.getRules=function(){return this.$rules},this.embedRules=function(e,t,i,s,r){var o="function"==typeof e?(new e).getRules():e;if(s)for(var a=0;a<s.length;a++)s[a]=t+s[a];else{s=[];for(var l in o)s.push(t+l)}if(this.addRules(o,t),i)for(var c=Array.prototype[r?"push":"unshift"],a=0;a<s.length;a++)c.apply(this.$rules[s[a]],n.deepCopy(i));this.$embeds||(this.$embeds=[]),this.$embeds.push(t)},this.getEmbeds=function(){return this.$embeds};var e=function(e,t){return("start"!=e||t.length)&&t.unshift(this.nextState,e),this.nextState},t=function(e,t){return t.shift(),t.shift()||"start"};this.normalizeRules=function(){function i(r){var o=s[r];o.processed=!0;for(var a=0;a<o.length;a++){var l=o[a];!l.regex&&l.start&&(l.regex=l.start,l.next||(l.next=[]),l.next.push({defaultToken:l.token},{token:l.token+".end",regex:l.end||l.start,next:"pop"}),l.token=l.token+".start",l.push=!0);var c=l.next||l.push;if(c&&Array.isArray(c)){var u=l.stateName;u||(u=l.token,"string"!=typeof u&&(u=u[0]||""),s[u]&&(u+=n++)),s[u]=c,l.next=u,i(u)}else"pop"==c&&(l.next=t);if(l.push&&(l.nextState=l.next||l.push,l.next=e,delete l.push),l.rules)for(var d in l.rules)s[d]?s[d].push&&s[d].push.apply(s[d],l.rules[d]):s[d]=l.rules[d];if(l.include||"string"==typeof l)var h=l.include||l,p=s[h];else Array.isArray(l)&&(p=l);if(p){var f=[a,1].concat(p);l.noEscape&&(f=f.filter(function(e){return!e.next})),o.splice.apply(o,f),a--,p=null}l.keywordMap&&(l.token=this.createKeywordMapper(l.keywordMap,l.defaultToken||"text",l.caseInsensitive),delete l.defaultToken)}}var n=0,s=this.$rules;Object.keys(s).forEach(i,this)},this.createKeywordMapper=function(e,t,i,n){var s=Object.create(null);return Object.keys(e).forEach(function(t){var r=e[t];i&&(r=r.toLowerCase());for(var o=r.split(n||"|"),a=o.length;a--;)s[o[a]]=t}),Object.getPrototypeOf(s)&&(s.__proto__=null),this.$keywordList=Object.keys(s),e=null,i?function(e){return s[e.toLowerCase()]||t}:function(e){return s[e]||t}},this.getKeywords=function(){return this.$keywords}}).call(s.prototype),t.TextHighlightRules=s}),ace.define("ace/mode/behaviour",["require","exports","module"],function(e,t,i){"use strict";var n=function(){this.$behaviours={}};(function(){this.add=function(e,t,i){switch(void 0){case this.$behaviours:this.$behaviours={};case this.$behaviours[e]:this.$behaviours[e]={}}this.$behaviours[e][t]=i},this.addBehaviours=function(e){for(var t in e)for(var i in e[t])this.add(t,i,e[t][i])},this.remove=function(e){this.$behaviours&&this.$behaviours[e]&&delete this.$behaviours[e]},this.inherit=function(e,t){if("function"==typeof e)var i=(new e).getBehaviours(t);else var i=e.getBehaviours(t);this.addBehaviours(i)},this.getBehaviours=function(e){if(!e)return this.$behaviours;for(var t={},i=0;i<e.length;i++)this.$behaviours[e[i]]&&(t[e[i]]=this.$behaviours[e[i]]);return t}}).call(n.prototype),t.Behaviour=n}),ace.define("ace/unicode",["require","exports","module"],function(e,t,i){"use strict";function n(e){var i=/\w{4}/g;for(var n in e)t.packages[n]=e[n].replace(i,"\\u$&")}t.packages={},n({L:"0041-005A0061-007A00AA00B500BA00C0-00D600D8-00F600F8-02C102C6-02D102E0-02E402EC02EE0370-037403760377037A-037D03860388-038A038C038E-03A103A3-03F503F7-0481048A-05250531-055605590561-058705D0-05EA05F0-05F20621-064A066E066F0671-06D306D506E506E606EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA07F407F507FA0800-0815081A082408280904-0939093D09500958-0961097109720979-097F0985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10D05-0D0C0D0E-0D100D12-0D280D2A-0D390D3D0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E460E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EC60EDC0EDD0F000F40-0F470F49-0F6C0F88-0F8B1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10A0-10C510D0-10FA10FC1100-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA1700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317D717DC1820-18771880-18A818AA18B0-18F51900-191C1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541AA71B05-1B331B45-1B4B1B83-1BA01BAE1BAF1C00-1C231C4D-1C4F1C5A-1C7D1CE9-1CEC1CEE-1CF11D00-1DBF1E00-1F151F18-1F1D1F20-1F451F48-1F4D1F50-1F571F591F5B1F5D1F5F-1F7D1F80-1FB41FB6-1FBC1FBE1FC2-1FC41FC6-1FCC1FD0-1FD31FD6-1FDB1FE0-1FEC1FF2-1FF41FF6-1FFC2071207F2090-209421022107210A-211321152119-211D212421262128212A-212D212F-2139213C-213F2145-2149214E218321842C00-2C2E2C30-2C5E2C60-2CE42CEB-2CEE2D00-2D252D30-2D652D6F2D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE2E2F300530063031-3035303B303C3041-3096309D-309F30A1-30FA30FC-30FF3105-312D3131-318E31A0-31B731F0-31FF3400-4DB54E00-9FCBA000-A48CA4D0-A4FDA500-A60CA610-A61FA62AA62BA640-A65FA662-A66EA67F-A697A6A0-A6E5A717-A71FA722-A788A78BA78CA7FB-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2A9CFAA00-AA28AA40-AA42AA44-AA4BAA60-AA76AA7AAA80-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADB-AADDABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA2DFA30-FA6DFA70-FAD9FB00-FB06FB13-FB17FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF21-FF3AFF41-FF5AFF66-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC",Ll:"0061-007A00AA00B500BA00DF-00F600F8-00FF01010103010501070109010B010D010F01110113011501170119011B011D011F01210123012501270129012B012D012F01310133013501370138013A013C013E014001420144014601480149014B014D014F01510153015501570159015B015D015F01610163016501670169016B016D016F0171017301750177017A017C017E-0180018301850188018C018D019201950199-019B019E01A101A301A501A801AA01AB01AD01B001B401B601B901BA01BD-01BF01C601C901CC01CE01D001D201D401D601D801DA01DC01DD01DF01E101E301E501E701E901EB01ED01EF01F001F301F501F901FB01FD01FF02010203020502070209020B020D020F02110213021502170219021B021D021F02210223022502270229022B022D022F02310233-0239023C023F0240024202470249024B024D024F-02930295-02AF037103730377037B-037D039003AC-03CE03D003D103D5-03D703D903DB03DD03DF03E103E303E503E703E903EB03ED03EF-03F303F503F803FB03FC0430-045F04610463046504670469046B046D046F04710473047504770479047B047D047F0481048B048D048F04910493049504970499049B049D049F04A104A304A504A704A904AB04AD04AF04B104B304B504B704B904BB04BD04BF04C204C404C604C804CA04CC04CE04CF04D104D304D504D704D904DB04DD04DF04E104E304E504E704E904EB04ED04EF04F104F304F504F704F904FB04FD04FF05010503050505070509050B050D050F05110513051505170519051B051D051F0521052305250561-05871D00-1D2B1D62-1D771D79-1D9A1E011E031E051E071E091E0B1E0D1E0F1E111E131E151E171E191E1B1E1D1E1F1E211E231E251E271E291E2B1E2D1E2F1E311E331E351E371E391E3B1E3D1E3F1E411E431E451E471E491E4B1E4D1E4F1E511E531E551E571E591E5B1E5D1E5F1E611E631E651E671E691E6B1E6D1E6F1E711E731E751E771E791E7B1E7D1E7F1E811E831E851E871E891E8B1E8D1E8F1E911E931E95-1E9D1E9F1EA11EA31EA51EA71EA91EAB1EAD1EAF1EB11EB31EB51EB71EB91EBB1EBD1EBF1EC11EC31EC51EC71EC91ECB1ECD1ECF1ED11ED31ED51ED71ED91EDB1EDD1EDF1EE11EE31EE51EE71EE91EEB1EED1EEF1EF11EF31EF51EF71EF91EFB1EFD1EFF-1F071F10-1F151F20-1F271F30-1F371F40-1F451F50-1F571F60-1F671F70-1F7D1F80-1F871F90-1F971FA0-1FA71FB0-1FB41FB61FB71FBE1FC2-1FC41FC61FC71FD0-1FD31FD61FD71FE0-1FE71FF2-1FF41FF61FF7210A210E210F2113212F21342139213C213D2146-2149214E21842C30-2C5E2C612C652C662C682C6A2C6C2C712C732C742C76-2C7C2C812C832C852C872C892C8B2C8D2C8F2C912C932C952C972C992C9B2C9D2C9F2CA12CA32CA52CA72CA92CAB2CAD2CAF2CB12CB32CB52CB72CB92CBB2CBD2CBF2CC12CC32CC52CC72CC92CCB2CCD2CCF2CD12CD32CD52CD72CD92CDB2CDD2CDF2CE12CE32CE42CEC2CEE2D00-2D25A641A643A645A647A649A64BA64DA64FA651A653A655A657A659A65BA65DA65FA663A665A667A669A66BA66DA681A683A685A687A689A68BA68DA68FA691A693A695A697A723A725A727A729A72BA72DA72F-A731A733A735A737A739A73BA73DA73FA741A743A745A747A749A74BA74DA74FA751A753A755A757A759A75BA75DA75FA761A763A765A767A769A76BA76DA76FA771-A778A77AA77CA77FA781A783A785A787A78CFB00-FB06FB13-FB17FF41-FF5A",Lu:"0041-005A00C0-00D600D8-00DE01000102010401060108010A010C010E01100112011401160118011A011C011E01200122012401260128012A012C012E01300132013401360139013B013D013F0141014301450147014A014C014E01500152015401560158015A015C015E01600162016401660168016A016C016E017001720174017601780179017B017D018101820184018601870189-018B018E-0191019301940196-0198019C019D019F01A001A201A401A601A701A901AC01AE01AF01B1-01B301B501B701B801BC01C401C701CA01CD01CF01D101D301D501D701D901DB01DE01E001E201E401E601E801EA01EC01EE01F101F401F6-01F801FA01FC01FE02000202020402060208020A020C020E02100212021402160218021A021C021E02200222022402260228022A022C022E02300232023A023B023D023E02410243-02460248024A024C024E03700372037603860388-038A038C038E038F0391-03A103A3-03AB03CF03D2-03D403D803DA03DC03DE03E003E203E403E603E803EA03EC03EE03F403F703F903FA03FD-042F04600462046404660468046A046C046E04700472047404760478047A047C047E0480048A048C048E04900492049404960498049A049C049E04A004A204A404A604A804AA04AC04AE04B004B204B404B604B804BA04BC04BE04C004C104C304C504C704C904CB04CD04D004D204D404D604D804DA04DC04DE04E004E204E404E604E804EA04EC04EE04F004F204F404F604F804FA04FC04FE05000502050405060508050A050C050E05100512051405160518051A051C051E0520052205240531-055610A0-10C51E001E021E041E061E081E0A1E0C1E0E1E101E121E141E161E181E1A1E1C1E1E1E201E221E241E261E281E2A1E2C1E2E1E301E321E341E361E381E3A1E3C1E3E1E401E421E441E461E481E4A1E4C1E4E1E501E521E541E561E581E5A1E5C1E5E1E601E621E641E661E681E6A1E6C1E6E1E701E721E741E761E781E7A1E7C1E7E1E801E821E841E861E881E8A1E8C1E8E1E901E921E941E9E1EA01EA21EA41EA61EA81EAA1EAC1EAE1EB01EB21EB41EB61EB81EBA1EBC1EBE1EC01EC21EC41EC61EC81ECA1ECC1ECE1ED01ED21ED41ED61ED81EDA1EDC1EDE1EE01EE21EE41EE61EE81EEA1EEC1EEE1EF01EF21EF41EF61EF81EFA1EFC1EFE1F08-1F0F1F18-1F1D1F28-1F2F1F38-1F3F1F48-1F4D1F591F5B1F5D1F5F1F68-1F6F1FB8-1FBB1FC8-1FCB1FD8-1FDB1FE8-1FEC1FF8-1FFB21022107210B-210D2110-211221152119-211D212421262128212A-212D2130-2133213E213F214521832C00-2C2E2C602C62-2C642C672C692C6B2C6D-2C702C722C752C7E-2C802C822C842C862C882C8A2C8C2C8E2C902C922C942C962C982C9A2C9C2C9E2CA02CA22CA42CA62CA82CAA2CAC2CAE2CB02CB22CB42CB62CB82CBA2CBC2CBE2CC02CC22CC42CC62CC82CCA2CCC2CCE2CD02CD22CD42CD62CD82CDA2CDC2CDE2CE02CE22CEB2CEDA640A642A644A646A648A64AA64CA64EA650A652A654A656A658A65AA65CA65EA662A664A666A668A66AA66CA680A682A684A686A688A68AA68CA68EA690A692A694A696A722A724A726A728A72AA72CA72EA732A734A736A738A73AA73CA73EA740A742A744A746A748A74AA74CA74EA750A752A754A756A758A75AA75CA75EA760A762A764A766A768A76AA76CA76EA779A77BA77DA77EA780A782A784A786A78BFF21-FF3A",Lt:"01C501C801CB01F21F88-1F8F1F98-1F9F1FA8-1FAF1FBC1FCC1FFC",Lm:"02B0-02C102C6-02D102E0-02E402EC02EE0374037A0559064006E506E607F407F507FA081A0824082809710E460EC610FC17D718431AA71C78-1C7D1D2C-1D611D781D9B-1DBF2071207F2090-20942C7D2D6F2E2F30053031-3035303B309D309E30FC-30FEA015A4F8-A4FDA60CA67FA717-A71FA770A788A9CFAA70AADDFF70FF9EFF9F",Lo:"01BB01C0-01C3029405D0-05EA05F0-05F20621-063F0641-064A066E066F0671-06D306D506EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA0800-08150904-0939093D09500958-096109720979-097F0985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10D05-0D0C0D0E-0D100D12-0D280D2A-0D390D3D0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E450E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EDC0EDD0F000F40-0F470F49-0F6C0F88-0F8B1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10D0-10FA1100-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA1700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317DC1820-18421844-18771880-18A818AA18B0-18F51900-191C1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541B05-1B331B45-1B4B1B83-1BA01BAE1BAF1C00-1C231C4D-1C4F1C5A-1C771CE9-1CEC1CEE-1CF12135-21382D30-2D652D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE3006303C3041-3096309F30A1-30FA30FF3105-312D3131-318E31A0-31B731F0-31FF3400-4DB54E00-9FCBA000-A014A016-A48CA4D0-A4F7A500-A60BA610-A61FA62AA62BA66EA6A0-A6E5A7FB-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2AA00-AA28AA40-AA42AA44-AA4BAA60-AA6FAA71-AA76AA7AAA80-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADBAADCABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA2DFA30-FA6DFA70-FAD9FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF66-FF6FFF71-FF9DFFA0-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC",M:"0300-036F0483-04890591-05BD05BF05C105C205C405C505C70610-061A064B-065E067006D6-06DC06DE-06E406E706E806EA-06ED07110730-074A07A6-07B007EB-07F30816-0819081B-08230825-08270829-082D0900-0903093C093E-094E0951-0955096209630981-098309BC09BE-09C409C709C809CB-09CD09D709E209E30A01-0A030A3C0A3E-0A420A470A480A4B-0A4D0A510A700A710A750A81-0A830ABC0ABE-0AC50AC7-0AC90ACB-0ACD0AE20AE30B01-0B030B3C0B3E-0B440B470B480B4B-0B4D0B560B570B620B630B820BBE-0BC20BC6-0BC80BCA-0BCD0BD70C01-0C030C3E-0C440C46-0C480C4A-0C4D0C550C560C620C630C820C830CBC0CBE-0CC40CC6-0CC80CCA-0CCD0CD50CD60CE20CE30D020D030D3E-0D440D46-0D480D4A-0D4D0D570D620D630D820D830DCA0DCF-0DD40DD60DD8-0DDF0DF20DF30E310E34-0E3A0E47-0E4E0EB10EB4-0EB90EBB0EBC0EC8-0ECD0F180F190F350F370F390F3E0F3F0F71-0F840F860F870F90-0F970F99-0FBC0FC6102B-103E1056-1059105E-10601062-10641067-106D1071-10741082-108D108F109A-109D135F1712-17141732-1734175217531772177317B6-17D317DD180B-180D18A91920-192B1930-193B19B0-19C019C819C91A17-1A1B1A55-1A5E1A60-1A7C1A7F1B00-1B041B34-1B441B6B-1B731B80-1B821BA1-1BAA1C24-1C371CD0-1CD21CD4-1CE81CED1CF21DC0-1DE61DFD-1DFF20D0-20F02CEF-2CF12DE0-2DFF302A-302F3099309AA66F-A672A67CA67DA6F0A6F1A802A806A80BA823-A827A880A881A8B4-A8C4A8E0-A8F1A926-A92DA947-A953A980-A983A9B3-A9C0AA29-AA36AA43AA4CAA4DAA7BAAB0AAB2-AAB4AAB7AAB8AABEAABFAAC1ABE3-ABEAABECABEDFB1EFE00-FE0FFE20-FE26",Mn:"0300-036F0483-04870591-05BD05BF05C105C205C405C505C70610-061A064B-065E067006D6-06DC06DF-06E406E706E806EA-06ED07110730-074A07A6-07B007EB-07F30816-0819081B-08230825-08270829-082D0900-0902093C0941-0948094D0951-095509620963098109BC09C1-09C409CD09E209E30A010A020A3C0A410A420A470A480A4B-0A4D0A510A700A710A750A810A820ABC0AC1-0AC50AC70AC80ACD0AE20AE30B010B3C0B3F0B41-0B440B4D0B560B620B630B820BC00BCD0C3E-0C400C46-0C480C4A-0C4D0C550C560C620C630CBC0CBF0CC60CCC0CCD0CE20CE30D41-0D440D4D0D620D630DCA0DD2-0DD40DD60E310E34-0E3A0E47-0E4E0EB10EB4-0EB90EBB0EBC0EC8-0ECD0F180F190F350F370F390F71-0F7E0F80-0F840F860F870F90-0F970F99-0FBC0FC6102D-10301032-10371039103A103D103E10581059105E-10601071-1074108210851086108D109D135F1712-17141732-1734175217531772177317B7-17BD17C617C9-17D317DD180B-180D18A91920-19221927192819321939-193B1A171A181A561A58-1A5E1A601A621A65-1A6C1A73-1A7C1A7F1B00-1B031B341B36-1B3A1B3C1B421B6B-1B731B801B811BA2-1BA51BA81BA91C2C-1C331C361C371CD0-1CD21CD4-1CE01CE2-1CE81CED1DC0-1DE61DFD-1DFF20D0-20DC20E120E5-20F02CEF-2CF12DE0-2DFF302A-302F3099309AA66FA67CA67DA6F0A6F1A802A806A80BA825A826A8C4A8E0-A8F1A926-A92DA947-A951A980-A982A9B3A9B6-A9B9A9BCAA29-AA2EAA31AA32AA35AA36AA43AA4CAAB0AAB2-AAB4AAB7AAB8AABEAABFAAC1ABE5ABE8ABEDFB1EFE00-FE0FFE20-FE26",Mc:"0903093E-09400949-094C094E0982098309BE-09C009C709C809CB09CC09D70A030A3E-0A400A830ABE-0AC00AC90ACB0ACC0B020B030B3E0B400B470B480B4B0B4C0B570BBE0BBF0BC10BC20BC6-0BC80BCA-0BCC0BD70C01-0C030C41-0C440C820C830CBE0CC0-0CC40CC70CC80CCA0CCB0CD50CD60D020D030D3E-0D400D46-0D480D4A-0D4C0D570D820D830DCF-0DD10DD8-0DDF0DF20DF30F3E0F3F0F7F102B102C10311038103B103C105610571062-10641067-106D108310841087-108C108F109A-109C17B617BE-17C517C717C81923-19261929-192B193019311933-193819B0-19C019C819C91A19-1A1B1A551A571A611A631A641A6D-1A721B041B351B3B1B3D-1B411B431B441B821BA11BA61BA71BAA1C24-1C2B1C341C351CE11CF2A823A824A827A880A881A8B4-A8C3A952A953A983A9B4A9B5A9BAA9BBA9BD-A9C0AA2FAA30AA33AA34AA4DAA7BABE3ABE4ABE6ABE7ABE9ABEAABEC",Me:"0488048906DE20DD-20E020E2-20E4A670-A672",N:"0030-003900B200B300B900BC-00BE0660-066906F0-06F907C0-07C90966-096F09E6-09EF09F4-09F90A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BF20C66-0C6F0C78-0C7E0CE6-0CEF0D66-0D750E50-0E590ED0-0ED90F20-0F331040-10491090-10991369-137C16EE-16F017E0-17E917F0-17F91810-18191946-194F19D0-19DA1A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C5920702074-20792080-20892150-21822185-21892460-249B24EA-24FF2776-27932CFD30073021-30293038-303A3192-31953220-32293251-325F3280-328932B1-32BFA620-A629A6E6-A6EFA830-A835A8D0-A8D9A900-A909A9D0-A9D9AA50-AA59ABF0-ABF9FF10-FF19",Nd:"0030-00390660-066906F0-06F907C0-07C90966-096F09E6-09EF0A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BEF0C66-0C6F0CE6-0CEF0D66-0D6F0E50-0E590ED0-0ED90F20-0F291040-10491090-109917E0-17E91810-18191946-194F19D0-19DA1A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C59A620-A629A8D0-A8D9A900-A909A9D0-A9D9AA50-AA59ABF0-ABF9FF10-FF19",Nl:"16EE-16F02160-21822185-218830073021-30293038-303AA6E6-A6EF",No:"00B200B300B900BC-00BE09F4-09F90BF0-0BF20C78-0C7E0D70-0D750F2A-0F331369-137C17F0-17F920702074-20792080-20892150-215F21892460-249B24EA-24FF2776-27932CFD3192-31953220-32293251-325F3280-328932B1-32BFA830-A835",P:"0021-00230025-002A002C-002F003A003B003F0040005B-005D005F007B007D00A100AB00B700BB00BF037E0387055A-055F0589058A05BE05C005C305C605F305F40609060A060C060D061B061E061F066A-066D06D40700-070D07F7-07F90830-083E0964096509700DF40E4F0E5A0E5B0F04-0F120F3A-0F3D0F850FD0-0FD4104A-104F10FB1361-13681400166D166E169B169C16EB-16ED1735173617D4-17D617D8-17DA1800-180A1944194519DE19DF1A1E1A1F1AA0-1AA61AA8-1AAD1B5A-1B601C3B-1C3F1C7E1C7F1CD32010-20272030-20432045-20512053-205E207D207E208D208E2329232A2768-277527C527C627E6-27EF2983-299829D8-29DB29FC29FD2CF9-2CFC2CFE2CFF2E00-2E2E2E302E313001-30033008-30113014-301F3030303D30A030FBA4FEA4FFA60D-A60FA673A67EA6F2-A6F7A874-A877A8CEA8CFA8F8-A8FAA92EA92FA95FA9C1-A9CDA9DEA9DFAA5C-AA5FAADEAADFABEBFD3EFD3FFE10-FE19FE30-FE52FE54-FE61FE63FE68FE6AFE6BFF01-FF03FF05-FF0AFF0C-FF0FFF1AFF1BFF1FFF20FF3B-FF3DFF3FFF5BFF5DFF5F-FF65",Pd:"002D058A05BE140018062010-20152E172E1A301C303030A0FE31FE32FE58FE63FF0D",Ps:"0028005B007B0F3A0F3C169B201A201E2045207D208D23292768276A276C276E27702772277427C527E627E827EA27EC27EE2983298529872989298B298D298F299129932995299729D829DA29FC2E222E242E262E283008300A300C300E3010301430163018301A301DFD3EFE17FE35FE37FE39FE3BFE3DFE3FFE41FE43FE47FE59FE5BFE5DFF08FF3BFF5BFF5FFF62",Pe:"0029005D007D0F3B0F3D169C2046207E208E232A2769276B276D276F27712773277527C627E727E927EB27ED27EF298429862988298A298C298E2990299229942996299829D929DB29FD2E232E252E272E293009300B300D300F3011301530173019301B301E301FFD3FFE18FE36FE38FE3AFE3CFE3EFE40FE42FE44FE48FE5AFE5CFE5EFF09FF3DFF5DFF60FF63",Pi:"00AB2018201B201C201F20392E022E042E092E0C2E1C2E20",Pf:"00BB2019201D203A2E032E052E0A2E0D2E1D2E21",Pc:"005F203F20402054FE33FE34FE4D-FE4FFF3F",Po:"0021-00230025-0027002A002C002E002F003A003B003F0040005C00A100B700BF037E0387055A-055F058905C005C305C605F305F40609060A060C060D061B061E061F066A-066D06D40700-070D07F7-07F90830-083E0964096509700DF40E4F0E5A0E5B0F04-0F120F850FD0-0FD4104A-104F10FB1361-1368166D166E16EB-16ED1735173617D4-17D617D8-17DA1800-18051807-180A1944194519DE19DF1A1E1A1F1AA0-1AA61AA8-1AAD1B5A-1B601C3B-1C3F1C7E1C7F1CD3201620172020-20272030-2038203B-203E2041-20432047-205120532055-205E2CF9-2CFC2CFE2CFF2E002E012E06-2E082E0B2E0E-2E162E182E192E1B2E1E2E1F2E2A-2E2E2E302E313001-3003303D30FBA4FEA4FFA60D-A60FA673A67EA6F2-A6F7A874-A877A8CEA8CFA8F8-A8FAA92EA92FA95FA9C1-A9CDA9DEA9DFAA5C-AA5FAADEAADFABEBFE10-FE16FE19FE30FE45FE46FE49-FE4CFE50-FE52FE54-FE57FE5F-FE61FE68FE6AFE6BFF01-FF03FF05-FF07FF0AFF0CFF0EFF0FFF1AFF1BFF1FFF20FF3CFF61FF64FF65",S:"0024002B003C-003E005E0060007C007E00A2-00A900AC00AE-00B100B400B600B800D700F702C2-02C502D2-02DF02E5-02EB02ED02EF-02FF03750384038503F604820606-0608060B060E060F06E906FD06FE07F609F209F309FA09FB0AF10B700BF3-0BFA0C7F0CF10CF20D790E3F0F01-0F030F13-0F170F1A-0F1F0F340F360F380FBE-0FC50FC7-0FCC0FCE0FCF0FD5-0FD8109E109F13601390-139917DB194019E0-19FF1B61-1B6A1B74-1B7C1FBD1FBF-1FC11FCD-1FCF1FDD-1FDF1FED-1FEF1FFD1FFE20442052207A-207C208A-208C20A0-20B8210021012103-21062108210921142116-2118211E-2123212521272129212E213A213B2140-2144214A-214D214F2190-2328232B-23E82400-24262440-244A249C-24E92500-26CD26CF-26E126E326E8-26FF2701-27042706-2709270C-27272729-274B274D274F-27522756-275E2761-276727942798-27AF27B1-27BE27C0-27C427C7-27CA27CC27D0-27E527F0-29822999-29D729DC-29FB29FE-2B4C2B50-2B592CE5-2CEA2E80-2E992E9B-2EF32F00-2FD52FF0-2FFB300430123013302030363037303E303F309B309C319031913196-319F31C0-31E33200-321E322A-32503260-327F328A-32B032C0-32FE3300-33FF4DC0-4DFFA490-A4C6A700-A716A720A721A789A78AA828-A82BA836-A839AA77-AA79FB29FDFCFDFDFE62FE64-FE66FE69FF04FF0BFF1C-FF1EFF3EFF40FF5CFF5EFFE0-FFE6FFE8-FFEEFFFCFFFD",Sm:"002B003C-003E007C007E00AC00B100D700F703F60606-060820442052207A-207C208A-208C2140-2144214B2190-2194219A219B21A021A321A621AE21CE21CF21D221D421F4-22FF2308-230B23202321237C239B-23B323DC-23E125B725C125F8-25FF266F27C0-27C427C7-27CA27CC27D0-27E527F0-27FF2900-29822999-29D729DC-29FB29FE-2AFF2B30-2B442B47-2B4CFB29FE62FE64-FE66FF0BFF1C-FF1EFF5CFF5EFFE2FFE9-FFEC",Sc:"002400A2-00A5060B09F209F309FB0AF10BF90E3F17DB20A0-20B8A838FDFCFE69FF04FFE0FFE1FFE5FFE6",Sk:"005E006000A800AF00B400B802C2-02C502D2-02DF02E5-02EB02ED02EF-02FF0375038403851FBD1FBF-1FC11FCD-1FCF1FDD-1FDF1FED-1FEF1FFD1FFE309B309CA700-A716A720A721A789A78AFF3EFF40FFE3",So:"00A600A700A900AE00B000B60482060E060F06E906FD06FE07F609FA0B700BF3-0BF80BFA0C7F0CF10CF20D790F01-0F030F13-0F170F1A-0F1F0F340F360F380FBE-0FC50FC7-0FCC0FCE0FCF0FD5-0FD8109E109F13601390-1399194019E0-19FF1B61-1B6A1B74-1B7C210021012103-21062108210921142116-2118211E-2123212521272129212E213A213B214A214C214D214F2195-2199219C-219F21A121A221A421A521A7-21AD21AF-21CD21D021D121D321D5-21F32300-2307230C-231F2322-2328232B-237B237D-239A23B4-23DB23E2-23E82400-24262440-244A249C-24E92500-25B625B8-25C025C2-25F72600-266E2670-26CD26CF-26E126E326E8-26FF2701-27042706-2709270C-27272729-274B274D274F-27522756-275E2761-276727942798-27AF27B1-27BE2800-28FF2B00-2B2F2B452B462B50-2B592CE5-2CEA2E80-2E992E9B-2EF32F00-2FD52FF0-2FFB300430123013302030363037303E303F319031913196-319F31C0-31E33200-321E322A-32503260-327F328A-32B032C0-32FE3300-33FF4DC0-4DFFA490-A4C6A828-A82BA836A837A839AA77-AA79FDFDFFE4FFE8FFEDFFEEFFFCFFFD",Z:"002000A01680180E2000-200A20282029202F205F3000",Zs:"002000A01680180E2000-200A202F205F3000",Zl:"2028",Zp:"2029",C:"0000-001F007F-009F00AD03780379037F-0383038B038D03A20526-05300557055805600588058B-059005C8-05CF05EB-05EF05F5-0605061C061D0620065F06DD070E070F074B074C07B2-07BF07FB-07FF082E082F083F-08FF093A093B094F095609570973-097809800984098D098E0991099209A909B109B3-09B509BA09BB09C509C609C909CA09CF-09D609D8-09DB09DE09E409E509FC-0A000A040A0B-0A0E0A110A120A290A310A340A370A3A0A3B0A3D0A43-0A460A490A4A0A4E-0A500A52-0A580A5D0A5F-0A650A76-0A800A840A8E0A920AA90AB10AB40ABA0ABB0AC60ACA0ACE0ACF0AD1-0ADF0AE40AE50AF00AF2-0B000B040B0D0B0E0B110B120B290B310B340B3A0B3B0B450B460B490B4A0B4E-0B550B58-0B5B0B5E0B640B650B72-0B810B840B8B-0B8D0B910B96-0B980B9B0B9D0BA0-0BA20BA5-0BA70BAB-0BAD0BBA-0BBD0BC3-0BC50BC90BCE0BCF0BD1-0BD60BD8-0BE50BFB-0C000C040C0D0C110C290C340C3A-0C3C0C450C490C4E-0C540C570C5A-0C5F0C640C650C70-0C770C800C810C840C8D0C910CA90CB40CBA0CBB0CC50CC90CCE-0CD40CD7-0CDD0CDF0CE40CE50CF00CF3-0D010D040D0D0D110D290D3A-0D3C0D450D490D4E-0D560D58-0D5F0D640D650D76-0D780D800D810D840D97-0D990DB20DBC0DBE0DBF0DC7-0DC90DCB-0DCE0DD50DD70DE0-0DF10DF5-0E000E3B-0E3E0E5C-0E800E830E850E860E890E8B0E8C0E8E-0E930E980EA00EA40EA60EA80EA90EAC0EBA0EBE0EBF0EC50EC70ECE0ECF0EDA0EDB0EDE-0EFF0F480F6D-0F700F8C-0F8F0F980FBD0FCD0FD9-0FFF10C6-10CF10FD-10FF1249124E124F12571259125E125F1289128E128F12B112B612B712BF12C112C612C712D7131113161317135B-135E137D-137F139A-139F13F5-13FF169D-169F16F1-16FF170D1715-171F1737-173F1754-175F176D17711774-177F17B417B517DE17DF17EA-17EF17FA-17FF180F181A-181F1878-187F18AB-18AF18F6-18FF191D-191F192C-192F193C-193F1941-1943196E196F1975-197F19AC-19AF19CA-19CF19DB-19DD1A1C1A1D1A5F1A7D1A7E1A8A-1A8F1A9A-1A9F1AAE-1AFF1B4C-1B4F1B7D-1B7F1BAB-1BAD1BBA-1BFF1C38-1C3A1C4A-1C4C1C80-1CCF1CF3-1CFF1DE7-1DFC1F161F171F1E1F1F1F461F471F4E1F4F1F581F5A1F5C1F5E1F7E1F7F1FB51FC51FD41FD51FDC1FF01FF11FF51FFF200B-200F202A-202E2060-206F20722073208F2095-209F20B9-20CF20F1-20FF218A-218F23E9-23FF2427-243F244B-245F26CE26E226E4-26E727002705270A270B2728274C274E2753-2755275F27602795-279727B027BF27CB27CD-27CF2B4D-2B4F2B5A-2BFF2C2F2C5F2CF2-2CF82D26-2D2F2D66-2D6E2D70-2D7F2D97-2D9F2DA72DAF2DB72DBF2DC72DCF2DD72DDF2E32-2E7F2E9A2EF4-2EFF2FD6-2FEF2FFC-2FFF3040309730983100-3104312E-3130318F31B8-31BF31E4-31EF321F32FF4DB6-4DBF9FCC-9FFFA48D-A48FA4C7-A4CFA62C-A63FA660A661A674-A67BA698-A69FA6F8-A6FFA78D-A7FAA82C-A82FA83A-A83FA878-A87FA8C5-A8CDA8DA-A8DFA8FC-A8FFA954-A95EA97D-A97FA9CEA9DA-A9DDA9E0-A9FFAA37-AA3FAA4EAA4FAA5AAA5BAA7C-AA7FAAC3-AADAAAE0-ABBFABEEABEFABFA-ABFFD7A4-D7AFD7C7-D7CAD7FC-F8FFFA2EFA2FFA6EFA6FFADA-FAFFFB07-FB12FB18-FB1CFB37FB3DFB3FFB42FB45FBB2-FBD2FD40-FD4FFD90FD91FDC8-FDEFFDFEFDFFFE1A-FE1FFE27-FE2FFE53FE67FE6C-FE6FFE75FEFD-FF00FFBF-FFC1FFC8FFC9FFD0FFD1FFD8FFD9FFDD-FFDFFFE7FFEF-FFFBFFFEFFFF",Cc:"0000-001F007F-009F",Cf:"00AD0600-060306DD070F17B417B5200B-200F202A-202E2060-2064206A-206FFEFFFFF9-FFFB",Co:"E000-F8FF",Cs:"D800-DFFF",Cn:"03780379037F-0383038B038D03A20526-05300557055805600588058B-059005C8-05CF05EB-05EF05F5-05FF06040605061C061D0620065F070E074B074C07B2-07BF07FB-07FF082E082F083F-08FF093A093B094F095609570973-097809800984098D098E0991099209A909B109B3-09B509BA09BB09C509C609C909CA09CF-09D609D8-09DB09DE09E409E509FC-0A000A040A0B-0A0E0A110A120A290A310A340A370A3A0A3B0A3D0A43-0A460A490A4A0A4E-0A500A52-0A580A5D0A5F-0A650A76-0A800A840A8E0A920AA90AB10AB40ABA0ABB0AC60ACA0ACE0ACF0AD1-0ADF0AE40AE50AF00AF2-0B000B040B0D0B0E0B110B120B290B310B340B3A0B3B0B450B460B490B4A0B4E-0B550B58-0B5B0B5E0B640B650B72-0B810B840B8B-0B8D0B910B96-0B980B9B0B9D0BA0-0BA20BA5-0BA70BAB-0BAD0BBA-0BBD0BC3-0BC50BC90BCE0BCF0BD1-0BD60BD8-0BE50BFB-0C000C040C0D0C110C290C340C3A-0C3C0C450C490C4E-0C540C570C5A-0C5F0C640C650C70-0C770C800C810C840C8D0C910CA90CB40CBA0CBB0CC50CC90CCE-0CD40CD7-0CDD0CDF0CE40CE50CF00CF3-0D010D040D0D0D110D290D3A-0D3C0D450D490D4E-0D560D58-0D5F0D640D650D76-0D780D800D810D840D97-0D990DB20DBC0DBE0DBF0DC7-0DC90DCB-0DCE0DD50DD70DE0-0DF10DF5-0E000E3B-0E3E0E5C-0E800E830E850E860E890E8B0E8C0E8E-0E930E980EA00EA40EA60EA80EA90EAC0EBA0EBE0EBF0EC50EC70ECE0ECF0EDA0EDB0EDE-0EFF0F480F6D-0F700F8C-0F8F0F980FBD0FCD0FD9-0FFF10C6-10CF10FD-10FF1249124E124F12571259125E125F1289128E128F12B112B612B712BF12C112C612C712D7131113161317135B-135E137D-137F139A-139F13F5-13FF169D-169F16F1-16FF170D1715-171F1737-173F1754-175F176D17711774-177F17DE17DF17EA-17EF17FA-17FF180F181A-181F1878-187F18AB-18AF18F6-18FF191D-191F192C-192F193C-193F1941-1943196E196F1975-197F19AC-19AF19CA-19CF19DB-19DD1A1C1A1D1A5F1A7D1A7E1A8A-1A8F1A9A-1A9F1AAE-1AFF1B4C-1B4F1B7D-1B7F1BAB-1BAD1BBA-1BFF1C38-1C3A1C4A-1C4C1C80-1CCF1CF3-1CFF1DE7-1DFC1F161F171F1E1F1F1F461F471F4E1F4F1F581F5A1F5C1F5E1F7E1F7F1FB51FC51FD41FD51FDC1FF01FF11FF51FFF2065-206920722073208F2095-209F20B9-20CF20F1-20FF218A-218F23E9-23FF2427-243F244B-245F26CE26E226E4-26E727002705270A270B2728274C274E2753-2755275F27602795-279727B027BF27CB27CD-27CF2B4D-2B4F2B5A-2BFF2C2F2C5F2CF2-2CF82D26-2D2F2D66-2D6E2D70-2D7F2D97-2D9F2DA72DAF2DB72DBF2DC72DCF2DD72DDF2E32-2E7F2E9A2EF4-2EFF2FD6-2FEF2FFC-2FFF3040309730983100-3104312E-3130318F31B8-31BF31E4-31EF321F32FF4DB6-4DBF9FCC-9FFFA48D-A48FA4C7-A4CFA62C-A63FA660A661A674-A67BA698-A69FA6F8-A6FFA78D-A7FAA82C-A82FA83A-A83FA878-A87FA8C5-A8CDA8DA-A8DFA8FC-A8FFA954-A95EA97D-A97FA9CEA9DA-A9DDA9E0-A9FFAA37-AA3FAA4EAA4FAA5AAA5BAA7C-AA7FAAC3-AADAAAE0-ABBFABEEABEFABFA-ABFFD7A4-D7AFD7C7-D7CAD7FC-D7FFFA2EFA2FFA6EFA6FFADA-FAFFFB07-FB12FB18-FB1CFB37FB3DFB3FFB42FB45FBB2-FBD2FD40-FD4FFD90FD91FDC8-FDEFFDFEFDFFFE1A-FE1FFE27-FE2FFE53FE67FE6C-FE6FFE75FEFDFEFEFF00FFBF-FFC1FFC8FFC9FFD0FFD1FFD8FFD9FFDD-FFDFFFE7FFEF-FFF8FFFEFFFF"})}),ace.define("ace/token_iterator",["require","exports","module"],function(e,t,i){"use strict";var n=function(e,t,i){this.$session=e,this.$row=t,this.$rowTokens=e.getTokens(t);var n=e.getTokenAt(t,i);this.$tokenIndex=n?n.index:-1};(function(){this.stepBackward=function(){for(this.$tokenIndex-=1;this.$tokenIndex<0;){if(this.$row-=1,this.$row<0)return this.$row=0,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=this.$rowTokens.length-1}return this.$rowTokens[this.$tokenIndex]},this.stepForward=function(){this.$tokenIndex+=1;for(var e;this.$tokenIndex>=this.$rowTokens.length;){if(this.$row+=1,e||(e=this.$session.getLength()),this.$row>=e)return this.$row=e-1,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=0}return this.$rowTokens[this.$tokenIndex]},this.getCurrentToken=function(){return this.$rowTokens[this.$tokenIndex]},this.getCurrentTokenRow=function(){return this.$row},this.getCurrentTokenColumn=function(){var e=this.$rowTokens,t=this.$tokenIndex,i=e[t].start;if(void 0!==i)return i;for(i=0;t>0;)t-=1,i+=e[t].value.length;return i},this.getCurrentTokenPosition=function(){return{row:this.$row,column:this.getCurrentTokenColumn()}}}).call(n.prototype),t.TokenIterator=n}),ace.define("ace/mode/text",["require","exports","module","ace/tokenizer","ace/mode/text_highlight_rules","ace/mode/behaviour","ace/unicode","ace/lib/lang","ace/token_iterator","ace/range"],function(e,t,i){"use strict";var n=e("../tokenizer").Tokenizer,s=e("./text_highlight_rules").TextHighlightRules,r=e("./behaviour").Behaviour,o=e("../unicode"),a=e("../lib/lang"),l=e("../token_iterator").TokenIterator,c=e("../range").Range,u=function(){this.HighlightRules=s,this.$behaviour=new r};(function(){this.tokenRe=new RegExp("^["+o.packages.L+o.packages.Mn+o.packages.Mc+o.packages.Nd+o.packages.Pc+"\\$_]+","g"),this.nonTokenRe=new RegExp("^(?:[^"+o.packages.L+o.packages.Mn+o.packages.Mc+o.packages.Nd+o.packages.Pc+"\\$_]|\\s])+","g"),this.getTokenizer=function(){return this.$tokenizer||(this.$highlightRules=this.$highlightRules||new this.HighlightRules,this.$tokenizer=new n(this.$highlightRules.getRules())),this.$tokenizer},this.lineCommentStart="",this.blockComment="",this.toggleCommentLines=function(e,t,i,n){function s(e){for(var t=i;t<=n;t++)e(r.getLine(t),t)}var r=t.doc,o=!0,l=!0,c=1/0,u=t.getTabSize(),d=!1;
if(this.lineCommentStart){if(Array.isArray(this.lineCommentStart))var h=this.lineCommentStart.map(a.escapeRegExp).join("|"),p=this.lineCommentStart[0];else var h=a.escapeRegExp(this.lineCommentStart),p=this.lineCommentStart;h=new RegExp("^(\\s*)(?:"+h+") ?"),d=t.getUseSoftTabs();var f=function(e,t){var i=e.match(h);if(i){var n=i[1].length,s=i[0].length;!b(e,n,s)&&" "==i[0][s-1]&&s--,r.removeInLine(t,n,s)}},g=p+" ",m=function(e,t){o&&!/\S/.test(e)||(b(e,c,c)?r.insertInLine({row:t,column:c},g):r.insertInLine({row:t,column:c},p))},v=function(e,t){return h.test(e)},b=function(e,t,i){for(var n=0;t--&&" "==e.charAt(t);)n++;if(n%u!=0)return!1;for(var n=0;" "==e.charAt(i++);)n++;return u>2?n%u!=u-1:n%u==0}}else{if(!this.blockComment)return!1;var p=this.blockComment.start,w=this.blockComment.end,h=new RegExp("^(\\s*)(?:"+a.escapeRegExp(p)+")"),y=new RegExp("(?:"+a.escapeRegExp(w)+")\\s*$"),m=function(e,t){v(e,t)||o&&!/\S/.test(e)||(r.insertInLine({row:t,column:e.length},w),r.insertInLine({row:t,column:c},p))},f=function(e,t){var i;(i=e.match(y))&&r.removeInLine(t,e.length-i[0].length,e.length),(i=e.match(h))&&r.removeInLine(t,i[1].length,i[0].length)},v=function(e,i){if(h.test(e))return!0;for(var n=t.getTokens(i),s=0;s<n.length;s++)if("comment"===n[s].type)return!0}}var A=1/0;s(function(e,t){var i=e.search(/\S/);i!==-1?(i<c&&(c=i),l&&!v(e,t)&&(l=!1)):A>e.length&&(A=e.length)}),c==1/0&&(c=A,o=!1,l=!1),d&&c%u!=0&&(c=Math.floor(c/u)*u),s(l?f:m)},this.toggleBlockComment=function(e,t,i,n){var s=this.blockComment;if(s){!s.start&&s[0]&&(s=s[0]);var r,o,a=new l(t,n.row,n.column),u=a.getCurrentToken(),d=(t.selection,t.selection.toOrientedRange());if(u&&/comment/.test(u.type)){for(var h,p;u&&/comment/.test(u.type);){var f=u.value.indexOf(s.start);if(f!=-1){var g=a.getCurrentTokenRow(),m=a.getCurrentTokenColumn()+f;h=new c(g,m,g,m+s.start.length);break}u=a.stepBackward()}for(var a=new l(t,n.row,n.column),u=a.getCurrentToken();u&&/comment/.test(u.type);){var f=u.value.indexOf(s.end);if(f!=-1){var g=a.getCurrentTokenRow(),m=a.getCurrentTokenColumn()+f;p=new c(g,m,g,m+s.end.length);break}u=a.stepForward()}p&&t.remove(p),h&&(t.remove(h),r=h.start.row,o=-s.start.length)}else o=s.start.length,r=i.start.row,t.insert(i.end,s.end),t.insert(i.start,s.start);d.start.row==r&&(d.start.column+=o),d.end.row==r&&(d.end.column+=o),t.selection.fromOrientedRange(d)}},this.getNextLineIndent=function(e,t,i){return this.$getIndent(t)},this.checkOutdent=function(e,t,i){return!1},this.autoOutdent=function(e,t,i){},this.$getIndent=function(e){return e.match(/^\s*/)[0]},this.createWorker=function(e){return null},this.createModeDelegates=function(e){this.$embeds=[],this.$modes={};for(var t in e)e[t]&&(this.$embeds.push(t),this.$modes[t]=new e[t]);for(var i=["toggleBlockComment","toggleCommentLines","getNextLineIndent","checkOutdent","autoOutdent","transformAction","getCompletions"],t=0;t<i.length;t++)(function(e){var n=i[t],s=e[n];e[i[t]]=function(){return this.$delegator(n,arguments,s)}})(this)},this.$delegator=function(e,t,i){var n=t[0];"string"!=typeof n&&(n=n[0]);for(var s=0;s<this.$embeds.length;s++)if(this.$modes[this.$embeds[s]]){var r=n.split(this.$embeds[s]);if(!r[0]&&r[1]){t[0]=r[1];var o=this.$modes[this.$embeds[s]];return o[e].apply(o,t)}}var a=i.apply(this,t);return i?a:void 0},this.transformAction=function(e,t,i,n,s){if(this.$behaviour){var r=this.$behaviour.getBehaviours();for(var o in r)if(r[o][t]){var a=r[o][t].apply(this,arguments);if(a)return a}}},this.getKeywords=function(e){if(!this.completionKeywords){var t=this.$tokenizer.rules,i=[];for(var n in t)for(var s=t[n],r=0,o=s.length;r<o;r++)if("string"==typeof s[r].token)/keyword|support|storage/.test(s[r].token)&&i.push(s[r].regex);else if("object"==typeof s[r].token)for(var a=0,l=s[r].token.length;a<l;a++)if(/keyword|support|storage/.test(s[r].token[a])){var n=s[r].regex.match(/\(.+?\)/g)[a];i.push(n.substr(1,n.length-2))}this.completionKeywords=i}return e?i.concat(this.$keywordList||[]):this.$keywordList},this.$createKeywordList=function(){return this.$highlightRules||this.getTokenizer(),this.$keywordList=this.$highlightRules.$keywordList||[]},this.getCompletions=function(e,t,i,n){var s=this.$keywordList||this.$createKeywordList();return s.map(function(e){return{name:e,value:e,score:0,meta:"keyword"}})},this.$id="ace/mode/text"}).call(u.prototype),t.Mode=u}),ace.define("ace/apply_delta",["require","exports","module"],function(e,t,i){"use strict";function n(e,t){throw console.log("Invalid Delta:",e),"Invalid Delta: "+t}function s(e,t){return t.row>=0&&t.row<e.length&&t.column>=0&&t.column<=e[t.row].length}t.applyDelta=function(e,t,i){var n=t.start.row,s=t.start.column,r=e[n]||"";switch(t.action){case"insert":var o=t.lines;if(1===o.length)e[n]=r.substring(0,s)+t.lines[0]+r.substring(s);else{var a=[n,1].concat(t.lines);e.splice.apply(e,a),e[n]=r.substring(0,s)+e[n],e[n+t.lines.length-1]+=r.substring(s)}break;case"remove":var l=t.end.column,c=t.end.row;n===c?e[n]=r.substring(0,s)+r.substring(l):e.splice(n,c-n+1,r.substring(0,s)+e[c].substring(l))}}}),ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(e,t,i){"use strict";var n=e("./lib/oop"),s=e("./lib/event_emitter").EventEmitter,r=t.Anchor=function(e,t,i){this.$onChange=this.onChange.bind(this),this.attach(e),"undefined"==typeof i?this.setPosition(t.row,t.column):this.setPosition(t,i)};(function(){function e(e,t,i){var n=i?e.column<=t.column:e.column<t.column;return e.row<t.row||e.row==t.row&&n}function t(t,i,n){var s="insert"==t.action,r=(s?1:-1)*(t.end.row-t.start.row),o=(s?1:-1)*(t.end.column-t.start.column),a=t.start,l=s?a:t.end;return e(i,a,n)?{row:i.row,column:i.column}:e(l,i,!n)?{row:i.row+r,column:i.column+(i.row==l.row?o:0)}:{row:a.row,column:a.column}}n.implement(this,s),this.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},this.getDocument=function(){return this.document},this.$insertRight=!1,this.onChange=function(e){if(!(e.start.row==e.end.row&&e.start.row!=this.row||e.start.row>this.row)){var i=t(e,{row:this.row,column:this.column},this.$insertRight);this.setPosition(i.row,i.column,!0)}},this.setPosition=function(e,t,i){var n;if(n=i?{row:e,column:t}:this.$clipPositionToDocument(e,t),this.row!=n.row||this.column!=n.column){var s={row:this.row,column:this.column};this.row=n.row,this.column=n.column,this._signal("change",{old:s,value:n})}},this.detach=function(){this.document.removeEventListener("change",this.$onChange)},this.attach=function(e){this.document=e||this.document,this.document.on("change",this.$onChange)},this.$clipPositionToDocument=function(e,t){var i={};return e>=this.document.getLength()?(i.row=Math.max(0,this.document.getLength()-1),i.column=this.document.getLine(i.row).length):e<0?(i.row=0,i.column=0):(i.row=e,i.column=Math.min(this.document.getLine(i.row).length,Math.max(0,t))),t<0&&(i.column=0),i}}).call(r.prototype)}),ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],function(e,t,i){"use strict";var n=e("./lib/oop"),s=e("./apply_delta").applyDelta,r=e("./lib/event_emitter").EventEmitter,o=e("./range").Range,a=e("./anchor").Anchor,l=function(e){this.$lines=[""],0===e.length?this.$lines=[""]:Array.isArray(e)?this.insertMergedLines({row:0,column:0},e):this.insert({row:0,column:0},e)};(function(){n.implement(this,r),this.setValue=function(e){var t=this.getLength()-1;this.remove(new o(0,0,t,this.getLine(t).length)),this.insert({row:0,column:0},e)},this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},this.createAnchor=function(e,t){return new a(this,e,t)},0==="aaa".split(/a/).length?this.$split=function(e){return e.replace(/\r\n|\r/g,"\n").split("\n")}:this.$split=function(e){return e.split(/\r\n|\r|\n/)},this.$detectNewLine=function(e){var t=e.match(/^.*?(\r\n|\r|\n)/m);this.$autoNewLine=t?t[1]:"\n",this._signal("changeNewLineMode")},this.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return"\r\n";case"unix":return"\n";default:return this.$autoNewLine||"\n"}},this.$autoNewLine="",this.$newLineMode="auto",this.setNewLineMode=function(e){this.$newLineMode!==e&&(this.$newLineMode=e,this._signal("changeNewLineMode"))},this.getNewLineMode=function(){return this.$newLineMode},this.isNewLine=function(e){return"\r\n"==e||"\r"==e||"\n"==e},this.getLine=function(e){return this.$lines[e]||""},this.getLines=function(e,t){return this.$lines.slice(e,t+1)},this.getAllLines=function(){return this.getLines(0,this.getLength())},this.getLength=function(){return this.$lines.length},this.getTextRange=function(e){return this.getLinesForRange(e).join(this.getNewLineCharacter())},this.getLinesForRange=function(e){var t;if(e.start.row===e.end.row)t=[this.getLine(e.start.row).substring(e.start.column,e.end.column)];else{t=this.getLines(e.start.row,e.end.row),t[0]=(t[0]||"").substring(e.start.column);var i=t.length-1;e.end.row-e.start.row==i&&(t[i]=t[i].substring(0,e.end.column))}return t},this.insertLines=function(e,t){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(e,t)},this.removeLines=function(e,t){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(e,t)},this.insertNewLine=function(e){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead."),this.insertMergedLines(e,["",""])},this.insert=function(e,t){return this.getLength()<=1&&this.$detectNewLine(t),this.insertMergedLines(e,this.$split(t))},this.insertInLine=function(e,t){var i=this.clippedPos(e.row,e.column),n=this.pos(e.row,e.column+t.length);return this.applyDelta({start:i,end:n,action:"insert",lines:[t]},!0),this.clonePos(n)},this.clippedPos=function(e,t){var i=this.getLength();void 0===e?e=i:e<0?e=0:e>=i&&(e=i-1,t=void 0);var n=this.getLine(e);return void 0==t&&(t=n.length),t=Math.min(Math.max(t,0),n.length),{row:e,column:t}},this.clonePos=function(e){return{row:e.row,column:e.column}},this.pos=function(e,t){return{row:e,column:t}},this.$clipPosition=function(e){var t=this.getLength();return e.row>=t?(e.row=Math.max(0,t-1),e.column=this.getLine(t-1).length):(e.row=Math.max(0,e.row),e.column=Math.min(Math.max(e.column,0),this.getLine(e.row).length)),e},this.insertFullLines=function(e,t){e=Math.min(Math.max(e,0),this.getLength());var i=0;e<this.getLength()?(t=t.concat([""]),i=0):(t=[""].concat(t),e--,i=this.$lines[e].length),this.insertMergedLines({row:e,column:i},t)},this.insertMergedLines=function(e,t){var i=this.clippedPos(e.row,e.column),n={row:i.row+t.length-1,column:(1==t.length?i.column:0)+t[t.length-1].length};return this.applyDelta({start:i,end:n,action:"insert",lines:t}),this.clonePos(n)},this.remove=function(e){var t=this.clippedPos(e.start.row,e.start.column),i=this.clippedPos(e.end.row,e.end.column);return this.applyDelta({start:t,end:i,action:"remove",lines:this.getLinesForRange({start:t,end:i})}),this.clonePos(t)},this.removeInLine=function(e,t,i){var n=this.clippedPos(e,t),s=this.clippedPos(e,i);return this.applyDelta({start:n,end:s,action:"remove",lines:this.getLinesForRange({start:n,end:s})},!0),this.clonePos(n)},this.removeFullLines=function(e,t){e=Math.min(Math.max(0,e),this.getLength()-1),t=Math.min(Math.max(0,t),this.getLength()-1);var i=t==this.getLength()-1&&e>0,n=t<this.getLength()-1,s=i?e-1:e,r=i?this.getLine(s).length:0,a=n?t+1:t,l=n?0:this.getLine(a).length,c=new o(s,r,a,l),u=this.$lines.slice(e,t+1);return this.applyDelta({start:c.start,end:c.end,action:"remove",lines:this.getLinesForRange(c)}),u},this.removeNewLine=function(e){e<this.getLength()-1&&e>=0&&this.applyDelta({start:this.pos(e,this.getLine(e).length),end:this.pos(e+1,0),action:"remove",lines:["",""]})},this.replace=function(e,t){if(e instanceof o||(e=o.fromPoints(e.start,e.end)),0===t.length&&e.isEmpty())return e.start;if(t==this.getTextRange(e))return e.end;this.remove(e);var i;return i=t?this.insert(e.start,t):e.start},this.applyDeltas=function(e){for(var t=0;t<e.length;t++)this.applyDelta(e[t])},this.revertDeltas=function(e){for(var t=e.length-1;t>=0;t--)this.revertDelta(e[t])},this.applyDelta=function(e,t){var i="insert"==e.action;(i?e.lines.length<=1&&!e.lines[0]:!o.comparePoints(e.start,e.end))||(i&&e.lines.length>2e4&&this.$splitAndapplyLargeDelta(e,2e4),s(this.$lines,e,t),this._signal("change",e))},this.$splitAndapplyLargeDelta=function(e,t){for(var i=e.lines,n=i.length,s=e.start.row,r=e.start.column,o=0,a=0;;){o=a,a+=t-1;var l=i.slice(o,a);if(a>n){e.lines=l,e.start.row=s+o,e.start.column=r;break}l.push(""),this.applyDelta({start:this.pos(s+o,r),end:this.pos(s+a,r=0),action:e.action,lines:l},!0)}},this.revertDelta=function(e){this.applyDelta({start:this.clonePos(e.start),end:this.clonePos(e.end),action:"insert"==e.action?"remove":"insert",lines:e.lines.slice()})},this.indexToPosition=function(e,t){for(var i=this.$lines||this.getAllLines(),n=this.getNewLineCharacter().length,s=t||0,r=i.length;s<r;s++)if(e-=i[s].length+n,e<0)return{row:s,column:e+i[s].length+n};return{row:r-1,column:i[r-1].length}},this.positionToIndex=function(e,t){for(var i=this.$lines||this.getAllLines(),n=this.getNewLineCharacter().length,s=0,r=Math.min(e.row,i.length),o=t||0;o<r;++o)s+=i[o].length+n;return s+e.column}}).call(l.prototype),t.Document=l}),ace.define("ace/background_tokenizer",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(e,t,i){"use strict";var n=e("./lib/oop"),s=e("./lib/event_emitter").EventEmitter,r=function(e,t){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.tokenizer=e;var i=this;this.$worker=function(){if(i.running){for(var e=new Date,t=i.currentLine,n=-1,s=i.doc,r=t;i.lines[t];)t++;var o=s.getLength(),a=0;for(i.running=!1;t<o;){i.$tokenizeRow(t),n=t;do t++;while(i.lines[t]);if(a++,a%5===0&&new Date-e>20){i.running=setTimeout(i.$worker,20);break}}i.currentLine=t,r<=n&&i.fireUpdateEvent(r,n)}}};(function(){n.implement(this,s),this.setTokenizer=function(e){this.tokenizer=e,this.lines=[],this.states=[],this.start(0)},this.setDocument=function(e){this.doc=e,this.lines=[],this.states=[],this.stop()},this.fireUpdateEvent=function(e,t){var i={first:e,last:t};this._signal("update",{data:i})},this.start=function(e){this.currentLine=Math.min(e||0,this.currentLine,this.doc.getLength()),this.lines.splice(this.currentLine,this.lines.length),this.states.splice(this.currentLine,this.states.length),this.stop(),this.running=setTimeout(this.$worker,700)},this.scheduleStart=function(){this.running||(this.running=setTimeout(this.$worker,700))},this.$updateOnChange=function(e){var t=e.start.row,i=e.end.row-t;if(0===i)this.lines[t]=null;else if("remove"==e.action)this.lines.splice(t,i+1,null),this.states.splice(t,i+1,null);else{var n=Array(i+1);n.unshift(t,1),this.lines.splice.apply(this.lines,n),this.states.splice.apply(this.states,n)}this.currentLine=Math.min(t,this.currentLine,this.doc.getLength()),this.stop()},this.stop=function(){this.running&&clearTimeout(this.running),this.running=!1},this.getTokens=function(e){return this.lines[e]||this.$tokenizeRow(e)},this.getState=function(e){return this.currentLine==e&&this.$tokenizeRow(e),this.states[e]||"start"},this.$tokenizeRow=function(e){var t=this.doc.getLine(e),i=this.states[e-1],n=this.tokenizer.getLineTokens(t,i,e);return this.states[e]+""!=n.state+""?(this.states[e]=n.state,this.lines[e+1]=null,this.currentLine>e+1&&(this.currentLine=e+1)):this.currentLine==e&&(this.currentLine=e+1),this.lines[e]=n.tokens}}).call(r.prototype),t.BackgroundTokenizer=r}),ace.define("ace/search_highlight",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(e,t,i){"use strict";var n=e("./lib/lang"),s=(e("./lib/oop"),e("./range").Range),r=function(e,t,i){this.setRegexp(e),this.clazz=t,this.type=i||"text"};(function(){this.MAX_RANGES=500,this.setRegexp=function(e){this.regExp+""!=e+""&&(this.regExp=e,this.cache=[])},this.update=function(e,t,i,r){if(this.regExp)for(var o=r.firstRow,a=r.lastRow,l=o;l<=a;l++){var c=this.cache[l];null==c&&(c=n.getMatchOffsets(i.getLine(l),this.regExp),c.length>this.MAX_RANGES&&(c=c.slice(0,this.MAX_RANGES)),c=c.map(function(e){return new s(l,e.offset,l,e.offset+e.length)}),this.cache[l]=c.length?c:"");for(var u=c.length;u--;)t.drawSingleLineMarker(e,c[u].toScreenRange(i),this.clazz,r)}}}).call(r.prototype),t.SearchHighlight=r}),ace.define("ace/edit_session/fold_line",["require","exports","module","ace/range"],function(e,t,i){"use strict";function n(e,t){this.foldData=e,Array.isArray(t)?this.folds=t:t=this.folds=[t];var i=t[t.length-1];this.range=new s(t[0].start.row,t[0].start.column,i.end.row,i.end.column),this.start=this.range.start,this.end=this.range.end,this.folds.forEach(function(e){e.setFoldLine(this)},this)}var s=e("../range").Range;(function(){this.shiftRow=function(e){this.start.row+=e,this.end.row+=e,this.folds.forEach(function(t){t.start.row+=e,t.end.row+=e})},this.addFold=function(e){if(e.sameRow){if(e.start.row<this.startRow||e.endRow>this.endRow)throw new Error("Can't add a fold to this FoldLine as it has no connection");this.folds.push(e),this.folds.sort(function(e,t){return-e.range.compareEnd(t.start.row,t.start.column)}),this.range.compareEnd(e.start.row,e.start.column)>0?(this.end.row=e.end.row,this.end.column=e.end.column):this.range.compareStart(e.end.row,e.end.column)<0&&(this.start.row=e.start.row,this.start.column=e.start.column)}else if(e.start.row==this.end.row)this.folds.push(e),this.end.row=e.end.row,this.end.column=e.end.column;else{if(e.end.row!=this.start.row)throw new Error("Trying to add fold to FoldRow that doesn't have a matching row");this.folds.unshift(e),this.start.row=e.start.row,this.start.column=e.start.column}e.foldLine=this},this.containsRow=function(e){return e>=this.start.row&&e<=this.end.row},this.walk=function(e,t,i){var n,s,r,o=0,a=this.folds,l=!0;null==t&&(t=this.end.row,i=this.end.column);for(var c=0;c<a.length;c++){if(n=a[c],s=n.range.compareStart(t,i),s==-1)return void e(null,t,i,o,l);if(r=e(null,n.start.row,n.start.column,o,l),r=!r&&e(n.placeholder,n.start.row,n.start.column,o),r||0===s)return;l=!n.sameRow,o=n.end.column}e(null,t,i,o,l)},this.getNextFoldTo=function(e,t){for(var i,n,s=0;s<this.folds.length;s++){if(i=this.folds[s],n=i.range.compareEnd(e,t),n==-1)return{fold:i,kind:"after"};if(0===n)return{fold:i,kind:"inside"}}return null},this.addRemoveChars=function(e,t,i){var n,s,r=this.getNextFoldTo(e,t);if(r)if(n=r.fold,"inside"==r.kind&&n.start.column!=t&&n.start.row!=e)window.console&&window.console.log(e,t,n);else if(n.start.row==e){s=this.folds;var o=s.indexOf(n);for(0===o&&(this.start.column+=i),o;o<s.length;o++){if(n=s[o],n.start.column+=i,!n.sameRow)return;n.end.column+=i}this.end.column+=i}},this.split=function(e,t){var i=this.getNextFoldTo(e,t);if(!i||"inside"==i.kind)return null;var s=i.fold,r=this.folds,o=this.foldData,a=r.indexOf(s),l=r[a-1];this.end.row=l.end.row,this.end.column=l.end.column,r=r.splice(a,r.length-a);var c=new n(o,r);return o.splice(o.indexOf(this)+1,0,c),c},this.merge=function(e){for(var t=e.folds,i=0;i<t.length;i++)this.addFold(t[i]);var n=this.foldData;n.splice(n.indexOf(e),1)},this.toString=function(){var e=[this.range.toString()+": ["];return this.folds.forEach(function(t){e.push("  "+t.toString())}),e.push("]"),e.join("\n")},this.idxToPosition=function(e){for(var t=0,i=0;i<this.folds.length;i++){var n=this.folds[i];if(e-=n.start.column-t,e<0)return{row:n.start.row,column:n.start.column+e};if(e-=n.placeholder.length,e<0)return n.start;t=n.end.column}return{row:this.end.row,column:this.end.column+e}}}).call(n.prototype),t.FoldLine=n}),ace.define("ace/range_list",["require","exports","module","ace/range"],function(e,t,i){"use strict";var n=e("./range").Range,s=n.comparePoints,r=function(){this.ranges=[]};(function(){this.comparePoints=s,this.pointIndex=function(e,t,i){for(var n=this.ranges,r=i||0;r<n.length;r++){var o=n[r],a=s(e,o.end);if(!(a>0)){var l=s(e,o.start);return 0===a?t&&0!==l?-r-2:r:l>0||0===l&&!t?r:-r-1}}return-r-1},this.add=function(e){var t=!e.isEmpty(),i=this.pointIndex(e.start,t);i<0&&(i=-i-1);var n=this.pointIndex(e.end,t,i);return n<0?n=-n-1:n++,this.ranges.splice(i,n-i,e)},this.addList=function(e){for(var t=[],i=e.length;i--;)t.push.apply(t,this.add(e[i]));return t},this.substractPoint=function(e){var t=this.pointIndex(e);if(t>=0)return this.ranges.splice(t,1)},this.merge=function(){var e=[],t=this.ranges;t=t.sort(function(e,t){return s(e.start,t.start)});for(var i,n=t[0],r=1;r<t.length;r++){i=n,n=t[r];var o=s(i.end,n.start);o<0||(0!=o||i.isEmpty()||n.isEmpty())&&(s(i.end,n.end)<0&&(i.end.row=n.end.row,i.end.column=n.end.column),t.splice(r,1),e.push(n),n=i,r--)}return this.ranges=t,e},this.contains=function(e,t){return this.pointIndex({row:e,column:t})>=0},this.containsPoint=function(e){return this.pointIndex(e)>=0},this.rangeAtPoint=function(e){var t=this.pointIndex(e);if(t>=0)return this.ranges[t]},this.clipRows=function(e,t){var i=this.ranges;if(i[0].start.row>t||i[i.length-1].start.row<e)return[];var n=this.pointIndex({row:e,column:0});n<0&&(n=-n-1);var s=this.pointIndex({row:t,column:0},n);s<0&&(s=-s-1);for(var r=[],o=n;o<s;o++)r.push(i[o]);return r},this.removeAll=function(){return this.ranges.splice(0,this.ranges.length)},this.attach=function(e){this.session&&this.detach(),this.session=e,this.onChange=this.$onChange.bind(this),this.session.on("change",this.onChange)},this.detach=function(){this.session&&(this.session.removeListener("change",this.onChange),this.session=null)},this.$onChange=function(e){if("insert"==e.action)var t=e.start,i=e.end;else var i=e.start,t=e.end;for(var n=t.row,s=i.row,r=s-n,o=-t.column+i.column,a=this.ranges,l=0,c=a.length;l<c;l++){var u=a[l];if(!(u.end.row<n)){if(u.start.row>n)break;if(u.start.row==n&&u.start.column>=t.column&&(u.start.column!=t.column||!this.$insertRight)&&(u.start.column+=o,u.start.row+=r),u.end.row==n&&u.end.column>=t.column){if(u.end.column==t.column&&this.$insertRight)continue;u.end.column==t.column&&o>0&&l<c-1&&u.end.column>u.start.column&&u.end.column==a[l+1].start.column&&(u.end.column-=o),u.end.column+=o,u.end.row+=r}}}if(0!=r&&l<c)for(;l<c;l++){var u=a[l];u.start.row+=r,u.end.row+=r}}}).call(r.prototype),t.RangeList=r}),ace.define("ace/edit_session/fold",["require","exports","module","ace/range","ace/range_list","ace/lib/oop"],function(e,t,i){"use strict";function n(e,t){e.row-=t.row,0==e.row&&(e.column-=t.column)}function s(e,t){n(e.start,t),n(e.end,t)}function r(e,t){0==e.row&&(e.column+=t.column),e.row+=t.row}function o(e,t){r(e.start,t),r(e.end,t)}var a=(e("../range").Range,e("../range_list").RangeList),l=e("../lib/oop"),c=t.Fold=function(e,t){this.foldLine=null,this.placeholder=t,this.range=e,this.start=e.start,this.end=e.end,this.sameRow=e.start.row==e.end.row,this.subFolds=this.ranges=[]};l.inherits(c,a),function(){this.toString=function(){return'"'+this.placeholder+'" '+this.range.toString()},this.setFoldLine=function(e){this.foldLine=e,this.subFolds.forEach(function(t){t.setFoldLine(e)})},this.clone=function(){var e=this.range.clone(),t=new c(e,this.placeholder);return this.subFolds.forEach(function(e){t.subFolds.push(e.clone())}),t.collapseChildren=this.collapseChildren,t},this.addSubFold=function(e){if(!this.range.isEqual(e)){if(!this.range.containsRange(e))throw new Error("A fold can't intersect already existing fold"+e.range+this.range);s(e,this.start);for(var t=e.start.row,i=e.start.column,n=0,r=-1;n<this.subFolds.length&&(r=this.subFolds[n].range.compare(t,i),1==r);n++);var o=this.subFolds[n];if(0==r)return o.addSubFold(e);for(var t=e.range.end.row,i=e.range.end.column,a=n,r=-1;a<this.subFolds.length&&(r=this.subFolds[a].range.compare(t,i),1==r);a++);this.subFolds[a];if(0==r)throw new Error("A fold can't intersect already existing fold"+e.range+this.range);this.subFolds.splice(n,a-n,e);return e.setFoldLine(this.foldLine),e}},this.restoreRange=function(e){return o(e,this.start)}}.call(c.prototype)}),ace.define("ace/edit_session/folding",["require","exports","module","ace/range","ace/edit_session/fold_line","ace/edit_session/fold","ace/token_iterator"],function(e,t,i){"use strict";function n(){this.getFoldAt=function(e,t,i){var n=this.getFoldLine(e);if(!n)return null;for(var s=n.folds,r=0;r<s.length;r++){var o=s[r];if(o.range.contains(e,t)){if(1==i&&o.range.isEnd(e,t))continue;if(i==-1&&o.range.isStart(e,t))continue;return o}}},this.getFoldsInRange=function(e){var t=e.start,i=e.end,n=this.$foldData,s=[];t.column+=1,i.column-=1;for(var r=0;r<n.length;r++){var o=n[r].range.compareRange(e);if(2!=o){if(o==-2)break;for(var a=n[r].folds,l=0;l<a.length;l++){var c=a[l];if(o=c.range.compareRange(e),o==-2)break;if(2!=o){if(42==o)break;s.push(c)}}}}return t.column-=1,i.column+=1,s},this.getFoldsInRangeList=function(e){if(Array.isArray(e)){var t=[];e.forEach(function(e){t=t.concat(this.getFoldsInRange(e))},this)}else var t=this.getFoldsInRange(e);return t},this.getAllFolds=function(){for(var e=[],t=this.$foldData,i=0;i<t.length;i++)for(var n=0;n<t[i].folds.length;n++)e.push(t[i].folds[n]);return e},this.getFoldStringAt=function(e,t,i,n){if(n=n||this.getFoldLine(e),!n)return null;for(var s,r,o={end:{column:0}},a=0;a<n.folds.length;a++){r=n.folds[a];var l=r.range.compareEnd(e,t);if(l==-1){s=this.getLine(r.start.row).substring(o.end.column,r.start.column);break}if(0===l)return null;o=r}return s||(s=this.getLine(r.start.row).substring(o.end.column)),i==-1?s.substring(0,t-o.end.column):1==i?s.substring(t-o.end.column):s},this.getFoldLine=function(e,t){var i=this.$foldData,n=0;for(t&&(n=i.indexOf(t)),n==-1&&(n=0),n;n<i.length;n++){var s=i[n];if(s.start.row<=e&&s.end.row>=e)return s;if(s.end.row>e)return null}return null},this.getNextFoldLine=function(e,t){var i=this.$foldData,n=0;for(t&&(n=i.indexOf(t)),n==-1&&(n=0),n;n<i.length;n++){var s=i[n];if(s.end.row>=e)return s}return null},this.getFoldedRowCount=function(e,t){for(var i=this.$foldData,n=t-e+1,s=0;s<i.length;s++){var r=i[s],o=r.end.row,a=r.start.row;if(o>=t){a<t&&(a>=e?n-=t-a:n=0);break}o>=e&&(n-=a>=e?o-a:o-e+1)}return n},this.$addFoldLine=function(e){return this.$foldData.push(e),this.$foldData.sort(function(e,t){return e.start.row-t.start.row}),e},this.addFold=function(e,t){var i,n=this.$foldData,s=!1;e instanceof o?i=e:(i=new o(t,e),i.collapseChildren=t.collapseChildren),this.$clipRangeToDocument(i.range);var a=i.start.row,l=i.start.column,c=i.end.row,u=i.end.column;if(a<c||a==c&&l<=u-2){var d=this.getFoldAt(a,l,1),h=this.getFoldAt(c,u,-1);if(d&&h==d)return d.addSubFold(i);d&&!d.range.isStart(a,l)&&this.removeFold(d),h&&!h.range.isEnd(c,u)&&this.removeFold(h);var p=this.getFoldsInRange(i.range);p.length>0&&(this.removeFolds(p),p.forEach(function(e){i.addSubFold(e)}));for(var f=0;f<n.length;f++){var g=n[f];if(c==g.start.row){g.addFold(i),s=!0;break}if(a==g.end.row){if(g.addFold(i),s=!0,!i.sameRow){var m=n[f+1];if(m&&m.start.row==c){g.merge(m);break}}break}if(c<=g.start.row)break}return s||(g=this.$addFoldLine(new r(this.$foldData,i))),this.$useWrapMode?this.$updateWrapData(g.start.row,g.start.row):this.$updateRowLengthCache(g.start.row,g.start.row),this.$modified=!0,this._signal("changeFold",{data:i,action:"add"}),i}throw new Error("The range has to be at least 2 characters width")},this.addFolds=function(e){e.forEach(function(e){this.addFold(e)},this)},this.removeFold=function(e){var t=e.foldLine,i=t.start.row,n=t.end.row,s=this.$foldData,r=t.folds;if(1==r.length)s.splice(s.indexOf(t),1);else if(t.range.isEnd(e.end.row,e.end.column))r.pop(),t.end.row=r[r.length-1].end.row,t.end.column=r[r.length-1].end.column;else if(t.range.isStart(e.start.row,e.start.column))r.shift(),t.start.row=r[0].start.row,t.start.column=r[0].start.column;else if(e.sameRow)r.splice(r.indexOf(e),1);else{var o=t.split(e.start.row,e.start.column);r=o.folds,r.shift(),o.start.row=r[0].start.row,o.start.column=r[0].start.column}this.$updating||(this.$useWrapMode?this.$updateWrapData(i,n):this.$updateRowLengthCache(i,n)),this.$modified=!0,this._signal("changeFold",{data:e,action:"remove"})},this.removeFolds=function(e){for(var t=[],i=0;i<e.length;i++)t.push(e[i]);t.forEach(function(e){this.removeFold(e)},this),this.$modified=!0},this.expandFold=function(e){this.removeFold(e),e.subFolds.forEach(function(t){e.restoreRange(t),this.addFold(t)},this),e.collapseChildren>0&&this.foldAll(e.start.row+1,e.end.row,e.collapseChildren-1),e.subFolds=[]},this.expandFolds=function(e){e.forEach(function(e){this.expandFold(e)},this)},this.unfold=function(e,t){var i,n;if(null==e?(i=new s(0,0,this.getLength(),0),t=!0):i="number"==typeof e?new s(e,0,e,this.getLine(e).length):"row"in e?s.fromPoints(e,e):e,n=this.getFoldsInRangeList(i),t)this.removeFolds(n);else for(var r=n;r.length;)this.expandFolds(r),r=this.getFoldsInRangeList(i);if(n.length)return n},this.isRowFolded=function(e,t){return!!this.getFoldLine(e,t)},this.getRowFoldEnd=function(e,t){var i=this.getFoldLine(e,t);return i?i.end.row:e},this.getRowFoldStart=function(e,t){var i=this.getFoldLine(e,t);return i?i.start.row:e},this.getFoldDisplayLine=function(e,t,i,n,s){null==n&&(n=e.start.row),null==s&&(s=0),null==t&&(t=e.end.row),null==i&&(i=this.getLine(t).length);var r=this.doc,o="";return e.walk(function(e,t,i,a){if(!(t<n)){if(t==n){if(i<s)return;a=Math.max(s,a)}o+=null!=e?e:r.getLine(t).substring(a,i)}},t,i),o},this.getDisplayLine=function(e,t,i,n){var s=this.getFoldLine(e);if(!s){var r;return r=this.doc.getLine(e),r.substring(n||0,t||r.length)}return this.getFoldDisplayLine(s,e,t,i,n)},this.$cloneFoldData=function(){var e=[];return e=this.$foldData.map(function(t){var i=t.folds.map(function(e){return e.clone()});return new r(e,i)})},this.toggleFold=function(e){var t,i,n=this.selection,s=n.getRange();if(s.isEmpty()){var r=s.start;if(t=this.getFoldAt(r.row,r.column))return void this.expandFold(t);(i=this.findMatchingBracket(r))?1==s.comparePoint(i)?s.end=i:(s.start=i,s.start.column++,s.end.column--):(i=this.findMatchingBracket({row:r.row,column:r.column+1}))?(1==s.comparePoint(i)?s.end=i:s.start=i,s.start.column++):s=this.getCommentFoldRange(r.row,r.column)||s}else{var o=this.getFoldsInRange(s);if(e&&o.length)return void this.expandFolds(o);1==o.length&&(t=o[0])}if(t||(t=this.getFoldAt(s.start.row,s.start.column)),t&&t.range.toString()==s.toString())return void this.expandFold(t);var a="...";if(!s.isMultiLine()){if(a=this.getTextRange(s),a.length<4)return;a=a.trim().substring(0,2)+".."}this.addFold(a,s)},this.getCommentFoldRange=function(e,t,i){var n=new a(this,e,t),r=n.getCurrentToken();if(r&&/^comment|string/.test(r.type)){var o=new s,l=new RegExp(r.type.replace(/\..*/,"\\."));if(1!=i){do r=n.stepBackward();while(r&&l.test(r.type));n.stepForward()}if(o.start.row=n.getCurrentTokenRow(),o.start.column=n.getCurrentTokenColumn()+2,n=new a(this,e,t),i!=-1){do r=n.stepForward();while(r&&l.test(r.type));r=n.stepBackward()}else r=n.getCurrentToken();return o.end.row=n.getCurrentTokenRow(),o.end.column=n.getCurrentTokenColumn()+r.value.length-2,o}},this.foldAll=function(e,t,i){void 0==i&&(i=1e5);var n=this.foldWidgets;if(n){t=t||this.getLength(),e=e||0;for(var s=e;s<t;s++)if(null==n[s]&&(n[s]=this.getFoldWidget(s)),"start"==n[s]){var r=this.getFoldWidgetRange(s);if(r&&r.isMultiLine()&&r.end.row<=t&&r.start.row>=e){s=r.end.row;try{var o=this.addFold("...",r);o&&(o.collapseChildren=i)}catch(a){}}}}},this.$foldStyles={manual:1,markbegin:1,markbeginend:1},this.$foldStyle="markbegin",this.setFoldStyle=function(e){if(!this.$foldStyles[e])throw new Error("invalid fold style: "+e+"["+Object.keys(this.$foldStyles).join(", ")+"]");if(this.$foldStyle!=e){this.$foldStyle=e,"manual"==e&&this.unfold();var t=this.$foldMode;this.$setFolding(null),this.$setFolding(t)}},this.$setFolding=function(e){if(this.$foldMode!=e)return this.$foldMode=e,this.off("change",this.$updateFoldWidgets),this.off("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets),
this._signal("changeAnnotation"),e&&"manual"!=this.$foldStyle?(this.foldWidgets=[],this.getFoldWidget=e.getFoldWidget.bind(e,this,this.$foldStyle),this.getFoldWidgetRange=e.getFoldWidgetRange.bind(e,this,this.$foldStyle),this.$updateFoldWidgets=this.updateFoldWidgets.bind(this),this.$tokenizerUpdateFoldWidgets=this.tokenizerUpdateFoldWidgets.bind(this),this.on("change",this.$updateFoldWidgets),this.on("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets),void 0):void(this.foldWidgets=null)},this.getParentFoldRangeData=function(e,t){var i=this.foldWidgets;if(!i||t&&i[e])return{};for(var n,s=e-1;s>=0;){var r=i[s];if(null==r&&(r=i[s]=this.getFoldWidget(s)),"start"==r){var o=this.getFoldWidgetRange(s);if(n||(n=o),o&&o.end.row>=e)break}s--}return{range:s!==-1&&o,firstRange:n}},this.onFoldWidgetClick=function(e,t){t=t.domEvent;var i={children:t.shiftKey,all:t.ctrlKey||t.metaKey,siblings:t.altKey},n=this.$toggleFoldWidget(e,i);if(!n){var s=t.target||t.srcElement;s&&/ace_fold-widget/.test(s.className)&&(s.className+=" ace_invalid")}},this.$toggleFoldWidget=function(e,t){if(this.getFoldWidget){var i=this.getFoldWidget(e),n=this.getLine(e),s="end"===i?-1:1,r=this.getFoldAt(e,s===-1?0:n.length,s);if(r)return void(t.children||t.all?this.removeFold(r):this.expandFold(r));var o=this.getFoldWidgetRange(e,!0);if(o&&!o.isMultiLine()&&(r=this.getFoldAt(o.start.row,o.start.column,1),r&&o.isEqual(r.range)))return void this.removeFold(r);if(t.siblings){var a=this.getParentFoldRangeData(e);if(a.range)var l=a.range.start.row+1,c=a.range.end.row;this.foldAll(l,c,t.all?1e4:0)}else t.children?(c=o?o.end.row:this.getLength(),this.foldAll(e+1,c,t.all?1e4:0)):o&&(t.all&&(o.collapseChildren=1e4),this.addFold("...",o));return o}},this.toggleFoldWidget=function(e){var t=this.selection.getCursor().row;t=this.getRowFoldStart(t);var i=this.$toggleFoldWidget(t,{});if(!i){var n=this.getParentFoldRangeData(t,!0);if(i=n.range||n.firstRange){t=i.start.row;var s=this.getFoldAt(t,this.getLine(t).length,1);s?this.removeFold(s):this.addFold("...",i)}}},this.updateFoldWidgets=function(e){var t=e.start.row,i=e.end.row-t;if(0===i)this.foldWidgets[t]=null;else if("remove"==e.action)this.foldWidgets.splice(t,i+1,null);else{var n=Array(i+1);n.unshift(t,1),this.foldWidgets.splice.apply(this.foldWidgets,n)}},this.tokenizerUpdateFoldWidgets=function(e){var t=e.data;t.first!=t.last&&this.foldWidgets.length>t.first&&this.foldWidgets.splice(t.first,this.foldWidgets.length)}}var s=e("../range").Range,r=e("./fold_line").FoldLine,o=e("./fold").Fold,a=e("../token_iterator").TokenIterator;t.Folding=n}),ace.define("ace/edit_session/bracket_match",["require","exports","module","ace/token_iterator","ace/range"],function(e,t,i){"use strict";function n(){this.findMatchingBracket=function(e,t){if(0==e.column)return null;var i=t||this.getLine(e.row).charAt(e.column-1);if(""==i)return null;var n=i.match(/([\(\[\{])|([\)\]\}])/);return n?n[1]?this.$findClosingBracket(n[1],e):this.$findOpeningBracket(n[2],e):null},this.getBracketRange=function(e){var t,i=this.getLine(e.row),n=!0,s=i.charAt(e.column-1),o=s&&s.match(/([\(\[\{])|([\)\]\}])/);if(o||(s=i.charAt(e.column),e={row:e.row,column:e.column+1},o=s&&s.match(/([\(\[\{])|([\)\]\}])/),n=!1),!o)return null;if(o[1]){var a=this.$findClosingBracket(o[1],e);if(!a)return null;t=r.fromPoints(e,a),n||(t.end.column++,t.start.column--),t.cursor=t.end}else{var a=this.$findOpeningBracket(o[2],e);if(!a)return null;t=r.fromPoints(a,e),n||(t.start.column++,t.end.column--),t.cursor=t.start}return t},this.$brackets={")":"(","(":")","]":"[","[":"]","{":"}","}":"{"},this.$findOpeningBracket=function(e,t,i){var n=this.$brackets[e],r=1,o=new s(this,t.row,t.column),a=o.getCurrentToken();if(a||(a=o.stepForward()),a){i||(i=new RegExp("(\\.?"+a.type.replace(".","\\.").replace("rparen",".paren").replace(/\b(?:end)\b/,"(?:start|begin|end)")+")+"));for(var l=t.column-o.getCurrentTokenColumn()-2,c=a.value;;){for(;l>=0;){var u=c.charAt(l);if(u==n){if(r-=1,0==r)return{row:o.getCurrentTokenRow(),column:l+o.getCurrentTokenColumn()}}else u==e&&(r+=1);l-=1}do a=o.stepBackward();while(a&&!i.test(a.type));if(null==a)break;c=a.value,l=c.length-1}return null}},this.$findClosingBracket=function(e,t,i){var n=this.$brackets[e],r=1,o=new s(this,t.row,t.column),a=o.getCurrentToken();if(a||(a=o.stepForward()),a){i||(i=new RegExp("(\\.?"+a.type.replace(".","\\.").replace("lparen",".paren").replace(/\b(?:start|begin)\b/,"(?:start|begin|end)")+")+"));for(var l=t.column-o.getCurrentTokenColumn();;){for(var c=a.value,u=c.length;l<u;){var d=c.charAt(l);if(d==n){if(r-=1,0==r)return{row:o.getCurrentTokenRow(),column:l+o.getCurrentTokenColumn()}}else d==e&&(r+=1);l+=1}do a=o.stepForward();while(a&&!i.test(a.type));if(null==a)break;l=0}return null}}}var s=e("../token_iterator").TokenIterator,r=e("../range").Range;t.BracketMatch=n}),ace.define("ace/edit_session",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/config","ace/lib/event_emitter","ace/selection","ace/mode/text","ace/range","ace/document","ace/background_tokenizer","ace/search_highlight","ace/edit_session/folding","ace/edit_session/bracket_match"],function(e,t,i){"use strict";var n=e("./lib/oop"),s=e("./lib/lang"),r=e("./config"),o=e("./lib/event_emitter").EventEmitter,a=e("./selection").Selection,l=e("./mode/text").Mode,c=e("./range").Range,u=e("./document").Document,d=e("./background_tokenizer").BackgroundTokenizer,h=e("./search_highlight").SearchHighlight,p=function(e,t){this.$breakpoints=[],this.$decorations=[],this.$frontMarkers={},this.$backMarkers={},this.$markerId=1,this.$undoSelect=!0,this.$foldData=[],this.$foldData.toString=function(){return this.join("\n")},this.on("changeFold",this.onChangeFold.bind(this)),this.$onChange=this.onChange.bind(this),"object"==typeof e&&e.getLine||(e=new u(e)),this.setDocument(e),this.selection=new a(this),r.resetOptions(this),this.setMode(t),r._signal("session",this)};(function(){function e(e){return!(e<4352)&&(e>=4352&&e<=4447||e>=4515&&e<=4519||e>=4602&&e<=4607||e>=9001&&e<=9002||e>=11904&&e<=11929||e>=11931&&e<=12019||e>=12032&&e<=12245||e>=12272&&e<=12283||e>=12288&&e<=12350||e>=12353&&e<=12438||e>=12441&&e<=12543||e>=12549&&e<=12589||e>=12593&&e<=12686||e>=12688&&e<=12730||e>=12736&&e<=12771||e>=12784&&e<=12830||e>=12832&&e<=12871||e>=12880&&e<=13054||e>=13056&&e<=19903||e>=19968&&e<=42124||e>=42128&&e<=42182||e>=43360&&e<=43388||e>=44032&&e<=55203||e>=55216&&e<=55238||e>=55243&&e<=55291||e>=63744&&e<=64255||e>=65040&&e<=65049||e>=65072&&e<=65106||e>=65108&&e<=65126||e>=65128&&e<=65131||e>=65281&&e<=65376||e>=65504&&e<=65510)}n.implement(this,o),this.setDocument=function(e){this.doc&&this.doc.removeListener("change",this.$onChange),this.doc=e,e.on("change",this.$onChange),this.bgTokenizer&&this.bgTokenizer.setDocument(this.getDocument()),this.resetCaches()},this.getDocument=function(){return this.doc},this.$resetRowCache=function(e){if(!e)return this.$docRowCache=[],void(this.$screenRowCache=[]);var t=this.$docRowCache.length,i=this.$getRowCacheIndex(this.$docRowCache,e)+1;t>i&&(this.$docRowCache.splice(i,t),this.$screenRowCache.splice(i,t))},this.$getRowCacheIndex=function(e,t){for(var i=0,n=e.length-1;i<=n;){var s=i+n>>1,r=e[s];if(t>r)i=s+1;else{if(!(t<r))return s;n=s-1}}return i-1},this.resetCaches=function(){this.$modified=!0,this.$wrapData=[],this.$rowLengthCache=[],this.$resetRowCache(0),this.bgTokenizer&&this.bgTokenizer.start(0)},this.onChangeFold=function(e){var t=e.data;this.$resetRowCache(t.start.row)},this.onChange=function(e){this.$modified=!0,this.$resetRowCache(e.start.row);var t=this.$updateInternalDataOnChange(e);!this.$fromUndo&&this.$undoManager&&!e.ignore&&(this.$deltasDoc.push(e),t&&0!=t.length&&this.$deltasFold.push({action:"removeFolds",folds:t}),this.$informUndoManager.schedule()),this.bgTokenizer&&this.bgTokenizer.$updateOnChange(e),this._signal("change",e)},this.setValue=function(e){this.doc.setValue(e),this.selection.moveTo(0,0),this.$resetRowCache(0),this.$deltas=[],this.$deltasDoc=[],this.$deltasFold=[],this.setUndoManager(this.$undoManager),this.getUndoManager().reset()},this.getValue=this.toString=function(){return this.doc.getValue()},this.getSelection=function(){return this.selection},this.getState=function(e){return this.bgTokenizer.getState(e)},this.getTokens=function(e){return this.bgTokenizer.getTokens(e)},this.getTokenAt=function(e,t){var i,n=this.bgTokenizer.getTokens(e),s=0;if(null==t)r=n.length-1,s=this.getLine(e).length;else for(var r=0;r<n.length&&(s+=n[r].value.length,!(s>=t));r++);return i=n[r],i?(i.index=r,i.start=s-i.value.length,i):null},this.setUndoManager=function(e){if(this.$undoManager=e,this.$deltas=[],this.$deltasDoc=[],this.$deltasFold=[],this.$informUndoManager&&this.$informUndoManager.cancel(),e){var t=this;this.$syncInformUndoManager=function(){t.$informUndoManager.cancel(),t.$deltasFold.length&&(t.$deltas.push({group:"fold",deltas:t.$deltasFold}),t.$deltasFold=[]),t.$deltasDoc.length&&(t.$deltas.push({group:"doc",deltas:t.$deltasDoc}),t.$deltasDoc=[]),t.$deltas.length>0&&e.execute({action:"aceupdate",args:[t.$deltas,t],merge:t.mergeUndoDeltas}),t.mergeUndoDeltas=!1,t.$deltas=[]},this.$informUndoManager=s.delayedCall(this.$syncInformUndoManager)}},this.markUndoGroup=function(){this.$syncInformUndoManager&&this.$syncInformUndoManager()},this.$defaultUndoManager={undo:function(){},redo:function(){},reset:function(){}},this.getUndoManager=function(){return this.$undoManager||this.$defaultUndoManager},this.getTabString=function(){return this.getUseSoftTabs()?s.stringRepeat(" ",this.getTabSize()):"\t"},this.setUseSoftTabs=function(e){this.setOption("useSoftTabs",e)},this.getUseSoftTabs=function(){return this.$useSoftTabs&&!this.$mode.$indentWithTabs},this.setTabSize=function(e){this.setOption("tabSize",e)},this.getTabSize=function(){return this.$tabSize},this.isTabStop=function(e){return this.$useSoftTabs&&e.column%this.$tabSize===0},this.$overwrite=!1,this.setOverwrite=function(e){this.setOption("overwrite",e)},this.getOverwrite=function(){return this.$overwrite},this.toggleOverwrite=function(){this.setOverwrite(!this.$overwrite)},this.addGutterDecoration=function(e,t){this.$decorations[e]||(this.$decorations[e]=""),this.$decorations[e]+=" "+t,this._signal("changeBreakpoint",{})},this.removeGutterDecoration=function(e,t){this.$decorations[e]=(this.$decorations[e]||"").replace(" "+t,""),this._signal("changeBreakpoint",{})},this.getBreakpoints=function(){return this.$breakpoints},this.setBreakpoints=function(e){this.$breakpoints=[];for(var t=0;t<e.length;t++)this.$breakpoints[e[t]]="ace_breakpoint";this._signal("changeBreakpoint",{})},this.clearBreakpoints=function(){this.$breakpoints=[],this._signal("changeBreakpoint",{})},this.setBreakpoint=function(e,t){void 0===t&&(t="ace_breakpoint"),t?this.$breakpoints[e]=t:delete this.$breakpoints[e],this._signal("changeBreakpoint",{})},this.clearBreakpoint=function(e){delete this.$breakpoints[e],this._signal("changeBreakpoint",{})},this.addMarker=function(e,t,i,n){var s=this.$markerId++,r={range:e,type:i||"line",renderer:"function"==typeof i?i:null,clazz:t,inFront:!!n,id:s};return n?(this.$frontMarkers[s]=r,this._signal("changeFrontMarker")):(this.$backMarkers[s]=r,this._signal("changeBackMarker")),s},this.addDynamicMarker=function(e,t){if(e.update){var i=this.$markerId++;return e.id=i,e.inFront=!!t,t?(this.$frontMarkers[i]=e,this._signal("changeFrontMarker")):(this.$backMarkers[i]=e,this._signal("changeBackMarker")),e}},this.removeMarker=function(e){var t=this.$frontMarkers[e]||this.$backMarkers[e];if(t){var i=t.inFront?this.$frontMarkers:this.$backMarkers;t&&(delete i[e],this._signal(t.inFront?"changeFrontMarker":"changeBackMarker"))}},this.getMarkers=function(e){return e?this.$frontMarkers:this.$backMarkers},this.highlight=function(e){if(!this.$searchHighlight){var t=new h(null,"ace_selected-word","text");this.$searchHighlight=this.addDynamicMarker(t)}this.$searchHighlight.setRegexp(e)},this.highlightLines=function(e,t,i,n){"number"!=typeof t&&(i=t,t=e),i||(i="ace_step");var s=new c(e,0,t,1/0);return s.id=this.addMarker(s,i,"fullLine",n),s},this.setAnnotations=function(e){this.$annotations=e,this._signal("changeAnnotation",{})},this.getAnnotations=function(){return this.$annotations||[]},this.clearAnnotations=function(){this.setAnnotations([])},this.$detectNewLine=function(e){var t=e.match(/^.*?(\r?\n)/m);t?this.$autoNewLine=t[1]:this.$autoNewLine="\n"},this.getWordRange=function(e,t){var i=this.getLine(e),n=!1;if(t>0&&(n=!!i.charAt(t-1).match(this.tokenRe)),n||(n=!!i.charAt(t).match(this.tokenRe)),n)var s=this.tokenRe;else if(/^\s+$/.test(i.slice(t-1,t+1)))var s=/\s/;else var s=this.nonTokenRe;var r=t;if(r>0){do r--;while(r>=0&&i.charAt(r).match(s));r++}for(var o=t;o<i.length&&i.charAt(o).match(s);)o++;return new c(e,r,e,o)},this.getAWordRange=function(e,t){for(var i=this.getWordRange(e,t),n=this.getLine(i.end.row);n.charAt(i.end.column).match(/[ \t]/);)i.end.column+=1;return i},this.setNewLineMode=function(e){this.doc.setNewLineMode(e)},this.getNewLineMode=function(){return this.doc.getNewLineMode()},this.setUseWorker=function(e){this.setOption("useWorker",e)},this.getUseWorker=function(){return this.$useWorker},this.onReloadTokenizer=function(e){var t=e.data;this.bgTokenizer.start(t.first),this._signal("tokenizerUpdate",e)},this.$modes={},this.$mode=null,this.$modeId=null,this.setMode=function(e,t){if(e&&"object"==typeof e){if(e.getTokenizer)return this.$onChangeMode(e);var i=e,n=i.path}else n=e||"ace/mode/text";return this.$modes["ace/mode/text"]||(this.$modes["ace/mode/text"]=new l),this.$modes[n]&&!i?(this.$onChangeMode(this.$modes[n]),void(t&&t())):(this.$modeId=n,r.loadModule(["mode",n],function(e){return this.$modeId!==n?t&&t():(this.$modes[n]&&!i?this.$onChangeMode(this.$modes[n]):e&&e.Mode&&(e=new e.Mode(i),i||(this.$modes[n]=e,e.$id=n),this.$onChangeMode(e)),void(t&&t()))}.bind(this)),this.$mode||this.$onChangeMode(this.$modes["ace/mode/text"],!0),void 0)},this.$onChangeMode=function(e,t){if(t||(this.$modeId=e.$id),this.$mode!==e){this.$mode=e,this.$stopWorker(),this.$useWorker&&this.$startWorker();var i=e.getTokenizer();if(void 0!==i.addEventListener){var n=this.onReloadTokenizer.bind(this);i.addEventListener("update",n)}if(this.bgTokenizer)this.bgTokenizer.setTokenizer(i);else{this.bgTokenizer=new d(i);var s=this;this.bgTokenizer.addEventListener("update",function(e){s._signal("tokenizerUpdate",e)})}this.bgTokenizer.setDocument(this.getDocument()),this.tokenRe=e.tokenRe,this.nonTokenRe=e.nonTokenRe,t||(e.attachToSession&&e.attachToSession(this),this.$options.wrapMethod.set.call(this,this.$wrapMethod),this.$setFolding(e.foldingRules),this.bgTokenizer.start(0),this._emit("changeMode"))}},this.$stopWorker=function(){this.$worker&&(this.$worker.terminate(),this.$worker=null)},this.$startWorker=function(){try{this.$worker=this.$mode.createWorker(this)}catch(e){r.warn("Could not load worker",e),this.$worker=null}},this.getMode=function(){return this.$mode},this.$scrollTop=0,this.setScrollTop=function(e){this.$scrollTop===e||isNaN(e)||(this.$scrollTop=e,this._signal("changeScrollTop",e))},this.getScrollTop=function(){return this.$scrollTop},this.$scrollLeft=0,this.setScrollLeft=function(e){this.$scrollLeft===e||isNaN(e)||(this.$scrollLeft=e,this._signal("changeScrollLeft",e))},this.getScrollLeft=function(){return this.$scrollLeft},this.getScreenWidth=function(){return this.$computeWidth(),this.lineWidgets?Math.max(this.getLineWidgetMaxWidth(),this.screenWidth):this.screenWidth},this.getLineWidgetMaxWidth=function(){if(null!=this.lineWidgetsWidth)return this.lineWidgetsWidth;var e=0;return this.lineWidgets.forEach(function(t){t&&t.screenWidth>e&&(e=t.screenWidth)}),this.lineWidgetWidth=e},this.$computeWidth=function(e){if(this.$modified||e){if(this.$modified=!1,this.$useWrapMode)return this.screenWidth=this.$wrapLimit;for(var t=this.doc.getAllLines(),i=this.$rowLengthCache,n=0,s=0,r=this.$foldData[s],o=r?r.start.row:1/0,a=t.length,l=0;l<a;l++){if(l>o){if(l=r.end.row+1,l>=a)break;r=this.$foldData[s++],o=r?r.start.row:1/0}null==i[l]&&(i[l]=this.$getStringScreenWidth(t[l])[0]),i[l]>n&&(n=i[l])}this.screenWidth=n}},this.getLine=function(e){return this.doc.getLine(e)},this.getLines=function(e,t){return this.doc.getLines(e,t)},this.getLength=function(){return this.doc.getLength()},this.getTextRange=function(e){return this.doc.getTextRange(e||this.selection.getRange())},this.insert=function(e,t){return this.doc.insert(e,t)},this.remove=function(e){return this.doc.remove(e)},this.removeFullLines=function(e,t){return this.doc.removeFullLines(e,t)},this.undoChanges=function(e,t){if(e.length){this.$fromUndo=!0;for(var i=null,n=e.length-1;n!=-1;n--){var s=e[n];"doc"==s.group?(this.doc.revertDeltas(s.deltas),i=this.$getUndoSelection(s.deltas,!0,i)):s.deltas.forEach(function(e){this.addFolds(e.folds)},this)}return this.$fromUndo=!1,i&&this.$undoSelect&&!t&&this.selection.setSelectionRange(i),i}},this.redoChanges=function(e,t){if(e.length){this.$fromUndo=!0;for(var i=null,n=0;n<e.length;n++){var s=e[n];"doc"==s.group&&(this.doc.applyDeltas(s.deltas),i=this.$getUndoSelection(s.deltas,!1,i))}return this.$fromUndo=!1,i&&this.$undoSelect&&!t&&this.selection.setSelectionRange(i),i}},this.setUndoSelect=function(e){this.$undoSelect=e},this.$getUndoSelection=function(e,t,i){function n(e){return t?"insert"!==e.action:"insert"===e.action}var s,r,o=e[0],a=!1;n(o)?(s=c.fromPoints(o.start,o.end),a=!0):(s=c.fromPoints(o.start,o.start),a=!1);for(var l=1;l<e.length;l++)o=e[l],n(o)?(r=o.start,s.compare(r.row,r.column)==-1&&s.setStart(r),r=o.end,1==s.compare(r.row,r.column)&&s.setEnd(r),a=!0):(r=o.start,s.compare(r.row,r.column)==-1&&(s=c.fromPoints(o.start,o.start)),a=!1);if(null!=i){0===c.comparePoints(i.start,s.start)&&(i.start.column+=s.end.column-s.start.column,i.end.column+=s.end.column-s.start.column);var u=i.compareRange(s);1==u?s.setStart(i.start):u==-1&&s.setEnd(i.end)}return s},this.replace=function(e,t){return this.doc.replace(e,t)},this.moveText=function(e,t,i){var n=this.getTextRange(e),s=this.getFoldsInRange(e),r=c.fromPoints(t,t);if(!i){this.remove(e);var o=e.start.row-e.end.row,a=o?-e.end.column:e.start.column-e.end.column;a&&(r.start.row==e.end.row&&r.start.column>e.end.column&&(r.start.column+=a),r.end.row==e.end.row&&r.end.column>e.end.column&&(r.end.column+=a)),o&&r.start.row>=e.end.row&&(r.start.row+=o,r.end.row+=o)}if(r.end=this.insert(r.start,n),s.length){var l=e.start,u=r.start,o=u.row-l.row,a=u.column-l.column;this.addFolds(s.map(function(e){return e=e.clone(),e.start.row==l.row&&(e.start.column+=a),e.end.row==l.row&&(e.end.column+=a),e.start.row+=o,e.end.row+=o,e}))}return r},this.indentRows=function(e,t,i){i=i.replace(/\t/g,this.getTabString());for(var n=e;n<=t;n++)this.doc.insertInLine({row:n,column:0},i)},this.outdentRows=function(e){for(var t=e.collapseRows(),i=new c(0,0,0,0),n=this.getTabSize(),s=t.start.row;s<=t.end.row;++s){var r=this.getLine(s);i.start.row=s,i.end.row=s;for(var o=0;o<n&&" "==r.charAt(o);++o);o<n&&"\t"==r.charAt(o)?(i.start.column=o,i.end.column=o+1):(i.start.column=0,i.end.column=o),this.remove(i)}},this.$moveLines=function(e,t,i){if(e=this.getRowFoldStart(e),t=this.getRowFoldEnd(t),i<0){var n=this.getRowFoldStart(e+i);if(n<0)return 0;var s=n-e}else if(i>0){var n=this.getRowFoldEnd(t+i);if(n>this.doc.getLength()-1)return 0;var s=n-t}else{e=this.$clipRowToDocument(e),t=this.$clipRowToDocument(t);var s=t-e+1}var r=new c(e,0,t,Number.MAX_VALUE),o=this.getFoldsInRange(r).map(function(e){return e=e.clone(),e.start.row+=s,e.end.row+=s,e}),a=0==i?this.doc.getLines(e,t):this.doc.removeFullLines(e,t);return this.doc.insertFullLines(e+s,a),o.length&&this.addFolds(o),s},this.moveLinesUp=function(e,t){return this.$moveLines(e,t,-1)},this.moveLinesDown=function(e,t){return this.$moveLines(e,t,1)},this.duplicateLines=function(e,t){return this.$moveLines(e,t,0)},this.$clipRowToDocument=function(e){return Math.max(0,Math.min(e,this.doc.getLength()-1))},this.$clipColumnToRow=function(e,t){return t<0?0:Math.min(this.doc.getLine(e).length,t)},this.$clipPositionToDocument=function(e,t){if(t=Math.max(0,t),e<0)e=0,t=0;else{var i=this.doc.getLength();e>=i?(e=i-1,t=this.doc.getLine(i-1).length):t=Math.min(this.doc.getLine(e).length,t)}return{row:e,column:t}},this.$clipRangeToDocument=function(e){e.start.row<0?(e.start.row=0,e.start.column=0):e.start.column=this.$clipColumnToRow(e.start.row,e.start.column);var t=this.doc.getLength()-1;return e.end.row>t?(e.end.row=t,e.end.column=this.doc.getLine(t).length):e.end.column=this.$clipColumnToRow(e.end.row,e.end.column),e},this.$wrapLimit=80,this.$useWrapMode=!1,this.$wrapLimitRange={min:null,max:null},this.setUseWrapMode=function(e){if(e!=this.$useWrapMode){if(this.$useWrapMode=e,this.$modified=!0,this.$resetRowCache(0),e){var t=this.getLength();this.$wrapData=Array(t),this.$updateWrapData(0,t-1)}this._signal("changeWrapMode")}},this.getUseWrapMode=function(){return this.$useWrapMode},this.setWrapLimitRange=function(e,t){this.$wrapLimitRange.min===e&&this.$wrapLimitRange.max===t||(this.$wrapLimitRange={min:e,max:t},this.$modified=!0,this.$useWrapMode&&this._signal("changeWrapMode"))},this.adjustWrapLimit=function(e,t){var i=this.$wrapLimitRange;i.max<0&&(i={min:t,max:t});var n=this.$constrainWrapLimit(e,i.min,i.max);return n!=this.$wrapLimit&&n>1&&(this.$wrapLimit=n,this.$modified=!0,this.$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this.$resetRowCache(0),this._signal("changeWrapLimit")),!0)},this.$constrainWrapLimit=function(e,t,i){return t&&(e=Math.max(t,e)),i&&(e=Math.min(i,e)),e},this.getWrapLimit=function(){return this.$wrapLimit},this.setWrapLimit=function(e){this.setWrapLimitRange(e,e)},this.getWrapLimitRange=function(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}},this.$updateInternalDataOnChange=function(e){var t=this.$useWrapMode,i=e.action,n=e.start,s=e.end,r=n.row,o=s.row,a=o-r,l=null;if(this.$updating=!0,0!=a)if("remove"===i){this[t?"$wrapData":"$rowLengthCache"].splice(r,a);var c=this.$foldData;l=this.getFoldsInRange(e),this.removeFolds(l);var u=this.getFoldLine(s.row),d=0;if(u){u.addRemoveChars(s.row,s.column,n.column-s.column),u.shiftRow(-a);var h=this.getFoldLine(r);h&&h!==u&&(h.merge(u),u=h),d=c.indexOf(u)+1}for(d;d<c.length;d++){var u=c[d];u.start.row>=s.row&&u.shiftRow(-a)}o=r}else{var p=Array(a);p.unshift(r,0);var f=t?this.$wrapData:this.$rowLengthCache;f.splice.apply(f,p);var c=this.$foldData,u=this.getFoldLine(r),d=0;if(u){var g=u.range.compareInside(n.row,n.column);0==g?(u=u.split(n.row,n.column),u&&(u.shiftRow(a),u.addRemoveChars(o,0,s.column-n.column))):g==-1&&(u.addRemoveChars(r,0,s.column-n.column),u.shiftRow(a)),d=c.indexOf(u)+1}for(d;d<c.length;d++){var u=c[d];u.start.row>=r&&u.shiftRow(a)}}else{a=Math.abs(e.start.column-e.end.column),"remove"===i&&(l=this.getFoldsInRange(e),this.removeFolds(l),a=-a);var u=this.getFoldLine(r);u&&u.addRemoveChars(r,n.column,a)}return t&&this.$wrapData.length!=this.doc.getLength()&&console.error("doc.getLength() and $wrapData.length have to be the same!"),this.$updating=!1,t?this.$updateWrapData(r,o):this.$updateRowLengthCache(r,o),l},this.$updateRowLengthCache=function(e,t,i){this.$rowLengthCache[e]=null,this.$rowLengthCache[t]=null},this.$updateWrapData=function(e,t){var i,n,s=this.doc.getAllLines(),r=this.getTabSize(),o=this.$wrapData,l=this.$wrapLimit,c=e;for(t=Math.min(t,s.length-1);c<=t;)n=this.getFoldLine(c,n),n?(i=[],n.walk(function(e,t,n,r){var o;if(null!=e){o=this.$getDisplayTokens(e,i.length),o[0]=a;for(var l=1;l<o.length;l++)o[l]=u}else o=this.$getDisplayTokens(s[t].substring(r,n),i.length);i=i.concat(o)}.bind(this),n.end.row,s[n.end.row].length+1),o[n.start.row]=this.$computeWrapSplits(i,l,r),c=n.end.row+1):(i=this.$getDisplayTokens(s[c]),o[c]=this.$computeWrapSplits(i,l,r),c++)};var t=1,i=2,a=3,u=4,p=9,f=10,g=11,m=12;this.$computeWrapSplits=function(e,t,n){function s(){var t=0;if(0===b)return t;if(v)for(var i=0;i<e.length;i++){var s=e[i];if(s==f)t+=1;else{if(s!=g){if(s==m)continue;break}t+=n}}return h&&v!==!1&&(t+=n),Math.min(t,b)}function r(t){var i=e.slice(c,t),n=i.length;i.join("").replace(/12/g,function(){n-=1}).replace(/2/g,function(){n-=1}),o.length||(w=s(),o.indent=w),d+=n,o.push(d),c=t}if(0==e.length)return[];for(var o=[],l=e.length,c=0,d=0,h=this.$wrapAsCode,v=this.$indentedSoftWrap,b=t<=Math.max(2*n,8)||v===!1?0:Math.floor(t/2),w=0;l-c>t-w;){var y=c+t-w;if(e[y-1]>=f&&e[y]>=f)r(y);else if(e[y]!=a&&e[y]!=u){for(var A=Math.max(y-(t-(t>>2)),c-1);y>A&&e[y]<a;)y--;if(h){for(;y>A&&e[y]<a;)y--;for(;y>A&&e[y]==p;)y--}else for(;y>A&&e[y]<f;)y--;y>A?r(++y):(y=c+t,e[y]==i&&y--,r(y-w))}else{for(y;y!=c-1&&e[y]!=a;y--);if(y>c){r(y);continue}for(y=c+t;y<e.length&&e[y]==u;y++);if(y==e.length)break;r(y)}}return o},this.$getDisplayTokens=function(n,s){var r,o=[];s=s||0;for(var a=0;a<n.length;a++){var l=n.charCodeAt(a);if(9==l){r=this.getScreenTabSize(o.length+s),o.push(g);for(var c=1;c<r;c++)o.push(m)}else 32==l?o.push(f):l>39&&l<48||l>57&&l<64?o.push(p):l>=4352&&e(l)?o.push(t,i):o.push(t)}return o},this.$getStringScreenWidth=function(t,i,n){if(0==i)return[0,0];null==i&&(i=1/0),n=n||0;var s,r;for(r=0;r<t.length&&(s=t.charCodeAt(r),n+=9==s?this.getScreenTabSize(n):s>=4352&&e(s)?2:1,!(n>i));r++);return[n,r]},this.lineWidgets=null,this.getRowLength=function(e){if(this.lineWidgets)var t=this.lineWidgets[e]&&this.lineWidgets[e].rowCount||0;else t=0;return this.$useWrapMode&&this.$wrapData[e]?this.$wrapData[e].length+1+t:1+t},this.getRowLineCount=function(e){return this.$useWrapMode&&this.$wrapData[e]?this.$wrapData[e].length+1:1},this.getRowWrapIndent=function(e){if(this.$useWrapMode){var t=this.screenToDocumentPosition(e,Number.MAX_VALUE),i=this.$wrapData[t.row];return i.length&&i[0]<t.column?i.indent:0}return 0},this.getScreenLastRowColumn=function(e){var t=this.screenToDocumentPosition(e,Number.MAX_VALUE);return this.documentToScreenColumn(t.row,t.column)},this.getDocumentLastRowColumn=function(e,t){var i=this.documentToScreenRow(e,t);return this.getScreenLastRowColumn(i)},this.getDocumentLastRowColumnPosition=function(e,t){var i=this.documentToScreenRow(e,t);return this.screenToDocumentPosition(i,Number.MAX_VALUE/10)},this.getRowSplitData=function(e){return this.$useWrapMode?this.$wrapData[e]:void 0},this.getScreenTabSize=function(e){return this.$tabSize-e%this.$tabSize},this.screenToDocumentRow=function(e,t){return this.screenToDocumentPosition(e,t).row},this.screenToDocumentColumn=function(e,t){return this.screenToDocumentPosition(e,t).column},this.screenToDocumentPosition=function(e,t){if(e<0)return{row:0,column:0};var i,n,s=0,r=0,o=0,a=0,l=this.$screenRowCache,c=this.$getRowCacheIndex(l,e),u=l.length;if(u&&c>=0)var o=l[c],s=this.$docRowCache[c],d=e>l[u-1];else var d=!u;for(var h=this.getLength()-1,p=this.getNextFoldLine(s),f=p?p.start.row:1/0;o<=e&&(a=this.getRowLength(s),!(o+a>e||s>=h));)o+=a,s++,s>f&&(s=p.end.row+1,p=this.getNextFoldLine(s,p),f=p?p.start.row:1/0),d&&(this.$docRowCache.push(s),this.$screenRowCache.push(o));if(p&&p.start.row<=s)i=this.getFoldDisplayLine(p),s=p.start.row;else{if(o+a<=e||s>h)return{row:h,column:this.getLine(h).length};i=this.getLine(s),p=null}var g=0;if(this.$useWrapMode){var m=this.$wrapData[s];if(m){var v=Math.floor(e-o);n=m[v],v>0&&m.length&&(g=m.indent,r=m[v-1]||m[m.length-1],i=i.substring(r))}}return r+=this.$getStringScreenWidth(i,t-g)[1],this.$useWrapMode&&r>=n&&(r=n-1),p?p.idxToPosition(r):{row:s,column:r}},this.documentToScreenPosition=function(e,t){if("undefined"==typeof t)var i=this.$clipPositionToDocument(e.row,e.column);else i=this.$clipPositionToDocument(e,t);e=i.row,t=i.column;var n=0,s=null,r=null;r=this.getFoldAt(e,t,1),r&&(e=r.start.row,t=r.start.column);var o,a=0,l=this.$docRowCache,c=this.$getRowCacheIndex(l,e),u=l.length;if(u&&c>=0)var a=l[c],n=this.$screenRowCache[c],d=e>l[u-1];else var d=!u;for(var h=this.getNextFoldLine(a),p=h?h.start.row:1/0;a<e;){if(a>=p){if(o=h.end.row+1,o>e)break;h=this.getNextFoldLine(o,h),p=h?h.start.row:1/0}else o=a+1;n+=this.getRowLength(a),a=o,d&&(this.$docRowCache.push(a),this.$screenRowCache.push(n))}var f="";h&&a>=p?(f=this.getFoldDisplayLine(h,e,t),s=h.start.row):(f=this.getLine(e).substring(0,t),s=e);var g=0;if(this.$useWrapMode){var m=this.$wrapData[s];if(m){for(var v=0;f.length>=m[v];)n++,v++;f=f.substring(m[v-1]||0,f.length),g=v>0?m.indent:0}}return{row:n,column:g+this.$getStringScreenWidth(f)[0]}},this.documentToScreenColumn=function(e,t){return this.documentToScreenPosition(e,t).column},this.documentToScreenRow=function(e,t){return this.documentToScreenPosition(e,t).row},this.getScreenLength=function(){var e=0,t=null;if(this.$useWrapMode)for(var i=this.$wrapData.length,n=0,s=0,t=this.$foldData[s++],r=t?t.start.row:1/0;n<i;){var o=this.$wrapData[n];e+=o?o.length+1:1,n++,n>r&&(n=t.end.row+1,t=this.$foldData[s++],r=t?t.start.row:1/0)}else{e=this.getLength();for(var a=this.$foldData,s=0;s<a.length;s++)t=a[s],e-=t.end.row-t.start.row}return this.lineWidgets&&(e+=this.$getWidgetScreenLength()),e},this.$setFontMetrics=function(e){this.$enableVarChar&&(this.$getStringScreenWidth=function(t,i,n){if(0===i)return[0,0];i||(i=1/0),n=n||0;var s,r;for(r=0;r<t.length&&(s=t.charAt(r),n+="\t"===s?this.getScreenTabSize(n):e.getCharacterWidth(s),!(n>i));r++);return[n,r]})},this.destroy=function(){this.bgTokenizer&&(this.bgTokenizer.setDocument(null),this.bgTokenizer=null),this.$stopWorker()}}).call(p.prototype),e("./edit_session/folding").Folding.call(p.prototype),e("./edit_session/bracket_match").BracketMatch.call(p.prototype),r.defineOptions(p.prototype,"session",{wrap:{set:function(e){if(e&&"off"!=e?"free"==e?e=!0:"printMargin"==e?e=-1:"string"==typeof e&&(e=parseInt(e,10)||!1):e=!1,this.$wrap!=e)if(this.$wrap=e,e){var t="number"==typeof e?e:null;this.setWrapLimitRange(t,t),this.setUseWrapMode(!0)}else this.setUseWrapMode(!1)},get:function(){return this.getUseWrapMode()?this.$wrap==-1?"printMargin":this.getWrapLimitRange().min?this.$wrap:"free":"off"},handlesSet:!0},wrapMethod:{set:function(e){e="auto"==e?"text"!=this.$mode.type:"text"!=e,e!=this.$wrapAsCode&&(this.$wrapAsCode=e,this.$useWrapMode&&(this.$modified=!0,this.$resetRowCache(0),this.$updateWrapData(0,this.getLength()-1)))},initialValue:"auto"},indentedSoftWrap:{initialValue:!0},firstLineNumber:{set:function(){this._signal("changeBreakpoint")},initialValue:1},useWorker:{set:function(e){this.$useWorker=e,this.$stopWorker(),e&&this.$startWorker()},initialValue:!0},useSoftTabs:{initialValue:!0},tabSize:{set:function(e){isNaN(e)||this.$tabSize===e||(this.$modified=!0,this.$rowLengthCache=[],this.$tabSize=e,this._signal("changeTabSize"))},initialValue:4,handlesSet:!0},overwrite:{set:function(e){this._signal("changeOverwrite")},initialValue:!1},newLineMode:{set:function(e){this.doc.setNewLineMode(e)},get:function(){return this.doc.getNewLineMode()},handlesSet:!0},mode:{set:function(e){this.setMode(e)},get:function(){return this.$modeId}}}),t.EditSession=p}),ace.define("ace/search",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(e,t,i){"use strict";var n=e("./lib/lang"),s=e("./lib/oop"),r=e("./range").Range,o=function(){this.$options={}};(function(){this.set=function(e){return s.mixin(this.$options,e),this},this.getOptions=function(){return n.copyObject(this.$options)},this.setOptions=function(e){this.$options=e},this.find=function(e){var t=this.$options,i=this.$matchIterator(e,t);if(!i)return!1;var n=null;return i.forEach(function(e,i,s){if(e.start)n=e;else{var o=e.offset+(s||0);if(n=new r(i,o,i,o+e.length),!e.length&&t.start&&t.start.start&&0!=t.skipCurrent&&n.isEqual(t.start))return n=null,!1}return!0}),n},this.findAll=function(e){var t=this.$options;if(!t.needle)return[];this.$assembleRegExp(t);var i=t.range,s=i?e.getLines(i.start.row,i.end.row):e.doc.getAllLines(),o=[],a=t.re;if(t.$isMultiLine){var l,c=a.length,u=s.length-c;e:for(var d=a.offset||0;d<=u;d++){for(var h=0;h<c;h++)if(s[d+h].search(a[h])==-1)continue e;var p=s[d],f=s[d+c-1],g=p.length-p.match(a[0])[0].length,m=f.match(a[c-1])[0].length;
l&&l.end.row===d&&l.end.column>g||(o.push(l=new r(d,g,d+c-1,m)),c>2&&(d=d+c-2))}}else for(var v=0;v<s.length;v++)for(var b=n.getMatchOffsets(s[v],a),h=0;h<b.length;h++){var w=b[h];o.push(new r(v,w.offset,v,w.offset+w.length))}if(i){for(var y=i.start.column,A=i.start.column,v=0,h=o.length-1;v<h&&o[v].start.column<y&&o[v].start.row==i.start.row;)v++;for(;v<h&&o[h].end.column>A&&o[h].end.row==i.end.row;)h--;for(o=o.slice(v,h+1),v=0,h=o.length;v<h;v++)o[v].start.row+=i.start.row,o[v].end.row+=i.start.row}return o},this.replace=function(e,t){var i=this.$options,n=this.$assembleRegExp(i);if(i.$isMultiLine)return t;if(n){var s=n.exec(e);if(!s||s[0].length!=e.length)return null;if(t=e.replace(n,t),i.preserveCase){t=t.split("");for(var r=Math.min(e.length,e.length);r--;){var o=e[r];o&&o.toLowerCase()!=o?t[r]=t[r].toUpperCase():t[r]=t[r].toLowerCase()}t=t.join("")}return t}},this.$matchIterator=function(e,t){var i=this.$assembleRegExp(t);if(!i)return!1;var s;if(t.$isMultiLine)var o=i.length,a=function(t,n,a){var l=t.search(i[0]);if(l!=-1){for(var c=1;c<o;c++)if(t=e.getLine(n+c),t.search(i[c])==-1)return;var u=t.match(i[o-1])[0].length,d=new r(n,l,n+o-1,u);return 1==i.offset?(d.start.row--,d.start.column=Number.MAX_VALUE):a&&(d.start.column+=a),!!s(d)||void 0}};else if(t.backwards)var a=function(e,t,r){for(var o=n.getMatchOffsets(e,i),a=o.length-1;a>=0;a--)if(s(o[a],t,r))return!0};else var a=function(e,t,r){for(var o=n.getMatchOffsets(e,i),a=0;a<o.length;a++)if(s(o[a],t,r))return!0};var l=this.$lineIterator(e,t);return{forEach:function(e){s=e,l.forEach(a)}}},this.$assembleRegExp=function(e,t){if(e.needle instanceof RegExp)return e.re=e.needle;var i=e.needle;if(!e.needle)return e.re=!1;e.regExp||(i=n.escapeRegExp(i)),e.wholeWord&&(i="\\b"+i+"\\b");var s=e.caseSensitive?"gm":"gmi";if(e.$isMultiLine=!t&&/[\n\r]/.test(i),e.$isMultiLine)return e.re=this.$assembleMultilineRegExp(i,s);try{var r=new RegExp(i,s)}catch(o){r=!1}return e.re=r},this.$assembleMultilineRegExp=function(e,t){for(var i=e.replace(/\r\n|\r|\n/g,"$\n^").split("\n"),n=[],s=0;s<i.length;s++)try{n.push(new RegExp(i[s],t))}catch(r){return!1}return""==i[0]?(n.shift(),n.offset=1):n.offset=0,n},this.$lineIterator=function(e,t){var i=1==t.backwards,n=0!=t.skipCurrent,s=t.range,r=t.start;r||(r=s?s[i?"end":"start"]:e.selection.getRange()),r.start&&(r=r[n!=i?"end":"start"]);var o=s?s.start.row:0,a=s?s.end.row:e.getLength()-1,l=i?function(i){var n=r.row,s=e.getLine(n).substring(0,r.column);if(!i(s,n)){for(n--;n>=o;n--)if(i(e.getLine(n),n))return;if(0!=t.wrap)for(n=a,o=r.row;n>=o;n--)if(i(e.getLine(n),n))return}}:function(i){var n=r.row,s=e.getLine(n).substr(r.column);if(!i(s,n,r.column)){for(n+=1;n<=a;n++)if(i(e.getLine(n),n))return;if(0!=t.wrap)for(n=o,a=r.row;n<=a;n++)if(i(e.getLine(n),n))return}};return{forEach:l}}}).call(o.prototype),t.Search=o}),ace.define("ace/keyboard/hash_handler",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(e,t,i){"use strict";function n(e,t){this.platform=t||(o.isMac?"mac":"win"),this.commands={},this.commandKeyBinding={},this.addCommands(e),this.$singleCommand=!0}function s(e,t){n.call(this,e,t),this.$singleCommand=!1}var r=e("../lib/keys"),o=e("../lib/useragent"),a=r.KEY_MODS;s.prototype=n.prototype,function(){function e(e){return"object"==typeof e&&e.bindKey&&e.bindKey.position||0}this.addCommand=function(e){this.commands[e.name]&&this.removeCommand(e),this.commands[e.name]=e,e.bindKey&&this._buildKeyHash(e)},this.removeCommand=function(e,t){var i=e&&("string"==typeof e?e:e.name);e=this.commands[i],t||delete this.commands[i];var n=this.commandKeyBinding;for(var s in n){var r=n[s];if(r==e)delete n[s];else if(Array.isArray(r)){var o=r.indexOf(e);o!=-1&&(r.splice(o,1),1==r.length&&(n[s]=r[0]))}}},this.bindKey=function(e,t,i){if("object"==typeof e&&e&&(void 0==i&&(i=e.position),e=e[this.platform]),e)return"function"==typeof t?this.addCommand({exec:t,bindKey:e,name:t.name||e}):void e.split("|").forEach(function(e){var n="";if(e.indexOf(" ")!=-1){var s=e.split(/\s+/);e=s.pop(),s.forEach(function(e){var t=this.parseKeys(e),i=a[t.hashId]+t.key;n+=(n?" ":"")+i,this._addCommandToBinding(n,"chainKeys")},this),n+=" "}var r=this.parseKeys(e),o=a[r.hashId]+r.key;this._addCommandToBinding(n+o,t,i)},this)},this._addCommandToBinding=function(t,i,n){var s,r=this.commandKeyBinding;if(i)if(!r[t]||this.$singleCommand)r[t]=i;else{Array.isArray(r[t])?(s=r[t].indexOf(i))!=-1&&r[t].splice(s,1):r[t]=[r[t]],"number"!=typeof n&&(n=n||i.isDefault?-100:e(i));var o=r[t];for(s=0;s<o.length;s++){var a=o[s],l=e(a);if(l>n)break}o.splice(s,0,i)}else delete r[t]},this.addCommands=function(e){e&&Object.keys(e).forEach(function(t){var i=e[t];if(i){if("string"==typeof i)return this.bindKey(i,t);"function"==typeof i&&(i={exec:i}),"object"==typeof i&&(i.name||(i.name=t),this.addCommand(i))}},this)},this.removeCommands=function(e){Object.keys(e).forEach(function(t){this.removeCommand(e[t])},this)},this.bindKeys=function(e){Object.keys(e).forEach(function(t){this.bindKey(t,e[t])},this)},this._buildKeyHash=function(e){this.bindKey(e.bindKey,e)},this.parseKeys=function(e){var t=e.toLowerCase().split(/[\-\+]([\-\+])?/).filter(function(e){return e}),i=t.pop(),n=r[i];if(r.FUNCTION_KEYS[n])i=r.FUNCTION_KEYS[n].toLowerCase();else{if(!t.length)return{key:i,hashId:-1};if(1==t.length&&"shift"==t[0])return{key:i.toUpperCase(),hashId:-1}}for(var s=0,o=t.length;o--;){var a=r.KEY_MODS[t[o]];if(null==a)return"undefined"!=typeof console&&console.error("invalid modifier "+t[o]+" in "+e),!1;s|=a}return{key:i,hashId:s}},this.findKeyCommand=function(e,t){var i=a[e]+t;return this.commandKeyBinding[i]},this.handleKeyboard=function(e,t,i,n){if(!(n<0)){var s=a[t]+i,r=this.commandKeyBinding[s];return e.$keyChain&&(e.$keyChain+=" "+s,r=this.commandKeyBinding[e.$keyChain]||r),!r||"chainKeys"!=r&&"chainKeys"!=r[r.length-1]?(e.$keyChain&&(t&&4!=t||1!=i.length?(t==-1||n>0)&&(e.$keyChain=""):e.$keyChain=e.$keyChain.slice(0,-s.length-1)),{command:r}):(e.$keyChain=e.$keyChain||s,{command:"null"})}},this.getStatusText=function(e,t){return t.$keyChain||""}}.call(n.prototype),t.HashHandler=n,t.MultiHashHandler=s}),ace.define("ace/commands/command_manager",["require","exports","module","ace/lib/oop","ace/keyboard/hash_handler","ace/lib/event_emitter"],function(e,t,i){"use strict";var n=e("../lib/oop"),s=e("../keyboard/hash_handler").MultiHashHandler,r=e("../lib/event_emitter").EventEmitter,o=function(e,t){s.call(this,t,e),this.byName=this.commands,this.setDefaultHandler("exec",function(e){return e.command.exec(e.editor,e.args||{})})};n.inherits(o,s),function(){n.implement(this,r),this.exec=function(e,t,i){if(Array.isArray(e)){for(var n=e.length;n--;)if(this.exec(e[n],t,i))return!0;return!1}if("string"==typeof e&&(e=this.commands[e]),!e)return!1;if(t&&t.$readOnly&&!e.readOnly)return!1;var s={editor:t,command:e,args:i};return s.returnValue=this._emit("exec",s),this._signal("afterExec",s),s.returnValue!==!1},this.toggleRecording=function(e){if(!this.$inReplay)return e&&e._emit("changeStatus"),this.recording?(this.macro.pop(),this.removeEventListener("exec",this.$addCommandToMacro),this.macro.length||(this.macro=this.oldMacro),this.recording=!1):(this.$addCommandToMacro||(this.$addCommandToMacro=function(e){this.macro.push([e.command,e.args])}.bind(this)),this.oldMacro=this.macro,this.macro=[],this.on("exec",this.$addCommandToMacro),this.recording=!0)},this.replay=function(e){if(!this.$inReplay&&this.macro){if(this.recording)return this.toggleRecording(e);try{this.$inReplay=!0,this.macro.forEach(function(t){"string"==typeof t?this.exec(t,e):this.exec(t[0],e,t[1])},this)}finally{this.$inReplay=!1}}},this.trimMacro=function(e){return e.map(function(e){return"string"!=typeof e[0]&&(e[0]=e[0].name),e[1]||(e=e[0]),e})}}.call(o.prototype),t.CommandManager=o}),ace.define("ace/commands/default_commands",["require","exports","module","ace/lib/lang","ace/config","ace/range"],function(e,t,i){"use strict";function n(e,t){return{win:e,mac:t}}var s=e("../lib/lang"),r=e("../config"),o=e("../range").Range;t.commands=[{name:"showSettingsMenu",bindKey:n("Ctrl-,","Command-,"),exec:function(e){r.loadModule("ace/ext/settings_menu",function(t){t.init(e),e.showSettingsMenu()})},readOnly:!0},{name:"goToNextError",bindKey:n("Alt-E","Ctrl-E"),exec:function(e){r.loadModule("ace/ext/error_marker",function(t){t.showErrorMarker(e,1)})},scrollIntoView:"animate",readOnly:!0},{name:"goToPreviousError",bindKey:n("Alt-Shift-E","Ctrl-Shift-E"),exec:function(e){r.loadModule("ace/ext/error_marker",function(t){t.showErrorMarker(e,-1)})},scrollIntoView:"animate",readOnly:!0},{name:"selectall",bindKey:n("Ctrl-A","Command-A"),exec:function(e){e.selectAll()},readOnly:!0},{name:"centerselection",bindKey:n(null,"Ctrl-L"),exec:function(e){e.centerSelection()},readOnly:!0},{name:"gotoline",bindKey:n("Ctrl-L","Command-L"),exec:function(e){var t=parseInt(prompt("Enter line number:"),10);isNaN(t)||e.gotoLine(t)},readOnly:!0},{name:"fold",bindKey:n("Alt-L|Ctrl-F1","Command-Alt-L|Command-F1"),exec:function(e){e.session.toggleFold(!1)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"unfold",bindKey:n("Alt-Shift-L|Ctrl-Shift-F1","Command-Alt-Shift-L|Command-Shift-F1"),exec:function(e){e.session.toggleFold(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleFoldWidget",bindKey:n("F2","F2"),exec:function(e){e.session.toggleFoldWidget()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleParentFoldWidget",bindKey:n("Alt-F2","Alt-F2"),exec:function(e){e.session.toggleFoldWidget(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"foldall",bindKey:n(null,"Ctrl-Command-Option-0"),exec:function(e){e.session.foldAll()},scrollIntoView:"center",readOnly:!0},{name:"foldOther",bindKey:n("Alt-0","Command-Option-0"),exec:function(e){e.session.foldAll(),e.session.unfold(e.selection.getAllRanges())},scrollIntoView:"center",readOnly:!0},{name:"unfoldall",bindKey:n("Alt-Shift-0","Command-Option-Shift-0"),exec:function(e){e.session.unfold()},scrollIntoView:"center",readOnly:!0},{name:"findnext",bindKey:n("Ctrl-K","Command-G"),exec:function(e){e.findNext()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"findprevious",bindKey:n("Ctrl-Shift-K","Command-Shift-G"),exec:function(e){e.findPrevious()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"selectOrFindNext",bindKey:n("Alt-K","Ctrl-G"),exec:function(e){e.selection.isEmpty()?e.selection.selectWord():e.findNext()},readOnly:!0},{name:"selectOrFindPrevious",bindKey:n("Alt-Shift-K","Ctrl-Shift-G"),exec:function(e){e.selection.isEmpty()?e.selection.selectWord():e.findPrevious()},readOnly:!0},{name:"find",bindKey:n("Ctrl-F","Command-F"),exec:function(e){r.loadModule("ace/ext/searchbox",function(t){t.Search(e)})},readOnly:!0},{name:"overwrite",bindKey:"Insert",exec:function(e){e.toggleOverwrite()},readOnly:!0},{name:"selecttostart",bindKey:n("Ctrl-Shift-Home","Command-Shift-Up"),exec:function(e){e.getSelection().selectFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotostart",bindKey:n("Ctrl-Home","Command-Home|Command-Up"),exec:function(e){e.navigateFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectup",bindKey:n("Shift-Up","Shift-Up"),exec:function(e){e.getSelection().selectUp()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golineup",bindKey:n("Up","Up|Ctrl-P"),exec:function(e,t){e.navigateUp(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttoend",bindKey:n("Ctrl-Shift-End","Command-Shift-Down"),exec:function(e){e.getSelection().selectFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotoend",bindKey:n("Ctrl-End","Command-End|Command-Down"),exec:function(e){e.navigateFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectdown",bindKey:n("Shift-Down","Shift-Down"),exec:function(e){e.getSelection().selectDown()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golinedown",bindKey:n("Down","Down|Ctrl-N"),exec:function(e,t){e.navigateDown(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordleft",bindKey:n("Ctrl-Shift-Left","Option-Shift-Left"),exec:function(e){e.getSelection().selectWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordleft",bindKey:n("Ctrl-Left","Option-Left"),exec:function(e){e.navigateWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolinestart",bindKey:n("Alt-Shift-Left","Command-Shift-Left"),exec:function(e){e.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolinestart",bindKey:n("Alt-Left|Home","Command-Left|Home|Ctrl-A"),exec:function(e){e.navigateLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectleft",bindKey:n("Shift-Left","Shift-Left"),exec:function(e){e.getSelection().selectLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoleft",bindKey:n("Left","Left|Ctrl-B"),exec:function(e,t){e.navigateLeft(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordright",bindKey:n("Ctrl-Shift-Right","Option-Shift-Right"),exec:function(e){e.getSelection().selectWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordright",bindKey:n("Ctrl-Right","Option-Right"),exec:function(e){e.navigateWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolineend",bindKey:n("Alt-Shift-Right","Command-Shift-Right"),exec:function(e){e.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolineend",bindKey:n("Alt-Right|End","Command-Right|End|Ctrl-E"),exec:function(e){e.navigateLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectright",bindKey:n("Shift-Right","Shift-Right"),exec:function(e){e.getSelection().selectRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoright",bindKey:n("Right","Right|Ctrl-F"),exec:function(e,t){e.navigateRight(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectpagedown",bindKey:"Shift-PageDown",exec:function(e){e.selectPageDown()},readOnly:!0},{name:"pagedown",bindKey:n(null,"Option-PageDown"),exec:function(e){e.scrollPageDown()},readOnly:!0},{name:"gotopagedown",bindKey:n("PageDown","PageDown|Ctrl-V"),exec:function(e){e.gotoPageDown()},readOnly:!0},{name:"selectpageup",bindKey:"Shift-PageUp",exec:function(e){e.selectPageUp()},readOnly:!0},{name:"pageup",bindKey:n(null,"Option-PageUp"),exec:function(e){e.scrollPageUp()},readOnly:!0},{name:"gotopageup",bindKey:"PageUp",exec:function(e){e.gotoPageUp()},readOnly:!0},{name:"scrollup",bindKey:n("Ctrl-Up",null),exec:function(e){e.renderer.scrollBy(0,-2*e.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"scrolldown",bindKey:n("Ctrl-Down",null),exec:function(e){e.renderer.scrollBy(0,2*e.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"selectlinestart",bindKey:"Shift-Home",exec:function(e){e.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectlineend",bindKey:"Shift-End",exec:function(e){e.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"togglerecording",bindKey:n("Ctrl-Alt-E","Command-Option-E"),exec:function(e){e.commands.toggleRecording(e)},readOnly:!0},{name:"replaymacro",bindKey:n("Ctrl-Shift-E","Command-Shift-E"),exec:function(e){e.commands.replay(e)},readOnly:!0},{name:"jumptomatching",bindKey:n("Ctrl-P","Ctrl-P"),exec:function(e){e.jumpToMatching()},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"selecttomatching",bindKey:n("Ctrl-Shift-P","Ctrl-Shift-P"),exec:function(e){e.jumpToMatching(!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"expandToMatching",bindKey:n("Ctrl-Shift-M","Ctrl-Shift-M"),exec:function(e){e.jumpToMatching(!0,!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"passKeysToBrowser",bindKey:n(null,null),exec:function(){},passEvent:!0,readOnly:!0},{name:"copy",exec:function(e){},readOnly:!0},{name:"cut",exec:function(e){var t=e.getSelectionRange();e._emit("cut",t),e.selection.isEmpty()||(e.session.remove(t),e.clearSelection())},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"paste",exec:function(e,t){e.$handlePaste(t)},scrollIntoView:"cursor"},{name:"removeline",bindKey:n("Ctrl-D","Command-D"),exec:function(e){e.removeLines()},scrollIntoView:"cursor",multiSelectAction:"forEachLine"},{name:"duplicateSelection",bindKey:n("Ctrl-Shift-D","Command-Shift-D"),exec:function(e){e.duplicateSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"sortlines",bindKey:n("Ctrl-Alt-S","Command-Alt-S"),exec:function(e){e.sortLines()},scrollIntoView:"selection",multiSelectAction:"forEachLine"},{name:"togglecomment",bindKey:n("Ctrl-/","Command-/"),exec:function(e){e.toggleCommentLines()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"toggleBlockComment",bindKey:n("Ctrl-Shift-/","Command-Shift-/"),exec:function(e){e.toggleBlockComment()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"modifyNumberUp",bindKey:n("Ctrl-Shift-Up","Alt-Shift-Up"),exec:function(e){e.modifyNumber(1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"modifyNumberDown",bindKey:n("Ctrl-Shift-Down","Alt-Shift-Down"),exec:function(e){e.modifyNumber(-1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"replace",bindKey:n("Ctrl-H","Command-Option-F"),exec:function(e){r.loadModule("ace/ext/searchbox",function(t){t.Search(e,!0)})}},{name:"undo",bindKey:n("Ctrl-Z","Command-Z"),exec:function(e){e.undo()}},{name:"redo",bindKey:n("Ctrl-Shift-Z|Ctrl-Y","Command-Shift-Z|Command-Y"),exec:function(e){e.redo()}},{name:"copylinesup",bindKey:n("Alt-Shift-Up","Command-Option-Up"),exec:function(e){e.copyLinesUp()},scrollIntoView:"cursor"},{name:"movelinesup",bindKey:n("Alt-Up","Option-Up"),exec:function(e){e.moveLinesUp()},scrollIntoView:"cursor"},{name:"copylinesdown",bindKey:n("Alt-Shift-Down","Command-Option-Down"),exec:function(e){e.copyLinesDown()},scrollIntoView:"cursor"},{name:"movelinesdown",bindKey:n("Alt-Down","Option-Down"),exec:function(e){e.moveLinesDown()},scrollIntoView:"cursor"},{name:"del",bindKey:n("Delete","Delete|Ctrl-D|Shift-Delete"),exec:function(e){e.remove("right")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"backspace",bindKey:n("Shift-Backspace|Backspace","Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),exec:function(e){e.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"cut_or_delete",bindKey:n("Shift-Delete",null),exec:function(e){return!!e.selection.isEmpty()&&void e.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestart",bindKey:n("Alt-Backspace","Command-Backspace"),exec:function(e){e.removeToLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineend",bindKey:n("Alt-Delete","Ctrl-K"),exec:function(e){e.removeToLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordleft",bindKey:n("Ctrl-Backspace","Alt-Backspace|Ctrl-Alt-Backspace"),exec:function(e){e.removeWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordright",bindKey:n("Ctrl-Delete","Alt-Delete"),exec:function(e){e.removeWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"outdent",bindKey:n("Shift-Tab","Shift-Tab"),exec:function(e){e.blockOutdent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"indent",bindKey:n("Tab","Tab"),exec:function(e){e.indent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"blockoutdent",bindKey:n("Ctrl-[","Ctrl-["),exec:function(e){e.blockOutdent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"blockindent",bindKey:n("Ctrl-]","Ctrl-]"),exec:function(e){e.blockIndent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"insertstring",exec:function(e,t){e.insert(t)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"inserttext",exec:function(e,t){e.insert(s.stringRepeat(t.text||"",t.times||1))},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"splitline",bindKey:n(null,"Ctrl-O"),exec:function(e){e.splitLine()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"transposeletters",bindKey:n("Ctrl-T","Ctrl-T"),exec:function(e){e.transposeLetters()},multiSelectAction:function(e){e.transposeSelections(1)},scrollIntoView:"cursor"},{name:"touppercase",bindKey:n("Ctrl-U","Ctrl-U"),exec:function(e){e.toUpperCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"tolowercase",bindKey:n("Ctrl-Shift-U","Ctrl-Shift-U"),exec:function(e){e.toLowerCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"expandtoline",bindKey:n("Ctrl-Shift-L","Command-Shift-L"),exec:function(e){var t=e.selection.getRange();t.start.column=t.end.column=0,t.end.row++,e.selection.setRange(t,!1)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"joinlines",bindKey:n(null,null),exec:function(e){for(var t=e.selection.isBackwards(),i=t?e.selection.getSelectionLead():e.selection.getSelectionAnchor(),n=t?e.selection.getSelectionAnchor():e.selection.getSelectionLead(),r=e.session.doc.getLine(i.row).length,a=e.session.doc.getTextRange(e.selection.getRange()),l=a.replace(/\n\s*/," ").length,c=e.session.doc.getLine(i.row),u=i.row+1;u<=n.row+1;u++){var d=s.stringTrimLeft(s.stringTrimRight(e.session.doc.getLine(u)));0!==d.length&&(d=" "+d),c+=d}n.row+1<e.session.doc.getLength()-1&&(c+=e.session.doc.getNewLineCharacter()),e.clearSelection(),e.session.doc.replace(new o(i.row,0,n.row+2,0),c),l>0?(e.selection.moveCursorTo(i.row,i.column),e.selection.selectTo(i.row,i.column+l)):(r=e.session.doc.getLine(i.row).length>r?r+1:r,e.selection.moveCursorTo(i.row,r))},multiSelectAction:"forEach",readOnly:!0},{name:"invertSelection",bindKey:n(null,null),exec:function(e){var t=e.session.doc.getLength()-1,i=e.session.doc.getLine(t).length,n=e.selection.rangeList.ranges,s=[];n.length<1&&(n=[e.selection.getRange()]);for(var r=0;r<n.length;r++)r==n.length-1&&(n[r].end.row!==t||n[r].end.column!==i)&&s.push(new o(n[r].end.row,n[r].end.column,t,i)),0===r?(0!==n[r].start.row||0!==n[r].start.column)&&s.push(new o(0,0,n[r].start.row,n[r].start.column)):s.push(new o(n[r-1].end.row,n[r-1].end.column,n[r].start.row,n[r].start.column));e.exitMultiSelectMode(),e.clearSelection();for(var r=0;r<s.length;r++)e.selection.addRange(s[r],!1)},readOnly:!0,scrollIntoView:"none"}]}),ace.define("ace/editor",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/keyboard/textinput","ace/mouse/mouse_handler","ace/mouse/fold_handler","ace/keyboard/keybinding","ace/edit_session","ace/search","ace/range","ace/lib/event_emitter","ace/commands/command_manager","ace/commands/default_commands","ace/config","ace/token_iterator"],function(e,t,i){"use strict";e("./lib/fixoldbrowsers");var n=e("./lib/oop"),s=e("./lib/dom"),r=e("./lib/lang"),o=e("./lib/useragent"),a=e("./keyboard/textinput").TextInput,l=e("./mouse/mouse_handler").MouseHandler,c=e("./mouse/fold_handler").FoldHandler,u=e("./keyboard/keybinding").KeyBinding,d=e("./edit_session").EditSession,h=e("./search").Search,p=e("./range").Range,f=e("./lib/event_emitter").EventEmitter,g=e("./commands/command_manager").CommandManager,m=e("./commands/default_commands").commands,v=e("./config"),b=e("./token_iterator").TokenIterator,w=function(e,t){var i=e.getContainerElement();this.container=i,this.renderer=e,this.commands=new g(o.isMac?"mac":"win",m),this.textInput=new a(e.getTextAreaContainer(),this),this.renderer.textarea=this.textInput.getElement(),this.keyBinding=new u(this),this.$mouseHandler=new l(this),new c(this),this.$blockScrolling=0,this.$search=(new h).set({wrap:!0}),this.$historyTracker=this.$historyTracker.bind(this),this.commands.on("exec",this.$historyTracker),this.$initOperationListeners(),this._$emitInputEvent=r.delayedCall(function(){this._signal("input",{}),this.session&&this.session.bgTokenizer&&this.session.bgTokenizer.scheduleStart()}.bind(this)),this.on("change",function(e,t){t._$emitInputEvent.schedule(31)}),this.setSession(t||new d("")),v.resetOptions(this),v._signal("editor",this)};(function(){n.implement(this,f),this.$initOperationListeners=function(){this.selections=[],this.commands.on("exec",this.startOperation.bind(this),!0),this.commands.on("afterExec",this.endOperation.bind(this),!0),this.$opResetTimer=r.delayedCall(this.endOperation.bind(this)),this.on("change",function(){this.curOp||this.startOperation(),this.curOp.docChanged=!0}.bind(this),!0),this.on("changeSelection",function(){this.curOp||this.startOperation(),this.curOp.selectionChanged=!0}.bind(this),!0)},this.curOp=null,this.prevOp={},this.startOperation=function(e){if(this.curOp){if(!e||this.curOp.command)return;this.prevOp=this.curOp}e||(this.previousCommand=null,e={}),this.$opResetTimer.schedule(),this.curOp={command:e.command||{},args:e.args,scrollTop:this.renderer.scrollTop},this.curOp.command.name&&void 0!==this.curOp.command.scrollIntoView&&this.$blockScrolling++},this.endOperation=function(e){if(this.curOp){if(e&&e.returnValue===!1)return this.curOp=null;this._signal("beforeEndOperation");var t=this.curOp.command;t.name&&this.$blockScrolling>0&&this.$blockScrolling--;var i=t&&t.scrollIntoView;if(i){switch(i){case"center-animate":i="animate";case"center":this.renderer.scrollCursorIntoView(null,.5);break;case"animate":case"cursor":this.renderer.scrollCursorIntoView();break;case"selectionPart":var n=this.selection.getRange(),s=this.renderer.layerConfig;(n.start.row>=s.lastRow||n.end.row<=s.firstRow)&&this.renderer.scrollSelectionIntoView(this.selection.anchor,this.selection.lead)}"animate"==i&&this.renderer.animateScrolling(this.curOp.scrollTop)}this.prevOp=this.curOp,this.curOp=null}},this.$mergeableCommands=["backspace","del","insertstring"],this.$historyTracker=function(e){if(this.$mergeUndoDeltas){var t=this.prevOp,i=this.$mergeableCommands,n=t.command&&e.command.name==t.command.name;if("insertstring"==e.command.name){var s=e.args;void 0===this.mergeNextCommand&&(this.mergeNextCommand=!0),n=n&&this.mergeNextCommand&&(!/\s/.test(s)||/\s/.test(t.args)),this.mergeNextCommand=!0}else n=n&&i.indexOf(e.command.name)!==-1;"always"!=this.$mergeUndoDeltas&&Date.now()-this.sequenceStartTime>2e3&&(n=!1),n?this.session.mergeUndoDeltas=!0:i.indexOf(e.command.name)!==-1&&(this.sequenceStartTime=Date.now())}},this.setKeyboardHandler=function(e,t){if(e&&"string"==typeof e){this.$keybindingId=e;var i=this;v.loadModule(["keybinding",e],function(n){i.$keybindingId==e&&i.keyBinding.setKeyboardHandler(n&&n.handler),t&&t()})}else this.$keybindingId=null,this.keyBinding.setKeyboardHandler(e),t&&t()},this.getKeyboardHandler=function(){return this.keyBinding.getKeyboardHandler()},this.setSession=function(e){if(this.session!=e){this.curOp&&this.endOperation(),this.curOp={};var t=this.session;if(t){this.session.off("change",this.$onDocumentChange),this.session.off("changeMode",this.$onChangeMode),this.session.off("tokenizerUpdate",this.$onTokenizerUpdate),this.session.off("changeTabSize",this.$onChangeTabSize),this.session.off("changeWrapLimit",this.$onChangeWrapLimit),this.session.off("changeWrapMode",this.$onChangeWrapMode),this.session.off("changeFold",this.$onChangeFold),this.session.off("changeFrontMarker",this.$onChangeFrontMarker),this.session.off("changeBackMarker",this.$onChangeBackMarker),this.session.off("changeBreakpoint",this.$onChangeBreakpoint),this.session.off("changeAnnotation",this.$onChangeAnnotation),this.session.off("changeOverwrite",this.$onCursorChange),this.session.off("changeScrollTop",this.$onScrollTopChange),this.session.off("changeScrollLeft",this.$onScrollLeftChange);var i=this.session.getSelection();i.off("changeCursor",this.$onCursorChange),i.off("changeSelection",this.$onSelectionChange)}this.session=e,e?(this.$onDocumentChange=this.onDocumentChange.bind(this),e.on("change",this.$onDocumentChange),this.renderer.setSession(e),this.$onChangeMode=this.onChangeMode.bind(this),e.on("changeMode",this.$onChangeMode),this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this),e.on("tokenizerUpdate",this.$onTokenizerUpdate),this.$onChangeTabSize=this.renderer.onChangeTabSize.bind(this.renderer),e.on("changeTabSize",this.$onChangeTabSize),this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this),e.on("changeWrapLimit",this.$onChangeWrapLimit),this.$onChangeWrapMode=this.onChangeWrapMode.bind(this),e.on("changeWrapMode",this.$onChangeWrapMode),this.$onChangeFold=this.onChangeFold.bind(this),e.on("changeFold",this.$onChangeFold),this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this),this.session.on("changeFrontMarker",this.$onChangeFrontMarker),this.$onChangeBackMarker=this.onChangeBackMarker.bind(this),this.session.on("changeBackMarker",this.$onChangeBackMarker),this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this),this.session.on("changeBreakpoint",this.$onChangeBreakpoint),this.$onChangeAnnotation=this.onChangeAnnotation.bind(this),this.session.on("changeAnnotation",this.$onChangeAnnotation),this.$onCursorChange=this.onCursorChange.bind(this),this.session.on("changeOverwrite",this.$onCursorChange),this.$onScrollTopChange=this.onScrollTopChange.bind(this),this.session.on("changeScrollTop",this.$onScrollTopChange),this.$onScrollLeftChange=this.onScrollLeftChange.bind(this),this.session.on("changeScrollLeft",this.$onScrollLeftChange),this.selection=e.getSelection(),this.selection.on("changeCursor",this.$onCursorChange),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.onChangeMode(),this.$blockScrolling+=1,this.onCursorChange(),this.$blockScrolling-=1,this.onScrollTopChange(),this.onScrollLeftChange(),this.onSelectionChange(),this.onChangeFrontMarker(),this.onChangeBackMarker(),this.onChangeBreakpoint(),this.onChangeAnnotation(),this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit(),this.renderer.updateFull()):(this.selection=null,this.renderer.setSession(e)),this._signal("changeSession",{session:e,oldSession:t}),this.curOp=null,t&&t._signal("changeEditor",{oldEditor:this}),e&&e._signal("changeEditor",{editor:this})}},this.getSession=function(){return this.session},this.setValue=function(e,t){return this.session.doc.setValue(e),t?1==t?this.navigateFileEnd():t==-1&&this.navigateFileStart():this.selectAll(),e},this.getValue=function(){return this.session.getValue()},this.getSelection=function(){return this.selection},this.resize=function(e){this.renderer.onResize(e)},this.setTheme=function(e,t){this.renderer.setTheme(e,t)},this.getTheme=function(){return this.renderer.getTheme()},this.setStyle=function(e){this.renderer.setStyle(e)},this.unsetStyle=function(e){this.renderer.unsetStyle(e)},this.getFontSize=function(){return this.getOption("fontSize")||s.computedStyle(this.container,"fontSize")},this.setFontSize=function(e){this.setOption("fontSize",e)},this.$highlightBrackets=function(){if(this.session.$bracketHighlight&&(this.session.removeMarker(this.session.$bracketHighlight),this.session.$bracketHighlight=null),!this.$highlightPending){var e=this;this.$highlightPending=!0,setTimeout(function(){e.$highlightPending=!1;var t=e.session;if(t&&t.bgTokenizer){var i=t.findMatchingBracket(e.getCursorPosition());if(i)var n=new p(i.row,i.column,i.row,i.column+1);else if(t.$mode.getMatching)var n=t.$mode.getMatching(e.session);
n&&(t.$bracketHighlight=t.addMarker(n,"ace_bracket","text"))}},50)}},this.$highlightTags=function(){if(!this.$highlightTagPending){var e=this;this.$highlightTagPending=!0,setTimeout(function(){e.$highlightTagPending=!1;var t=e.session;if(t&&t.bgTokenizer){var i=e.getCursorPosition(),n=new b(e.session,i.row,i.column),s=n.getCurrentToken();if(!s||!/\b(?:tag-open|tag-name)/.test(s.type))return t.removeMarker(t.$tagHighlight),void(t.$tagHighlight=null);if(s.type.indexOf("tag-open")==-1||(s=n.stepForward())){var r=s.value,o=0,a=n.stepBackward();if("<"==a.value){do a=s,s=n.stepForward(),s&&s.value===r&&s.type.indexOf("tag-name")!==-1&&("<"===a.value?o++:"</"===a.value&&o--);while(s&&o>=0)}else{do s=a,a=n.stepBackward(),s&&s.value===r&&s.type.indexOf("tag-name")!==-1&&("<"===a.value?o++:"</"===a.value&&o--);while(a&&o<=0);n.stepForward()}if(!s)return t.removeMarker(t.$tagHighlight),void(t.$tagHighlight=null);var l=n.getCurrentTokenRow(),c=n.getCurrentTokenColumn(),u=new p(l,c,l,c+s.value.length);t.$tagHighlight&&0!==u.compareRange(t.$backMarkers[t.$tagHighlight].range)&&(t.removeMarker(t.$tagHighlight),t.$tagHighlight=null),u&&!t.$tagHighlight&&(t.$tagHighlight=t.addMarker(u,"ace_bracket","text"))}}},50)}},this.focus=function(){var e=this;setTimeout(function(){e.textInput.focus()}),this.textInput.focus()},this.isFocused=function(){return this.textInput.isFocused()},this.blur=function(){this.textInput.blur()},this.onFocus=function(e){this.$isFocused||(this.$isFocused=!0,this.renderer.showCursor(),this.renderer.visualizeFocus(),this._emit("focus",e))},this.onBlur=function(e){this.$isFocused&&(this.$isFocused=!1,this.renderer.hideCursor(),this.renderer.visualizeBlur(),this._emit("blur",e))},this.$cursorChange=function(){this.renderer.updateCursor()},this.onDocumentChange=function(e){var t=this.session.$useWrapMode,i=e.start.row==e.end.row?e.end.row:1/0;this.renderer.updateLines(e.start.row,i,t),this._signal("change",e),this.$cursorChange(),this.$updateHighlightActiveLine()},this.onTokenizerUpdate=function(e){var t=e.data;this.renderer.updateLines(t.first,t.last)},this.onScrollTopChange=function(){this.renderer.scrollToY(this.session.getScrollTop())},this.onScrollLeftChange=function(){this.renderer.scrollToX(this.session.getScrollLeft())},this.onCursorChange=function(){this.$cursorChange(),this.$blockScrolling||(v.warn("Automatically scrolling cursor into view after selection change","this will be disabled in the next version","set editor.$blockScrolling = Infinity to disable this message"),this.renderer.scrollCursorIntoView()),this.$highlightBrackets(),this.$highlightTags(),this.$updateHighlightActiveLine(),this._signal("changeSelection")},this.$updateHighlightActiveLine=function(){var e,t=this.getSession();if(this.$highlightActiveLine&&("line"==this.$selectionStyle&&this.selection.isMultiLine()||(e=this.getCursorPosition()),this.renderer.$maxLines&&1===this.session.getLength()&&!(this.renderer.$minLines>1)&&(e=!1)),t.$highlightLineMarker&&!e)t.removeMarker(t.$highlightLineMarker.id),t.$highlightLineMarker=null;else if(!t.$highlightLineMarker&&e){var i=new p(e.row,e.column,e.row,1/0);i.id=t.addMarker(i,"ace_active-line","screenLine"),t.$highlightLineMarker=i}else e&&(t.$highlightLineMarker.start.row=e.row,t.$highlightLineMarker.end.row=e.row,t.$highlightLineMarker.start.column=e.column,t._signal("changeBackMarker"))},this.onSelectionChange=function(e){var t=this.session;if(t.$selectionMarker&&t.removeMarker(t.$selectionMarker),t.$selectionMarker=null,this.selection.isEmpty())this.$updateHighlightActiveLine();else{var i=this.selection.getRange(),n=this.getSelectionStyle();t.$selectionMarker=t.addMarker(i,"ace_selection",n)}var s=this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp();this.session.highlight(s),this._signal("changeSelection")},this.$getSelectionHighLightRegexp=function(){var e=this.session,t=this.getSelectionRange();if(!t.isEmpty()&&!t.isMultiLine()){var i=t.start.column-1,n=t.end.column+1,s=e.getLine(t.start.row),r=s.length,o=s.substring(Math.max(i,0),Math.min(n,r));if(!(i>=0&&/^[\w\d]/.test(o)||n<=r&&/[\w\d]$/.test(o))&&(o=s.substring(t.start.column,t.end.column),/^[\w\d]+$/.test(o))){var a=this.$search.$assembleRegExp({wholeWord:!0,caseSensitive:!0,needle:o});return a}}},this.onChangeFrontMarker=function(){this.renderer.updateFrontMarkers()},this.onChangeBackMarker=function(){this.renderer.updateBackMarkers()},this.onChangeBreakpoint=function(){this.renderer.updateBreakpoints()},this.onChangeAnnotation=function(){this.renderer.setAnnotations(this.session.getAnnotations())},this.onChangeMode=function(e){this.renderer.updateText(),this._emit("changeMode",e)},this.onChangeWrapLimit=function(){this.renderer.updateFull()},this.onChangeWrapMode=function(){this.renderer.onResize(!0)},this.onChangeFold=function(){this.$updateHighlightActiveLine(),this.renderer.updateFull()},this.getSelectedText=function(){return this.session.getTextRange(this.getSelectionRange())},this.getCopyText=function(){var e=this.getSelectedText();return this._signal("copy",e),e},this.onCopy=function(){this.commands.exec("copy",this)},this.onCut=function(){this.commands.exec("cut",this)},this.onPaste=function(e,t){var i={text:e,event:t};this.commands.exec("paste",this,i)},this.$handlePaste=function(e){"string"==typeof e&&(e={text:e}),this._signal("paste",e);var t=e.text;if(!this.inMultiSelectMode||this.inVirtualSelectionMode)this.insert(t);else{var i=t.split(/\r\n|\r|\n/),n=this.selection.rangeList.ranges;if(i.length>n.length||i.length<2||!i[1])return this.commands.exec("insertstring",this,t);for(var s=n.length;s--;){var r=n[s];r.isEmpty()||this.session.remove(r),this.session.insert(r.start,i[s])}}},this.execCommand=function(e,t){return this.commands.exec(e,this,t)},this.insert=function(e,t){var i=this.session,n=i.getMode(),s=this.getCursorPosition();if(this.getBehavioursEnabled()&&!t){var r=n.transformAction(i.getState(s.row),"insertion",this,i,e);r&&(e!==r.text&&(this.session.mergeUndoDeltas=!1,this.$mergeNextCommand=!1),e=r.text)}if("\t"==e&&(e=this.session.getTabString()),this.selection.isEmpty()){if(this.session.getOverwrite()){var o=new p.fromPoints(s,s);o.end.column+=e.length,this.session.remove(o)}}else{var o=this.getSelectionRange();s=this.session.remove(o),this.clearSelection()}if("\n"==e||"\r\n"==e){var a=i.getLine(s.row);if(s.column>a.search(/\S|$/)){var l=a.substr(s.column).search(/\S|$/);i.doc.removeInLine(s.row,s.column,s.column+l)}}this.clearSelection();var c=s.column,u=i.getState(s.row),a=i.getLine(s.row),d=n.checkOutdent(u,a,e);i.insert(s,e);if(r&&r.selection&&(2==r.selection.length?this.selection.setSelectionRange(new p(s.row,c+r.selection[0],s.row,c+r.selection[1])):this.selection.setSelectionRange(new p(s.row+r.selection[0],r.selection[1],s.row+r.selection[2],r.selection[3]))),i.getDocument().isNewLine(e)){var h=n.getNextLineIndent(u,a.slice(0,s.column),i.getTabString());i.insert({row:s.row+1,column:0},h)}d&&n.autoOutdent(u,i,s.row)},this.onTextInput=function(e){this.keyBinding.onTextInput(e)},this.onCommandKey=function(e,t,i){this.keyBinding.onCommandKey(e,t,i)},this.setOverwrite=function(e){this.session.setOverwrite(e)},this.getOverwrite=function(){return this.session.getOverwrite()},this.toggleOverwrite=function(){this.session.toggleOverwrite()},this.setScrollSpeed=function(e){this.setOption("scrollSpeed",e)},this.getScrollSpeed=function(){return this.getOption("scrollSpeed")},this.setDragDelay=function(e){this.setOption("dragDelay",e)},this.getDragDelay=function(){return this.getOption("dragDelay")},this.setSelectionStyle=function(e){this.setOption("selectionStyle",e)},this.getSelectionStyle=function(){return this.getOption("selectionStyle")},this.setHighlightActiveLine=function(e){this.setOption("highlightActiveLine",e)},this.getHighlightActiveLine=function(){return this.getOption("highlightActiveLine")},this.setHighlightGutterLine=function(e){this.setOption("highlightGutterLine",e)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.setHighlightSelectedWord=function(e){this.setOption("highlightSelectedWord",e)},this.getHighlightSelectedWord=function(){return this.$highlightSelectedWord},this.setAnimatedScroll=function(e){this.renderer.setAnimatedScroll(e)},this.getAnimatedScroll=function(){return this.renderer.getAnimatedScroll()},this.setShowInvisibles=function(e){this.renderer.setShowInvisibles(e)},this.getShowInvisibles=function(){return this.renderer.getShowInvisibles()},this.setDisplayIndentGuides=function(e){this.renderer.setDisplayIndentGuides(e)},this.getDisplayIndentGuides=function(){return this.renderer.getDisplayIndentGuides()},this.setShowPrintMargin=function(e){this.renderer.setShowPrintMargin(e)},this.getShowPrintMargin=function(){return this.renderer.getShowPrintMargin()},this.setPrintMarginColumn=function(e){this.renderer.setPrintMarginColumn(e)},this.getPrintMarginColumn=function(){return this.renderer.getPrintMarginColumn()},this.setReadOnly=function(e){this.setOption("readOnly",e)},this.getReadOnly=function(){return this.getOption("readOnly")},this.setBehavioursEnabled=function(e){this.setOption("behavioursEnabled",e)},this.getBehavioursEnabled=function(){return this.getOption("behavioursEnabled")},this.setWrapBehavioursEnabled=function(e){this.setOption("wrapBehavioursEnabled",e)},this.getWrapBehavioursEnabled=function(){return this.getOption("wrapBehavioursEnabled")},this.setShowFoldWidgets=function(e){this.setOption("showFoldWidgets",e)},this.getShowFoldWidgets=function(){return this.getOption("showFoldWidgets")},this.setFadeFoldWidgets=function(e){this.setOption("fadeFoldWidgets",e)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.remove=function(e){this.selection.isEmpty()&&("left"==e?this.selection.selectLeft():this.selection.selectRight());var t=this.getSelectionRange();if(this.getBehavioursEnabled()){var i=this.session,n=i.getState(t.start.row),s=i.getMode().transformAction(n,"deletion",this,i,t);if(0===t.end.column){var r=i.getTextRange(t);if("\n"==r[r.length-1]){var o=i.getLine(t.end.row);/^\s+$/.test(o)&&(t.end.column=o.length)}}s&&(t=s)}this.session.remove(t),this.clearSelection()},this.removeWordRight=function(){this.selection.isEmpty()&&this.selection.selectWordRight(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeWordLeft=function(){this.selection.isEmpty()&&this.selection.selectWordLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineStart=function(){this.selection.isEmpty()&&this.selection.selectLineStart(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineEnd=function(){this.selection.isEmpty()&&this.selection.selectLineEnd();var e=this.getSelectionRange();e.start.column==e.end.column&&e.start.row==e.end.row&&(e.end.column=0,e.end.row++),this.session.remove(e),this.clearSelection()},this.splitLine=function(){this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),this.clearSelection());var e=this.getCursorPosition();this.insert("\n"),this.moveCursorToPosition(e)},this.transposeLetters=function(){if(this.selection.isEmpty()){var e=this.getCursorPosition(),t=e.column;if(0!==t){var i,n,s=this.session.getLine(e.row);t<s.length?(i=s.charAt(t)+s.charAt(t-1),n=new p(e.row,t-1,e.row,t+1)):(i=s.charAt(t-1)+s.charAt(t-2),n=new p(e.row,t-2,e.row,t)),this.session.replace(n,i)}}},this.toLowerCase=function(){var e=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var t=this.getSelectionRange(),i=this.session.getTextRange(t);this.session.replace(t,i.toLowerCase()),this.selection.setSelectionRange(e)},this.toUpperCase=function(){var e=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var t=this.getSelectionRange(),i=this.session.getTextRange(t);this.session.replace(t,i.toUpperCase()),this.selection.setSelectionRange(e)},this.indent=function(){var e=this.session,t=this.getSelectionRange();if(t.start.row<t.end.row){var i=this.$getSelectedRows();return void e.indentRows(i.first,i.last,"\t")}if(t.start.column<t.end.column){var n=e.getTextRange(t);if(!/^\s+$/.test(n)){var i=this.$getSelectedRows();return void e.indentRows(i.first,i.last,"\t")}}var s=e.getLine(t.start.row),o=t.start,a=e.getTabSize(),l=e.documentToScreenColumn(o.row,o.column);if(this.session.getUseSoftTabs())var c=a-l%a,u=r.stringRepeat(" ",c);else{for(var c=l%a;" "==s[t.start.column]&&c;)t.start.column--,c--;this.selection.setSelectionRange(t),u="\t"}return this.insert(u)},this.blockIndent=function(){var e=this.$getSelectedRows();this.session.indentRows(e.first,e.last,"\t")},this.blockOutdent=function(){var e=this.session.getSelection();this.session.outdentRows(e.getRange())},this.sortLines=function(){var e=this.$getSelectedRows(),t=this.session,i=[];for(s=e.first;s<=e.last;s++)i.push(t.getLine(s));i.sort(function(e,t){return e.toLowerCase()<t.toLowerCase()?-1:e.toLowerCase()>t.toLowerCase()?1:0});for(var n=new p(0,0,0,0),s=e.first;s<=e.last;s++){var r=t.getLine(s);n.start.row=s,n.end.row=s,n.end.column=r.length,t.replace(n,i[s-e.first])}},this.toggleCommentLines=function(){var e=this.session.getState(this.getCursorPosition().row),t=this.$getSelectedRows();this.session.getMode().toggleCommentLines(e,this.session,t.first,t.last)},this.toggleBlockComment=function(){var e=this.getCursorPosition(),t=this.session.getState(e.row),i=this.getSelectionRange();this.session.getMode().toggleBlockComment(t,this.session,i,e)},this.getNumberAt=function(e,t){var i=/[\-]?[0-9]+(?:\.[0-9]+)?/g;i.lastIndex=0;for(var n=this.session.getLine(e);i.lastIndex<t;){var s=i.exec(n);if(s.index<=t&&s.index+s[0].length>=t){var r={value:s[0],start:s.index,end:s.index+s[0].length};return r}}return null},this.modifyNumber=function(e){var t=this.selection.getCursor().row,i=this.selection.getCursor().column,n=new p(t,i-1,t,i),s=this.session.getTextRange(n);if(!isNaN(parseFloat(s))&&isFinite(s)){var r=this.getNumberAt(t,i);if(r){var o=r.value.indexOf(".")>=0?r.start+r.value.indexOf(".")+1:r.end,a=r.start+r.value.length-o,l=parseFloat(r.value);l*=Math.pow(10,a),e*=o!==r.end&&i<o?Math.pow(10,r.end-i-1):Math.pow(10,r.end-i),l+=e,l/=Math.pow(10,a);var c=l.toFixed(a),u=new p(t,r.start,t,r.end);this.session.replace(u,c),this.moveCursorTo(t,Math.max(r.start+1,i+c.length-r.value.length))}}},this.removeLines=function(){var e=this.$getSelectedRows();this.session.removeFullLines(e.first,e.last),this.clearSelection()},this.duplicateSelection=function(){var e=this.selection,t=this.session,i=e.getRange(),n=e.isBackwards();if(i.isEmpty()){var s=i.start.row;t.duplicateLines(s,s)}else{var r=n?i.start:i.end,o=t.insert(r,t.getTextRange(i),!1);i.start=r,i.end=o,e.setSelectionRange(i,n)}},this.moveLinesDown=function(){this.$moveLines(1,!1)},this.moveLinesUp=function(){this.$moveLines(-1,!1)},this.moveText=function(e,t,i){return this.session.moveText(e,t,i)},this.copyLinesUp=function(){this.$moveLines(-1,!0)},this.copyLinesDown=function(){this.$moveLines(1,!0)},this.$moveLines=function(e,t){var i,n,s=this.selection;if(!s.inMultiSelectMode||this.inVirtualSelectionMode){var r=s.toOrientedRange();i=this.$getSelectedRows(r),n=this.session.$moveLines(i.first,i.last,t?0:e),t&&e==-1&&(n=0),r.moveBy(n,0),s.fromOrientedRange(r)}else{var o=s.rangeList.ranges;s.rangeList.detach(this.session),this.inVirtualSelectionMode=!0;for(var a=0,l=0,c=o.length,u=0;u<c;u++){var d=u;o[u].moveBy(a,0),i=this.$getSelectedRows(o[u]);for(var h=i.first,p=i.last;++u<c;){l&&o[u].moveBy(l,0);var f=this.$getSelectedRows(o[u]);if(t&&f.first!=p)break;if(!t&&f.first>p+1)break;p=f.last}for(u--,a=this.session.$moveLines(h,p,t?0:e),t&&e==-1&&(d=u+1);d<=u;)o[d].moveBy(a,0),d++;t||(a=0),l+=a}s.fromOrientedRange(s.ranges[0]),s.rangeList.attach(this.session),this.inVirtualSelectionMode=!1}},this.$getSelectedRows=function(e){return e=(e||this.getSelectionRange()).collapseRows(),{first:this.session.getRowFoldStart(e.start.row),last:this.session.getRowFoldEnd(e.end.row)}},this.onCompositionStart=function(e){this.renderer.showComposition(this.getCursorPosition())},this.onCompositionUpdate=function(e){this.renderer.setCompositionText(e)},this.onCompositionEnd=function(){this.renderer.hideComposition()},this.getFirstVisibleRow=function(){return this.renderer.getFirstVisibleRow()},this.getLastVisibleRow=function(){return this.renderer.getLastVisibleRow()},this.isRowVisible=function(e){return e>=this.getFirstVisibleRow()&&e<=this.getLastVisibleRow()},this.isRowFullyVisible=function(e){return e>=this.renderer.getFirstFullyVisibleRow()&&e<=this.renderer.getLastFullyVisibleRow()},this.$getVisibleRowCount=function(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1},this.$moveByPage=function(e,t){var i=this.renderer,n=this.renderer.layerConfig,s=e*Math.floor(n.height/n.lineHeight);this.$blockScrolling++,t===!0?this.selection.$moveSelection(function(){this.moveCursorBy(s,0)}):t===!1&&(this.selection.moveCursorBy(s,0),this.selection.clearSelection()),this.$blockScrolling--;var r=i.scrollTop;i.scrollBy(0,s*n.lineHeight),null!=t&&i.scrollCursorIntoView(null,.5),i.animateScrolling(r)},this.selectPageDown=function(){this.$moveByPage(1,!0)},this.selectPageUp=function(){this.$moveByPage(-1,!0)},this.gotoPageDown=function(){this.$moveByPage(1,!1)},this.gotoPageUp=function(){this.$moveByPage(-1,!1)},this.scrollPageDown=function(){this.$moveByPage(1)},this.scrollPageUp=function(){this.$moveByPage(-1)},this.scrollToRow=function(e){this.renderer.scrollToRow(e)},this.scrollToLine=function(e,t,i,n){this.renderer.scrollToLine(e,t,i,n)},this.centerSelection=function(){var e=this.getSelectionRange(),t={row:Math.floor(e.start.row+(e.end.row-e.start.row)/2),column:Math.floor(e.start.column+(e.end.column-e.start.column)/2)};this.renderer.alignCursor(t,.5)},this.getCursorPosition=function(){return this.selection.getCursor()},this.getCursorPositionScreen=function(){return this.session.documentToScreenPosition(this.getCursorPosition())},this.getSelectionRange=function(){return this.selection.getRange()},this.selectAll=function(){this.$blockScrolling+=1,this.selection.selectAll(),this.$blockScrolling-=1},this.clearSelection=function(){this.selection.clearSelection()},this.moveCursorTo=function(e,t){this.selection.moveCursorTo(e,t)},this.moveCursorToPosition=function(e){this.selection.moveCursorToPosition(e)},this.jumpToMatching=function(e,t){var i=this.getCursorPosition(),n=new b(this.session,i.row,i.column),s=n.getCurrentToken(),r=s||n.stepForward();if(r){var o,a,l=!1,c={},u=i.column-r.start,d={")":"(","(":"(","]":"[","[":"[","{":"{","}":"{"};do{if(r.value.match(/[{}()\[\]]/g)){for(;u<r.value.length&&!l;u++)if(d[r.value[u]])switch(a=d[r.value[u]]+"."+r.type.replace("rparen","lparen"),isNaN(c[a])&&(c[a]=0),r.value[u]){case"(":case"[":case"{":c[a]++;break;case")":case"]":case"}":c[a]--,c[a]===-1&&(o="bracket",l=!0)}}else r&&r.type.indexOf("tag-name")!==-1&&(isNaN(c[r.value])&&(c[r.value]=0),"<"===s.value?c[r.value]++:"</"===s.value&&c[r.value]--,c[r.value]===-1&&(o="tag",l=!0));l||(s=r,r=n.stepForward(),u=0)}while(r&&!l);if(o){var h,f;if("bracket"===o)h=this.session.getBracketRange(i),h||(h=new p(n.getCurrentTokenRow(),n.getCurrentTokenColumn()+u-1,n.getCurrentTokenRow(),n.getCurrentTokenColumn()+u-1),f=h.start,(t||f.row===i.row&&Math.abs(f.column-i.column)<2)&&(h=this.session.getBracketRange(f)));else if("tag"===o){if(!r||r.type.indexOf("tag-name")===-1)return;var g=r.value;if(h=new p(n.getCurrentTokenRow(),n.getCurrentTokenColumn()-2,n.getCurrentTokenRow(),n.getCurrentTokenColumn()-2),0===h.compare(i.row,i.column)){l=!1;do r=s,s=n.stepBackward(),s&&(s.type.indexOf("tag-close")!==-1&&h.setEnd(n.getCurrentTokenRow(),n.getCurrentTokenColumn()+1),r.value===g&&r.type.indexOf("tag-name")!==-1&&("<"===s.value?c[g]++:"</"===s.value&&c[g]--,0===c[g]&&(l=!0)));while(s&&!l)}r&&r.type.indexOf("tag-name")&&(f=h.start,f.row==i.row&&Math.abs(f.column-i.column)<2&&(f=h.end))}f=h&&h.cursor||f,f&&(e?h&&t?this.selection.setRange(h):h&&h.isEqual(this.getSelectionRange())?this.clearSelection():this.selection.selectTo(f.row,f.column):this.selection.moveTo(f.row,f.column))}}},this.gotoLine=function(e,t,i){this.selection.clearSelection(),this.session.unfold({row:e-1,column:t||0}),this.$blockScrolling+=1,this.exitMultiSelectMode&&this.exitMultiSelectMode(),this.moveCursorTo(e-1,t||0),this.$blockScrolling-=1,this.isRowFullyVisible(e-1)||this.scrollToLine(e-1,!0,i)},this.navigateTo=function(e,t){this.selection.moveTo(e,t)},this.navigateUp=function(e){if(this.selection.isMultiLine()&&!this.selection.isBackwards()){var t=this.selection.anchor.getPosition();return this.moveCursorToPosition(t)}this.selection.clearSelection(),this.selection.moveCursorBy(-e||-1,0)},this.navigateDown=function(e){if(this.selection.isMultiLine()&&this.selection.isBackwards()){var t=this.selection.anchor.getPosition();return this.moveCursorToPosition(t)}this.selection.clearSelection(),this.selection.moveCursorBy(e||1,0)},this.navigateLeft=function(e){if(this.selection.isEmpty())for(e=e||1;e--;)this.selection.moveCursorLeft();else{var t=this.getSelectionRange().start;this.moveCursorToPosition(t)}this.clearSelection()},this.navigateRight=function(e){if(this.selection.isEmpty())for(e=e||1;e--;)this.selection.moveCursorRight();else{var t=this.getSelectionRange().end;this.moveCursorToPosition(t)}this.clearSelection()},this.navigateLineStart=function(){this.selection.moveCursorLineStart(),this.clearSelection()},this.navigateLineEnd=function(){this.selection.moveCursorLineEnd(),this.clearSelection()},this.navigateFileEnd=function(){this.selection.moveCursorFileEnd(),this.clearSelection()},this.navigateFileStart=function(){this.selection.moveCursorFileStart(),this.clearSelection()},this.navigateWordRight=function(){this.selection.moveCursorWordRight(),this.clearSelection()},this.navigateWordLeft=function(){this.selection.moveCursorWordLeft(),this.clearSelection()},this.replace=function(e,t){t&&this.$search.set(t);var i=this.$search.find(this.session),n=0;return i?(this.$tryReplace(i,e)&&(n=1),null!==i&&(this.selection.setSelectionRange(i),this.renderer.scrollSelectionIntoView(i.start,i.end)),n):n},this.replaceAll=function(e,t){t&&this.$search.set(t);var i=this.$search.findAll(this.session),n=0;if(!i.length)return n;this.$blockScrolling+=1;var s=this.getSelectionRange();this.selection.moveTo(0,0);for(var r=i.length-1;r>=0;--r)this.$tryReplace(i[r],e)&&n++;return this.selection.setSelectionRange(s),this.$blockScrolling-=1,n},this.$tryReplace=function(e,t){var i=this.session.getTextRange(e);return t=this.$search.replace(i,t),null!==t?(e.end=this.session.replace(e,t),e):null},this.getLastSearchOptions=function(){return this.$search.getOptions()},this.find=function(e,t,i){t||(t={}),"string"==typeof e||e instanceof RegExp?t.needle=e:"object"==typeof e&&n.mixin(t,e);var s=this.selection.getRange();null==t.needle&&(e=this.session.getTextRange(s)||this.$search.$options.needle,e||(s=this.session.getWordRange(s.start.row,s.start.column),e=this.session.getTextRange(s)),this.$search.set({needle:e})),this.$search.set(t),t.start||this.$search.set({start:s});var r=this.$search.find(this.session);return t.preventScroll?r:r?(this.revealRange(r,i),r):(t.backwards?s.start=s.end:s.end=s.start,void this.selection.setRange(s))},this.findNext=function(e,t){this.find({skipCurrent:!0,backwards:!1},e,t)},this.findPrevious=function(e,t){this.find(e,{skipCurrent:!0,backwards:!0},t)},this.revealRange=function(e,t){this.$blockScrolling+=1,this.session.unfold(e),this.selection.setSelectionRange(e),this.$blockScrolling-=1;var i=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView(e.start,e.end,.5),t!==!1&&this.renderer.animateScrolling(i)},this.undo=function(){this.$blockScrolling++,this.session.getUndoManager().undo(),this.$blockScrolling--,this.renderer.scrollCursorIntoView(null,.5)},this.redo=function(){this.$blockScrolling++,this.session.getUndoManager().redo(),this.$blockScrolling--,this.renderer.scrollCursorIntoView(null,.5)},this.destroy=function(){this.renderer.destroy(),this._signal("destroy",this),this.session&&this.session.destroy()},this.setAutoScrollEditorIntoView=function(e){if(e){var t,i=this,n=!1;this.$scrollAnchor||(this.$scrollAnchor=document.createElement("div"));var s=this.$scrollAnchor;s.style.cssText="position:absolute",this.container.insertBefore(s,this.container.firstChild);var r=this.on("changeSelection",function(){n=!0}),o=this.renderer.on("beforeRender",function(){n&&(t=i.renderer.container.getBoundingClientRect())}),a=this.renderer.on("afterRender",function(){if(n&&t&&(i.isFocused()||i.searchBox&&i.searchBox.isFocused())){var e=i.renderer,r=e.$cursorLayer.$pixelPos,o=e.layerConfig,a=r.top-o.offset;n=r.top>=0&&a+t.top<0||!(r.top<o.height&&r.top+t.top+o.lineHeight>window.innerHeight)&&null,null!=n&&(s.style.top=a+"px",s.style.left=r.left+"px",s.style.height=o.lineHeight+"px",s.scrollIntoView(n)),n=t=null}});this.setAutoScrollEditorIntoView=function(e){e||(delete this.setAutoScrollEditorIntoView,this.off("changeSelection",r),this.renderer.off("afterRender",a),this.renderer.off("beforeRender",o))}}},this.$resetCursorStyle=function(){var e=this.$cursorStyle||"ace",t=this.renderer.$cursorLayer;t&&(t.setSmoothBlinking(/smooth/.test(e)),t.isBlinking=!this.$readOnly&&"wide"!=e,s.setCssClass(t.element,"ace_slim-cursors",/slim/.test(e)))}}).call(w.prototype),v.defineOptions(w.prototype,"editor",{selectionStyle:{set:function(e){this.onSelectionChange(),this._signal("changeSelectionStyle",{data:e})},initialValue:"line"},highlightActiveLine:{set:function(){this.$updateHighlightActiveLine()},initialValue:!0},highlightSelectedWord:{set:function(e){this.$onSelectionChange()},initialValue:!0},readOnly:{set:function(e){this.$resetCursorStyle()},initialValue:!1},cursorStyle:{set:function(e){this.$resetCursorStyle()},values:["ace","slim","smooth","wide"],initialValue:"ace"},mergeUndoDeltas:{values:[!1,!0,"always"],initialValue:!0},behavioursEnabled:{initialValue:!0},wrapBehavioursEnabled:{initialValue:!0},autoScrollEditorIntoView:{set:function(e){this.setAutoScrollEditorIntoView(e)}},keyboardHandler:{set:function(e){this.setKeyboardHandler(e)},get:function(){return this.keybindingId},handlesSet:!0},hScrollBarAlwaysVisible:"renderer",vScrollBarAlwaysVisible:"renderer",highlightGutterLine:"renderer",animatedScroll:"renderer",showInvisibles:"renderer",showPrintMargin:"renderer",printMarginColumn:"renderer",printMargin:"renderer",fadeFoldWidgets:"renderer",showFoldWidgets:"renderer",showLineNumbers:"renderer",showGutter:"renderer",displayIndentGuides:"renderer",fontSize:"renderer",fontFamily:"renderer",maxLines:"renderer",minLines:"renderer",scrollPastEnd:"renderer",fixedWidthGutter:"renderer",theme:"renderer",scrollSpeed:"$mouseHandler",dragDelay:"$mouseHandler",dragEnabled:"$mouseHandler",focusTimout:"$mouseHandler",tooltipFollowsMouse:"$mouseHandler",firstLineNumber:"session",overwrite:"session",newLineMode:"session",useWorker:"session",useSoftTabs:"session",tabSize:"session",wrap:"session",indentedSoftWrap:"session",foldStyle:"session",mode:"session"}),t.Editor=w}),ace.define("ace/undomanager",["require","exports","module"],function(e,t,i){"use strict";var n=function(){this.reset()};(function(){function e(e){return{action:e.action,start:e.start,end:e.end,lines:1==e.lines.length?null:e.lines,text:1==e.lines.length?e.lines[0]:null}}function t(e){return{action:e.action,start:e.start,end:e.end,lines:e.lines||[e.text]}}function i(e,t){for(var i=new Array(e.length),n=0;n<e.length;n++){for(var s=e[n],r={group:s.group,deltas:new Array(s.length)},o=0;o<s.deltas.length;o++){var a=s.deltas[o];r.deltas[o]=t(a)}i[n]=r}return i}this.execute=function(e){var t=e.args[0];this.$doc=e.args[1],e.merge&&this.hasUndo()&&(this.dirtyCounter--,t=this.$undoStack.pop().concat(t)),this.$undoStack.push(t),this.$redoStack=[],this.dirtyCounter<0&&(this.dirtyCounter=NaN),this.dirtyCounter++},this.undo=function(e){var t=this.$undoStack.pop(),i=null;return t&&(i=this.$doc.undoChanges(t,e),this.$redoStack.push(t),this.dirtyCounter--),i},this.redo=function(e){var t=this.$redoStack.pop(),i=null;return t&&(i=this.$doc.redoChanges(this.$deserializeDeltas(t),e),this.$undoStack.push(t),this.dirtyCounter++),i},this.reset=function(){this.$undoStack=[],this.$redoStack=[],this.dirtyCounter=0},this.hasUndo=function(){return this.$undoStack.length>0},this.hasRedo=function(){return this.$redoStack.length>0},this.markClean=function(){this.dirtyCounter=0},this.isClean=function(){return 0===this.dirtyCounter},this.$serializeDeltas=function(t){return i(t,e)},this.$deserializeDeltas=function(e){return i(e,t)}}).call(n.prototype),t.UndoManager=n}),ace.define("ace/layer/gutter",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter"],function(e,t,i){"use strict";var n=e("../lib/dom"),s=e("../lib/oop"),r=e("../lib/lang"),o=e("../lib/event_emitter").EventEmitter,a=function(e){this.element=n.createElement("div"),this.element.className="ace_layer ace_gutter-layer",e.appendChild(this.element),this.setShowFoldWidgets(this.$showFoldWidgets),this.gutterWidth=0,this.$annotations=[],this.$updateAnnotations=this.$updateAnnotations.bind(this),this.$cells=[]};(function(){s.implement(this,o),this.setSession=function(e){this.session&&this.session.removeEventListener("change",this.$updateAnnotations),this.session=e,e&&e.on("change",this.$updateAnnotations)},this.addGutterDecoration=function(e,t){window.console&&console.warn&&console.warn("deprecated use session.addGutterDecoration"),this.session.addGutterDecoration(e,t)},this.removeGutterDecoration=function(e,t){window.console&&console.warn&&console.warn("deprecated use session.removeGutterDecoration"),this.session.removeGutterDecoration(e,t)},this.setAnnotations=function(e){this.$annotations=[];for(var t=0;t<e.length;t++){var i=e[t],n=i.row,s=this.$annotations[n];s||(s=this.$annotations[n]={text:[]});var o=i.text;o=o?r.escapeHTML(o):i.html||"",s.text.indexOf(o)===-1&&s.text.push(o);var a=i.type;"error"==a?s.className=" ace_error":"warning"==a&&" ace_error"!=s.className?s.className=" ace_warning":"info"==a&&!s.className&&(s.className=" ace_info")}},this.$updateAnnotations=function(e){if(this.$annotations.length){var t=e.start.row,i=e.end.row-t;if(0!==i)if("remove"==e.action)this.$annotations.splice(t,i+1,null);else{var n=new Array(i+1);n.unshift(t,1),this.$annotations.splice.apply(this.$annotations,n)}}},this.update=function(e){for(var t=this.session,i=e.firstRow,s=Math.min(e.lastRow+e.gutterOffset,t.getLength()-1),r=t.getNextFoldLine(i),o=r?r.start.row:1/0,a=this.$showFoldWidgets&&t.foldWidgets,l=t.$breakpoints,c=t.$decorations,u=t.$firstLineNumber,d=0,h=t.gutterRenderer||this.$renderer,p=null,f=-1,g=i;;){if(g>o&&(g=r.end.row+1,r=t.getNextFoldLine(g,r),o=r?r.start.row:1/0),g>s){for(;this.$cells.length>f+1;)p=this.$cells.pop(),this.element.removeChild(p.element);break}p=this.$cells[++f],p||(p={element:null,textNode:null,foldWidget:null},p.element=n.createElement("div"),p.textNode=document.createTextNode(""),p.element.appendChild(p.textNode),this.element.appendChild(p.element),this.$cells[f]=p);var m="ace_gutter-cell ";l[g]&&(m+=l[g]),c[g]&&(m+=c[g]),this.$annotations[g]&&(m+=this.$annotations[g].className),p.element.className!=m&&(p.element.className=m);var v=t.getRowLength(g)*e.lineHeight+"px";if(v!=p.element.style.height&&(p.element.style.height=v),a){var b=a[g];null==b&&(b=a[g]=t.getFoldWidget(g))}if(b){p.foldWidget||(p.foldWidget=n.createElement("span"),p.element.appendChild(p.foldWidget));var m="ace_fold-widget ace_"+b;m+="start"==b&&g==o&&g<r.end.row?" ace_closed":" ace_open",p.foldWidget.className!=m&&(p.foldWidget.className=m);var v=e.lineHeight+"px";p.foldWidget.style.height!=v&&(p.foldWidget.style.height=v)}else p.foldWidget&&(p.element.removeChild(p.foldWidget),p.foldWidget=null);var w=d=h?h.getText(t,g):g+u;w!=p.textNode.data&&(p.textNode.data=w),g++}this.element.style.height=e.minHeight+"px",(this.$fixedWidth||t.$useWrapMode)&&(d=t.getLength()+u);
var y=h?h.getWidth(t,d,e):d.toString().length*e.characterWidth,A=this.$padding||this.$computePadding();y+=A.left+A.right,y!==this.gutterWidth&&!isNaN(y)&&(this.gutterWidth=y,this.element.style.width=Math.ceil(this.gutterWidth)+"px",this._emit("changeGutterWidth",y))},this.$fixedWidth=!1,this.$showLineNumbers=!0,this.$renderer="",this.setShowLineNumbers=function(e){this.$renderer=!e&&{getWidth:function(){return""},getText:function(){return""}}},this.getShowLineNumbers=function(){return this.$showLineNumbers},this.$showFoldWidgets=!0,this.setShowFoldWidgets=function(e){e?n.addCssClass(this.element,"ace_folding-enabled"):n.removeCssClass(this.element,"ace_folding-enabled"),this.$showFoldWidgets=e,this.$padding=null},this.getShowFoldWidgets=function(){return this.$showFoldWidgets},this.$computePadding=function(){if(!this.element.firstChild)return{left:0,right:0};var e=n.computedStyle(this.element.firstChild);return this.$padding={},this.$padding.left=parseInt(e.paddingLeft)+1||0,this.$padding.right=parseInt(e.paddingRight)||0,this.$padding},this.getRegion=function(e){var t=this.$padding||this.$computePadding(),i=this.element.getBoundingClientRect();return e.x<t.left+i.left?"markers":this.$showFoldWidgets&&e.x>i.right-t.right?"foldWidgets":void 0}}).call(a.prototype),t.Gutter=a}),ace.define("ace/layer/marker",["require","exports","module","ace/range","ace/lib/dom"],function(e,t,i){"use strict";var n=e("../range").Range,s=e("../lib/dom"),r=function(e){this.element=s.createElement("div"),this.element.className="ace_layer ace_marker-layer",e.appendChild(this.element)};(function(){function e(e,t,i,n){return(e?1:0)|(t?2:0)|(i?4:0)|(n?8:0)}this.$padding=0,this.setPadding=function(e){this.$padding=e},this.setSession=function(e){this.session=e},this.setMarkers=function(e){this.markers=e},this.update=function(e){var e=e||this.config;if(e){this.config=e;var t=[];for(var i in this.markers){var n=this.markers[i];if(n.range){var s=n.range.clipRows(e.firstRow,e.lastRow);if(!s.isEmpty())if(s=s.toScreenRange(this.session),n.renderer){var r=this.$getTop(s.start.row,e),o=this.$padding+s.start.column*e.characterWidth;n.renderer(t,s,o,r,e)}else"fullLine"==n.type?this.drawFullLineMarker(t,s,n.clazz,e):"screenLine"==n.type?this.drawScreenLineMarker(t,s,n.clazz,e):s.isMultiLine()?"text"==n.type?this.drawTextMarker(t,s,n.clazz,e):this.drawMultiLineMarker(t,s,n.clazz,e):this.drawSingleLineMarker(t,s,n.clazz+" ace_start ace_br15",e)}else n.update(t,this,this.session,e)}this.element.innerHTML=t.join("")}},this.$getTop=function(e,t){return(e-t.firstRowScreen)*t.lineHeight},this.drawTextMarker=function(t,i,s,r,o){for(var a=this.session,l=i.start.row,c=i.end.row,u=l,d=0,h=0,p=a.getScreenLastRowColumn(u),f=new n(u,i.start.column,u,h);u<=c;u++)f.start.row=f.end.row=u,f.start.column=u==l?i.start.column:a.getRowWrapIndent(u),f.end.column=p,d=h,h=p,p=u+1<c?a.getScreenLastRowColumn(u+1):u==c?0:i.end.column,this.drawSingleLineMarker(t,f,s+(u==l?" ace_start":"")+" ace_br"+e(u==l||u==l+1&&i.start.column,d<h,h>p,u==c),r,u==c?0:1,o)},this.drawMultiLineMarker=function(e,t,i,n,s){var r=this.$padding,o=n.lineHeight,a=this.$getTop(t.start.row,n),l=r+t.start.column*n.characterWidth;s=s||"",e.push("<div class='",i," ace_br1 ace_start' style='","height:",o,"px;","right:0;","top:",a,"px;","left:",l,"px;",s,"'></div>"),a=this.$getTop(t.end.row,n);var c=t.end.column*n.characterWidth;if(e.push("<div class='",i," ace_br12' style='","height:",o,"px;","width:",c,"px;","top:",a,"px;","left:",r,"px;",s,"'></div>"),o=(t.end.row-t.start.row-1)*n.lineHeight,!(o<=0)){a=this.$getTop(t.start.row+1,n);var u=(t.start.column?1:0)|(t.end.column?0:8);e.push("<div class='",i,u?" ace_br"+u:"","' style='","height:",o,"px;","right:0;","top:",a,"px;","left:",r,"px;",s,"'></div>")}},this.drawSingleLineMarker=function(e,t,i,n,s,r){var o=n.lineHeight,a=(t.end.column+(s||0)-t.start.column)*n.characterWidth,l=this.$getTop(t.start.row,n),c=this.$padding+t.start.column*n.characterWidth;e.push("<div class='",i,"' style='","height:",o,"px;","width:",a,"px;","top:",l,"px;","left:",c,"px;",r||"","'></div>")},this.drawFullLineMarker=function(e,t,i,n,s){var r=this.$getTop(t.start.row,n),o=n.lineHeight;t.start.row!=t.end.row&&(o+=this.$getTop(t.end.row,n)-r),e.push("<div class='",i,"' style='","height:",o,"px;","top:",r,"px;","left:0;right:0;",s||"","'></div>")},this.drawScreenLineMarker=function(e,t,i,n,s){var r=this.$getTop(t.start.row,n),o=n.lineHeight;e.push("<div class='",i,"' style='","height:",o,"px;","top:",r,"px;","left:0;right:0;",s||"","'></div>")}}).call(r.prototype),t.Marker=r}),ace.define("ace/layer/text",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/lib/event_emitter"],function(e,t,i){"use strict";var n=e("../lib/oop"),s=e("../lib/dom"),r=e("../lib/lang"),o=(e("../lib/useragent"),e("../lib/event_emitter").EventEmitter),a=function(e){this.element=s.createElement("div"),this.element.className="ace_layer ace_text-layer",e.appendChild(this.element),this.$updateEolChar=this.$updateEolChar.bind(this)};(function(){n.implement(this,o),this.EOF_CHAR="¶",this.EOL_CHAR_LF="¬",this.EOL_CHAR_CRLF="¤",this.EOL_CHAR=this.EOL_CHAR_LF,this.TAB_CHAR="—",this.SPACE_CHAR="·",this.$padding=0,this.$updateEolChar=function(){var e="\n"==this.session.doc.getNewLineCharacter()?this.EOL_CHAR_LF:this.EOL_CHAR_CRLF;if(this.EOL_CHAR!=e)return this.EOL_CHAR=e,!0},this.setPadding=function(e){this.$padding=e,this.element.style.padding="0 "+e+"px"},this.getLineHeight=function(){return this.$fontMetrics.$characterSize.height||0},this.getCharacterWidth=function(){return this.$fontMetrics.$characterSize.width||0},this.$setFontMetrics=function(e){this.$fontMetrics=e,this.$fontMetrics.on("changeCharacterSize",function(e){this._signal("changeCharacterSize",e)}.bind(this)),this.$pollSizeChanges()},this.checkForSizeChanges=function(){this.$fontMetrics.checkForSizeChanges()},this.$pollSizeChanges=function(){return this.$pollSizeChangesTimer=this.$fontMetrics.$pollSizeChanges()},this.setSession=function(e){this.session=e,e&&this.$computeTabString()},this.showInvisibles=!1,this.setShowInvisibles=function(e){return this.showInvisibles!=e&&(this.showInvisibles=e,this.$computeTabString(),!0)},this.displayIndentGuides=!0,this.setDisplayIndentGuides=function(e){return this.displayIndentGuides!=e&&(this.displayIndentGuides=e,this.$computeTabString(),!0)},this.$tabStrings=[],this.onChangeTabSize=this.$computeTabString=function(){var e=this.session.getTabSize();this.tabSize=e;for(var t=this.$tabStrings=[0],i=1;i<e+1;i++)this.showInvisibles?t.push("<span class='ace_invisible ace_invisible_tab'>"+r.stringRepeat(this.TAB_CHAR,i)+"</span>"):t.push(r.stringRepeat(" ",i));if(this.displayIndentGuides){this.$indentGuideRe=/\s\S| \t|\t |\s$/;var n="ace_indent-guide",s="",o="";if(this.showInvisibles){n+=" ace_invisible",s=" ace_invisible_space",o=" ace_invisible_tab";var a=r.stringRepeat(this.SPACE_CHAR,this.tabSize),l=r.stringRepeat(this.TAB_CHAR,this.tabSize)}else var a=r.stringRepeat(" ",this.tabSize),l=a;this.$tabStrings[" "]="<span class='"+n+s+"'>"+a+"</span>",this.$tabStrings["\t"]="<span class='"+n+o+"'>"+l+"</span>"}},this.updateLines=function(e,t,i){(this.config.lastRow!=e.lastRow||this.config.firstRow!=e.firstRow)&&this.scrollLines(e),this.config=e;for(var n=Math.max(t,e.firstRow),s=Math.min(i,e.lastRow),r=this.element.childNodes,o=0,a=e.firstRow;a<n;a++){var l=this.session.getFoldLine(a);if(l){if(l.containsRow(n)){n=l.start.row;break}a=l.end.row}o++}for(var a=n,l=this.session.getNextFoldLine(a),c=l?l.start.row:1/0;a>c&&(a=l.end.row+1,l=this.session.getNextFoldLine(a,l),c=l?l.start.row:1/0),!(a>s);){var u=r[o++];if(u){var d=[];this.$renderLine(d,a,!this.$useLineGroups(),a==c&&l),u.style.height=e.lineHeight*this.session.getRowLength(a)+"px",u.innerHTML=d.join("")}a++}},this.scrollLines=function(e){var t=this.config;if(this.config=e,!t||t.lastRow<e.firstRow)return this.update(e);if(e.lastRow<t.firstRow)return this.update(e);var i=this.element;if(t.firstRow<e.firstRow)for(var n=this.session.getFoldedRowCount(t.firstRow,e.firstRow-1);n>0;n--)i.removeChild(i.firstChild);if(t.lastRow>e.lastRow)for(var n=this.session.getFoldedRowCount(e.lastRow+1,t.lastRow);n>0;n--)i.removeChild(i.lastChild);if(e.firstRow<t.firstRow){var s=this.$renderLinesFragment(e,e.firstRow,t.firstRow-1);i.firstChild?i.insertBefore(s,i.firstChild):i.appendChild(s)}if(e.lastRow>t.lastRow){var s=this.$renderLinesFragment(e,t.lastRow+1,e.lastRow);i.appendChild(s)}},this.$renderLinesFragment=function(e,t,i){for(var n=this.element.ownerDocument.createDocumentFragment(),r=t,o=this.session.getNextFoldLine(r),a=o?o.start.row:1/0;r>a&&(r=o.end.row+1,o=this.session.getNextFoldLine(r,o),a=o?o.start.row:1/0),!(r>i);){var l=s.createElement("div"),c=[];if(this.$renderLine(c,r,!1,r==a&&o),l.innerHTML=c.join(""),this.$useLineGroups())l.className="ace_line_group",n.appendChild(l),l.style.height=e.lineHeight*this.session.getRowLength(r)+"px";else for(;l.firstChild;)n.appendChild(l.firstChild);r++}return n},this.update=function(e){this.config=e;for(var t=[],i=e.firstRow,n=e.lastRow,s=i,r=this.session.getNextFoldLine(s),o=r?r.start.row:1/0;s>o&&(s=r.end.row+1,r=this.session.getNextFoldLine(s,r),o=r?r.start.row:1/0),!(s>n);)this.$useLineGroups()&&t.push("<div class='ace_line_group' style='height:",e.lineHeight*this.session.getRowLength(s),"px'>"),this.$renderLine(t,s,!1,s==o&&r),this.$useLineGroups()&&t.push("</div>"),s++;this.element.innerHTML=t.join("")},this.$textToken={text:!0,rparen:!0,lparen:!0},this.$renderToken=function(e,t,i,n){var s=this,o=/\t|&|<|>|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\u3000\uFEFF\uFFF9-\uFFFC])|[\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3000-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]/g,a=function(e,i,n,o,a){if(i)return s.showInvisibles?"<span class='ace_invisible ace_invisible_space'>"+r.stringRepeat(s.SPACE_CHAR,e.length)+"</span>":e;if("&"==e)return"&#38;";if("<"==e)return"&#60;";if(">"==e)return"&#62;";if("\t"==e){var l=s.session.getScreenTabSize(t+o);return t+=l-1,s.$tabStrings[l]}if("　"==e){var c=s.showInvisibles?"ace_cjk ace_invisible ace_invisible_space":"ace_cjk",u=s.showInvisibles?s.SPACE_CHAR:"";return t+=1,"<span class='"+c+"' style='width:"+2*s.config.characterWidth+"px'>"+u+"</span>"}return n?"<span class='ace_invisible ace_invisible_space ace_invalid'>"+s.SPACE_CHAR+"</span>":(t+=1,"<span class='ace_cjk' style='width:"+2*s.config.characterWidth+"px'>"+e+"</span>")},l=n.replace(o,a);if(this.$textToken[i.type])e.push(l);else{var c="ace_"+i.type.replace(/\./g," ace_"),u="";"fold"==i.type&&(u=" style='width:"+i.value.length*this.config.characterWidth+"px;' "),e.push("<span class='",c,"'",u,">",l,"</span>")}return t+n.length},this.renderIndentGuide=function(e,t,i){var n=t.search(this.$indentGuideRe);return n<=0||n>=i?t:" "==t[0]?(n-=n%this.tabSize,e.push(r.stringRepeat(this.$tabStrings[" "],n/this.tabSize)),t.substr(n)):"\t"==t[0]?(e.push(r.stringRepeat(this.$tabStrings["\t"],n)),t.substr(n)):t},this.$renderWrappedLine=function(e,t,i,n){for(var s=0,o=0,a=i[0],l=0,c=0;c<t.length;c++){var u=t[c],d=u.value;if(0==c&&this.displayIndentGuides){if(s=d.length,d=this.renderIndentGuide(e,d,a),!d)continue;s-=d.length}if(s+d.length<a)l=this.$renderToken(e,l,u,d),s+=d.length;else{for(;s+d.length>=a;)l=this.$renderToken(e,l,u,d.substring(0,a-s)),d=d.substring(a-s),s=a,n||e.push("</div>","<div class='ace_line' style='height:",this.config.lineHeight,"px'>"),e.push(r.stringRepeat(" ",i.indent)),o++,l=0,a=i[o]||Number.MAX_VALUE;0!=d.length&&(s+=d.length,l=this.$renderToken(e,l,u,d))}}},this.$renderSimpleLine=function(e,t){var i=0,n=t[0],s=n.value;this.displayIndentGuides&&(s=this.renderIndentGuide(e,s)),s&&(i=this.$renderToken(e,i,n,s));for(var r=1;r<t.length;r++)n=t[r],s=n.value,i=this.$renderToken(e,i,n,s)},this.$renderLine=function(e,t,i,n){if(!n&&0!=n&&(n=this.session.getFoldLine(t)),n)var s=this.$getFoldLineTokens(t,n);else var s=this.session.getTokens(t);if(i||e.push("<div class='ace_line' style='height:",this.config.lineHeight*(this.$useLineGroups()?1:this.session.getRowLength(t)),"px'>"),s.length){var r=this.session.getRowSplitData(t);r&&r.length?this.$renderWrappedLine(e,s,r,i):this.$renderSimpleLine(e,s)}this.showInvisibles&&(n&&(t=n.end.row),e.push("<span class='ace_invisible ace_invisible_eol'>",t==this.session.getLength()-1?this.EOF_CHAR:this.EOL_CHAR,"</span>")),i||e.push("</div>")},this.$getFoldLineTokens=function(e,t){function i(e,t,i){for(var n=0,r=0;r+e[n].value.length<t;)if(r+=e[n].value.length,n++,n==e.length)return;if(r!=t){var o=e[n].value.substring(t-r);o.length>i-t&&(o=o.substring(0,i-t)),s.push({type:e[n].type,value:o}),r=t+o.length,n+=1}for(;r<i&&n<e.length;){var o=e[n].value;o.length+r>i?s.push({type:e[n].type,value:o.substring(0,i-r)}):s.push(e[n]),r+=o.length,n+=1}}var n=this.session,s=[],r=n.getTokens(e);return t.walk(function(e,t,o,a,l){null!=e?s.push({type:"fold",value:e}):(l&&(r=n.getTokens(t)),r.length&&i(r,a,o))},t.end.row,this.session.getLine(t.end.row).length),s},this.$useLineGroups=function(){return this.session.getUseWrapMode()},this.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.$measureNode&&this.$measureNode.parentNode.removeChild(this.$measureNode),delete this.$measureNode}}).call(a.prototype),t.Text=a}),ace.define("ace/layer/cursor",["require","exports","module","ace/lib/dom"],function(e,t,i){"use strict";var n,s=e("../lib/dom"),r=function(e){this.element=s.createElement("div"),this.element.className="ace_layer ace_cursor-layer",e.appendChild(this.element),void 0===n&&(n=!("opacity"in this.element.style)),this.isVisible=!1,this.isBlinking=!0,this.blinkInterval=1e3,this.smoothBlinking=!1,this.cursors=[],this.cursor=this.addCursor(),s.addCssClass(this.element,"ace_hidden-cursors"),this.$updateCursors=(n?this.$updateVisibility:this.$updateOpacity).bind(this)};(function(){this.$updateVisibility=function(e){for(var t=this.cursors,i=t.length;i--;)t[i].style.visibility=e?"":"hidden"},this.$updateOpacity=function(e){for(var t=this.cursors,i=t.length;i--;)t[i].style.opacity=e?"":"0"},this.$padding=0,this.setPadding=function(e){this.$padding=e},this.setSession=function(e){this.session=e},this.setBlinking=function(e){e!=this.isBlinking&&(this.isBlinking=e,this.restartTimer())},this.setBlinkInterval=function(e){e!=this.blinkInterval&&(this.blinkInterval=e,this.restartTimer())},this.setSmoothBlinking=function(e){e!=this.smoothBlinking&&!n&&(this.smoothBlinking=e,s.setCssClass(this.element,"ace_smooth-blinking",e),this.$updateCursors(!0),this.$updateCursors=this.$updateOpacity.bind(this),this.restartTimer())},this.addCursor=function(){var e=s.createElement("div");return e.className="ace_cursor",this.element.appendChild(e),this.cursors.push(e),e},this.removeCursor=function(){if(this.cursors.length>1){var e=this.cursors.pop();return e.parentNode.removeChild(e),e}},this.hideCursor=function(){this.isVisible=!1,s.addCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.showCursor=function(){this.isVisible=!0,s.removeCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.restartTimer=function(){var e=this.$updateCursors;if(clearInterval(this.intervalId),clearTimeout(this.timeoutId),this.smoothBlinking&&s.removeCssClass(this.element,"ace_smooth-blinking"),e(!0),this.isBlinking&&this.blinkInterval&&this.isVisible){this.smoothBlinking&&setTimeout(function(){s.addCssClass(this.element,"ace_smooth-blinking")}.bind(this));var t=function(){this.timeoutId=setTimeout(function(){e(!1)},.6*this.blinkInterval)}.bind(this);this.intervalId=setInterval(function(){e(!0),t()},this.blinkInterval),t()}},this.getPixelPosition=function(e,t){if(!this.config||!this.session)return{left:0,top:0};e||(e=this.session.selection.getCursor());var i=this.session.documentToScreenPosition(e),n=this.$padding+i.column*this.config.characterWidth,s=(i.row-(t?this.config.firstRowScreen:0))*this.config.lineHeight;return{left:n,top:s}},this.update=function(e){this.config=e;var t=this.session.$selectionMarkers,i=0,n=0;void 0!==t&&0!==t.length||(t=[{cursor:null}]);for(var i=0,s=t.length;i<s;i++){var r=this.getPixelPosition(t[i].cursor,!0);if(!((r.top>e.height+e.offset||r.top<0)&&i>1)){var o=(this.cursors[n++]||this.addCursor()).style;this.drawCursor?this.drawCursor(o,r,e,t[i],this.session):(o.left=r.left+"px",o.top=r.top+"px",o.width=e.characterWidth+"px",o.height=e.lineHeight+"px")}}for(;this.cursors.length>n;)this.removeCursor();var a=this.session.getOverwrite();this.$setOverwrite(a),this.$pixelPos=r,this.restartTimer()},this.drawCursor=null,this.$setOverwrite=function(e){e!=this.overwrite&&(this.overwrite=e,e?s.addCssClass(this.element,"ace_overwrite-cursors"):s.removeCssClass(this.element,"ace_overwrite-cursors"))},this.destroy=function(){clearInterval(this.intervalId),clearTimeout(this.timeoutId)}}).call(r.prototype),t.Cursor=r}),ace.define("ace/scrollbar",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(e,t,i){"use strict";var n=e("./lib/oop"),s=e("./lib/dom"),r=e("./lib/event"),o=e("./lib/event_emitter").EventEmitter,a=function(e){this.element=s.createElement("div"),this.element.className="ace_scrollbar ace_scrollbar"+this.classSuffix,this.inner=s.createElement("div"),this.inner.className="ace_scrollbar-inner",this.element.appendChild(this.inner),e.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,r.addListener(this.element,"scroll",this.onScroll.bind(this)),r.addListener(this.element,"mousedown",r.preventDefault)};(function(){n.implement(this,o),this.setVisible=function(e){this.element.style.display=e?"":"none",this.isVisible=e}}).call(a.prototype);var l=function(e,t){a.call(this,e),this.scrollTop=0,t.$scrollbarWidth=this.width=s.scrollbarWidth(e.ownerDocument),this.inner.style.width=this.element.style.width=(this.width||15)+5+"px"};n.inherits(l,a),function(){this.classSuffix="-v",this.onScroll=function(){this.skipEvent||(this.scrollTop=this.element.scrollTop,this._emit("scroll",{data:this.scrollTop})),this.skipEvent=!1},this.getWidth=function(){return this.isVisible?this.width:0},this.setHeight=function(e){this.element.style.height=e+"px"},this.setInnerHeight=function(e){this.inner.style.height=e+"px"},this.setScrollHeight=function(e){this.inner.style.height=e+"px"},this.setScrollTop=function(e){this.scrollTop!=e&&(this.skipEvent=!0,this.scrollTop=this.element.scrollTop=e)}}.call(l.prototype);var c=function(e,t){a.call(this,e),this.scrollLeft=0,this.height=t.$scrollbarWidth,this.inner.style.height=this.element.style.height=(this.height||15)+5+"px"};n.inherits(c,a),function(){this.classSuffix="-h",this.onScroll=function(){this.skipEvent||(this.scrollLeft=this.element.scrollLeft,this._emit("scroll",{data:this.scrollLeft})),this.skipEvent=!1},this.getHeight=function(){return this.isVisible?this.height:0},this.setWidth=function(e){this.element.style.width=e+"px"},this.setInnerWidth=function(e){this.inner.style.width=e+"px"},this.setScrollWidth=function(e){this.inner.style.width=e+"px"},this.setScrollLeft=function(e){this.scrollLeft!=e&&(this.skipEvent=!0,this.scrollLeft=this.element.scrollLeft=e)}}.call(c.prototype),t.ScrollBar=l,t.ScrollBarV=l,t.ScrollBarH=c,t.VScrollBar=l,t.HScrollBar=c}),ace.define("ace/renderloop",["require","exports","module","ace/lib/event"],function(e,t,i){"use strict";var n=e("./lib/event"),s=function(e,t){this.onRender=e,this.pending=!1,this.changes=0,this.window=t||window};(function(){this.schedule=function(e){if(this.changes=this.changes|e,!this.pending&&this.changes){this.pending=!0;var t=this;n.nextFrame(function(){t.pending=!1;for(var e;e=t.changes;)t.changes=0,t.onRender(e)},this.window)}}}).call(s.prototype),t.RenderLoop=s}),ace.define("ace/layer/font_metrics",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/lib/event_emitter"],function(e,t,i){var n=e("../lib/oop"),s=e("../lib/dom"),r=e("../lib/lang"),o=e("../lib/useragent"),a=e("../lib/event_emitter").EventEmitter,l=0,c=t.FontMetrics=function(e){this.el=s.createElement("div"),this.$setMeasureNodeStyles(this.el.style,!0),this.$main=s.createElement("div"),this.$setMeasureNodeStyles(this.$main.style),this.$measureNode=s.createElement("div"),this.$setMeasureNodeStyles(this.$measureNode.style),this.el.appendChild(this.$main),this.el.appendChild(this.$measureNode),e.appendChild(this.el),l||this.$testFractionalRect(),this.$measureNode.innerHTML=r.stringRepeat("X",l),this.$characterSize={width:0,height:0},this.checkForSizeChanges()};(function(){n.implement(this,a),this.$characterSize={width:0,height:0},this.$testFractionalRect=function(){var e=s.createElement("div");this.$setMeasureNodeStyles(e.style),e.style.width="0.2px",document.documentElement.appendChild(e);var t=e.getBoundingClientRect().width;l=t>0&&t<1?50:100,e.parentNode.removeChild(e)},this.$setMeasureNodeStyles=function(e,t){e.width=e.height="auto",e.left=e.top="0px",e.visibility="hidden",e.position="absolute",e.whiteSpace="pre",o.isIE<8?e["font-family"]="inherit":e.font="inherit",e.overflow=t?"hidden":"visible"},this.checkForSizeChanges=function(){var e=this.$measureSizes();if(e&&(this.$characterSize.width!==e.width||this.$characterSize.height!==e.height)){this.$measureNode.style.fontWeight="bold";var t=this.$measureSizes();this.$measureNode.style.fontWeight="",this.$characterSize=e,this.charSizes=Object.create(null),this.allowBoldFonts=t&&t.width===e.width&&t.height===e.height,this._emit("changeCharacterSize",{data:e})}},this.$pollSizeChanges=function(){if(this.$pollSizeChangesTimer)return this.$pollSizeChangesTimer;var e=this;return this.$pollSizeChangesTimer=setInterval(function(){e.checkForSizeChanges()},500)},this.setPolling=function(e){e?this.$pollSizeChanges():this.$pollSizeChangesTimer&&(clearInterval(this.$pollSizeChangesTimer),this.$pollSizeChangesTimer=0)},this.$measureSizes=function(){if(50===l){var e=null;try{e=this.$measureNode.getBoundingClientRect()}catch(t){e={width:0,height:0}}var i={height:e.height,width:e.width/l}}else var i={height:this.$measureNode.clientHeight,width:this.$measureNode.clientWidth/l};return 0===i.width||0===i.height?null:i},this.$measureCharWidth=function(e){this.$main.innerHTML=r.stringRepeat(e,l);var t=this.$main.getBoundingClientRect();return t.width/l},this.getCharacterWidth=function(e){var t=this.charSizes[e];return void 0===t&&(t=this.charSizes[e]=this.$measureCharWidth(e)/this.$characterSize.width),t},this.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)}}).call(c.prototype)}),ace.define("ace/virtual_renderer",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/config","ace/lib/useragent","ace/layer/gutter","ace/layer/marker","ace/layer/text","ace/layer/cursor","ace/scrollbar","ace/scrollbar","ace/renderloop","ace/layer/font_metrics","ace/lib/event_emitter"],function(e,t,i){"use strict";var n=e("./lib/oop"),s=e("./lib/dom"),r=e("./config"),o=e("./lib/useragent"),a=e("./layer/gutter").Gutter,l=e("./layer/marker").Marker,c=e("./layer/text").Text,u=e("./layer/cursor").Cursor,d=e("./scrollbar").HScrollBar,h=e("./scrollbar").VScrollBar,p=e("./renderloop").RenderLoop,f=e("./layer/font_metrics").FontMetrics,g=e("./lib/event_emitter").EventEmitter,m='.ace_editor {position: relative;overflow: hidden;font: 12px/normal \'Monaco\', \'Menlo\', \'Ubuntu Mono\', \'Consolas\', \'source-code-pro\', monospace;direction: ltr;}.ace_scroller {position: absolute;overflow: hidden;top: 0;bottom: 0;background-color: inherit;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;cursor: text;}.ace_content {position: absolute;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;min-width: 100%;}.ace_dragging .ace_scroller:before{position: absolute;top: 0;left: 0;right: 0;bottom: 0;content: \'\';background: rgba(250, 250, 250, 0.01);z-index: 1000;}.ace_dragging.ace_dark .ace_scroller:before{background: rgba(0, 0, 0, 0.01);}.ace_selecting, .ace_selecting * {cursor: text !important;}.ace_gutter {position: absolute;overflow : hidden;width: auto;top: 0;bottom: 0;left: 0;cursor: default;z-index: 4;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;}.ace_gutter-active-line {position: absolute;left: 0;right: 0;}.ace_scroller.ace_scroll-left {box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;}.ace_gutter-cell {padding-left: 19px;padding-right: 6px;background-repeat: no-repeat;}.ace_gutter-cell.ace_error {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: 2px center;}.ace_gutter-cell.ace_warning {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");background-position: 2px center;}.ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");background-position: 2px center;}.ace_dark .ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");}.ace_scrollbar {position: absolute;right: 0;bottom: 0;z-index: 6;}.ace_scrollbar-inner {position: absolute;cursor: text;left: 0;top: 0;}.ace_scrollbar-v{overflow-x: hidden;overflow-y: scroll;top: 0;}.ace_scrollbar-h {overflow-x: scroll;overflow-y: hidden;left: 0;}.ace_print-margin {position: absolute;height: 100%;}.ace_text-input {position: absolute;z-index: 0;width: 0.5em;height: 1em;opacity: 0;background: transparent;-moz-appearance: none;appearance: none;border: none;resize: none;outline: none;overflow: hidden;font: inherit;padding: 0 1px;margin: 0 -1px;text-indent: -1em;-ms-user-select: text;-moz-user-select: text;-webkit-user-select: text;user-select: text;white-space: pre!important;}.ace_text-input.ace_composition {background: inherit;color: inherit;z-index: 1000;opacity: 1;text-indent: 0;}.ace_layer {z-index: 1;position: absolute;overflow: hidden;word-wrap: normal;white-space: pre;height: 100%;width: 100%;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;pointer-events: none;}.ace_gutter-layer {position: relative;width: auto;text-align: right;pointer-events: auto;}.ace_text-layer {font: inherit !important;}.ace_cjk {display: inline-block;text-align: center;}.ace_cursor-layer {z-index: 4;}.ace_cursor {z-index: 4;position: absolute;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;border-left: 2px solid;transform: translatez(0);}.ace_slim-cursors .ace_cursor {border-left-width: 1px;}.ace_overwrite-cursors .ace_cursor {border-left-width: 0;border-bottom: 1px solid;}.ace_hidden-cursors .ace_cursor {opacity: 0.2;}.ace_smooth-blinking .ace_cursor {-webkit-transition: opacity 0.18s;transition: opacity 0.18s;}.ace_editor.ace_multiselect .ace_cursor {border-left-width: 1px;}.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {position: absolute;z-index: 3;}.ace_marker-layer .ace_selection {position: absolute;z-index: 5;}.ace_marker-layer .ace_bracket {position: absolute;z-index: 6;}.ace_marker-layer .ace_active-line {position: absolute;z-index: 2;}.ace_marker-layer .ace_selected-word {position: absolute;z-index: 4;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;}.ace_line .ace_fold {-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;display: inline-block;height: 11px;margin-top: -2px;vertical-align: middle;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");background-repeat: no-repeat, repeat-x;background-position: center center, top left;color: transparent;border: 1px solid black;border-radius: 2px;cursor: pointer;pointer-events: auto;}.ace_dark .ace_fold {}.ace_fold:hover{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");}.ace_tooltip {background-color: #FFF;background-image: -webkit-linear-gradient(top, transparent, rgba(0, 0, 0, 0.1));background-image: linear-gradient(to bottom, transparent, rgba(0, 0, 0, 0.1));border: 1px solid gray;border-radius: 1px;box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);color: black;max-width: 100%;padding: 3px 4px;position: fixed;z-index: 999999;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;cursor: default;white-space: pre;word-wrap: break-word;line-height: normal;font-style: normal;font-weight: normal;letter-spacing: normal;pointer-events: none;}.ace_folding-enabled > .ace_gutter-cell {padding-right: 13px;}.ace_fold-widget {-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;margin: 0 -12px 0 1px;display: none;width: 11px;vertical-align: top;background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: center;border-radius: 3px;border: 1px solid transparent;cursor: pointer;}.ace_folding-enabled .ace_fold-widget {display: inline-block;   }.ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");}.ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");}.ace_fold-widget:hover {border: 1px solid rgba(0, 0, 0, 0.3);background-color: rgba(255, 255, 255, 0.2);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);}.ace_fold-widget:active {border: 1px solid rgba(0, 0, 0, 0.4);background-color: rgba(0, 0, 0, 0.05);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);}.ace_dark .ace_fold-widget {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");}.ace_dark .ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget:hover {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);background-color: rgba(255, 255, 255, 0.1);}.ace_dark .ace_fold-widget:active {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);}.ace_fold-widget.ace_invalid {background-color: #FFB4B4;border-color: #DE5555;}.ace_fade-fold-widgets .ace_fold-widget {-webkit-transition: opacity 0.4s ease 0.05s;transition: opacity 0.4s ease 0.05s;opacity: 0;}.ace_fade-fold-widgets:hover .ace_fold-widget {-webkit-transition: opacity 0.05s ease 0.05s;transition: opacity 0.05s ease 0.05s;opacity:1;}.ace_underline {text-decoration: underline;}.ace_bold {font-weight: bold;}.ace_nobold .ace_bold {font-weight: normal;}.ace_italic {font-style: italic;}.ace_error-marker {background-color: rgba(255, 0, 0,0.2);position: absolute;z-index: 9;}.ace_highlight-marker {background-color: rgba(255, 255, 0,0.2);position: absolute;z-index: 8;}.ace_br1 {border-top-left-radius    : 3px;}.ace_br2 {border-top-right-radius   : 3px;}.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}.ace_br4 {border-bottom-right-radius: 3px;}.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}.ace_br8 {border-bottom-left-radius : 3px;}.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}';
s.importCssString(m,"ace_editor.css");var v=function(e,t){var i=this;this.container=e||s.createElement("div"),this.$keepTextAreaAtCursor=!o.isOldIE,s.addCssClass(this.container,"ace_editor"),this.setTheme(t),this.$gutter=s.createElement("div"),this.$gutter.className="ace_gutter",this.container.appendChild(this.$gutter),this.scroller=s.createElement("div"),this.scroller.className="ace_scroller",this.container.appendChild(this.scroller),this.content=s.createElement("div"),this.content.className="ace_content",this.scroller.appendChild(this.content),this.$gutterLayer=new a(this.$gutter),this.$gutterLayer.on("changeGutterWidth",this.onGutterResize.bind(this)),this.$markerBack=new l(this.content);var n=this.$textLayer=new c(this.content);this.canvas=n.element,this.$markerFront=new l(this.content),this.$cursorLayer=new u(this.content),this.$horizScroll=!1,this.$vScroll=!1,this.scrollBar=this.scrollBarV=new h(this.container,this),this.scrollBarH=new d(this.container,this),this.scrollBarV.addEventListener("scroll",function(e){i.$scrollAnimation||i.session.setScrollTop(e.data-i.scrollMargin.top)}),this.scrollBarH.addEventListener("scroll",function(e){i.$scrollAnimation||i.session.setScrollLeft(e.data-i.scrollMargin.left)}),this.scrollTop=0,this.scrollLeft=0,this.cursorPos={row:0,column:0},this.$fontMetrics=new f(this.container),this.$textLayer.$setFontMetrics(this.$fontMetrics),this.$textLayer.addEventListener("changeCharacterSize",function(e){i.updateCharacterSize(),i.onResize(!0,i.gutterWidth,i.$size.width,i.$size.height),i._signal("changeCharacterSize",e)}),this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0,$dirty:!0},this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:0,characterWidth:0,minHeight:1,maxHeight:1,offset:0,height:1,gutterOffset:1},this.scrollMargin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.$loop=new p(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView),this.$loop.schedule(this.CHANGE_FULL),this.updateCharacterSize(),this.setPadding(4),r.resetOptions(this),r._emit("renderer",this)};(function(){this.CHANGE_CURSOR=1,this.CHANGE_MARKER=2,this.CHANGE_GUTTER=4,this.CHANGE_SCROLL=8,this.CHANGE_LINES=16,this.CHANGE_TEXT=32,this.CHANGE_SIZE=64,this.CHANGE_MARKER_BACK=128,this.CHANGE_MARKER_FRONT=256,this.CHANGE_FULL=512,this.CHANGE_H_SCROLL=1024,n.implement(this,g),this.updateCharacterSize=function(){this.$textLayer.allowBoldFonts!=this.$allowBoldFonts&&(this.$allowBoldFonts=this.$textLayer.allowBoldFonts,this.setStyle("ace_nobold",!this.$allowBoldFonts)),this.layerConfig.characterWidth=this.characterWidth=this.$textLayer.getCharacterWidth(),this.layerConfig.lineHeight=this.lineHeight=this.$textLayer.getLineHeight(),this.$updatePrintMargin()},this.setSession=function(e){this.session&&this.session.doc.off("changeNewLineMode",this.onChangeNewLineMode),this.session=e,e&&this.scrollMargin.top&&e.getScrollTop()<=0&&e.setScrollTop(-this.scrollMargin.top),this.$cursorLayer.setSession(e),this.$markerBack.setSession(e),this.$markerFront.setSession(e),this.$gutterLayer.setSession(e),this.$textLayer.setSession(e),e&&(this.$loop.schedule(this.CHANGE_FULL),this.session.$setFontMetrics(this.$fontMetrics),this.onChangeNewLineMode=this.onChangeNewLineMode.bind(this),this.onChangeNewLineMode(),this.session.doc.on("changeNewLineMode",this.onChangeNewLineMode))},this.updateLines=function(e,t,i){if(void 0===t&&(t=1/0),this.$changedLines?(this.$changedLines.firstRow>e&&(this.$changedLines.firstRow=e),this.$changedLines.lastRow<t&&(this.$changedLines.lastRow=t)):this.$changedLines={firstRow:e,lastRow:t},this.$changedLines.lastRow<this.layerConfig.firstRow){if(!i)return;this.$changedLines.lastRow=this.layerConfig.lastRow}this.$changedLines.firstRow>this.layerConfig.lastRow||this.$loop.schedule(this.CHANGE_LINES)},this.onChangeNewLineMode=function(){this.$loop.schedule(this.CHANGE_TEXT),this.$textLayer.$updateEolChar()},this.onChangeTabSize=function(){this.$loop.schedule(this.CHANGE_TEXT|this.CHANGE_MARKER),this.$textLayer.onChangeTabSize()},this.updateText=function(){this.$loop.schedule(this.CHANGE_TEXT)},this.updateFull=function(e){e?this.$renderChanges(this.CHANGE_FULL,!0):this.$loop.schedule(this.CHANGE_FULL)},this.updateFontSize=function(){this.$textLayer.checkForSizeChanges()},this.$changes=0,this.$updateSizeAsync=function(){this.$loop.pending?this.$size.$dirty=!0:this.onResize()},this.onResize=function(e,t,i,n){if(!(this.resizing>2)){this.resizing>0?this.resizing++:this.resizing=e?1:0;var s=this.container;n||(n=s.clientHeight||s.scrollHeight),i||(i=s.clientWidth||s.scrollWidth);var r=this.$updateCachedSize(e,t,i,n);return this.$size.scrollerHeight&&(i||n)?(e&&(this.$gutterLayer.$padding=null),e?this.$renderChanges(r|this.$changes,!0):this.$loop.schedule(r|this.$changes),this.resizing&&(this.resizing=0),this.scrollBarV.scrollLeft=this.scrollBarV.scrollTop=null,void 0):this.resizing=0}},this.$updateCachedSize=function(e,t,i,n){n-=this.$extraHeight||0;var s=0,r=this.$size,o={width:r.width,height:r.height,scrollerHeight:r.scrollerHeight,scrollerWidth:r.scrollerWidth};return n&&(e||r.height!=n)&&(r.height=n,s|=this.CHANGE_SIZE,r.scrollerHeight=r.height,this.$horizScroll&&(r.scrollerHeight-=this.scrollBarH.getHeight()),this.scrollBarV.element.style.bottom=this.scrollBarH.getHeight()+"px",s|=this.CHANGE_SCROLL),i&&(e||r.width!=i)&&(s|=this.CHANGE_SIZE,r.width=i,null==t&&(t=this.$showGutter?this.$gutter.offsetWidth:0),this.gutterWidth=t,this.scrollBarH.element.style.left=this.scroller.style.left=t+"px",r.scrollerWidth=Math.max(0,i-t-this.scrollBarV.getWidth()),this.scrollBarH.element.style.right=this.scroller.style.right=this.scrollBarV.getWidth()+"px",this.scroller.style.bottom=this.scrollBarH.getHeight()+"px",(this.session&&this.session.getUseWrapMode()&&this.adjustWrapLimit()||e)&&(s|=this.CHANGE_FULL)),r.$dirty=!i||!n,s&&this._signal("resize",o),s},this.onGutterResize=function(){var e=this.$showGutter?this.$gutter.offsetWidth:0;e!=this.gutterWidth&&(this.$changes|=this.$updateCachedSize(!0,e,this.$size.width,this.$size.height)),this.session.getUseWrapMode()&&this.adjustWrapLimit()?this.$loop.schedule(this.CHANGE_FULL):this.$size.$dirty?this.$loop.schedule(this.CHANGE_FULL):(this.$computeLayerConfig(),this.$loop.schedule(this.CHANGE_MARKER))},this.adjustWrapLimit=function(){var e=this.$size.scrollerWidth-2*this.$padding,t=Math.floor(e/this.characterWidth);return this.session.adjustWrapLimit(t,this.$showPrintMargin&&this.$printMarginColumn)},this.setAnimatedScroll=function(e){this.setOption("animatedScroll",e)},this.getAnimatedScroll=function(){return this.$animatedScroll},this.setShowInvisibles=function(e){this.setOption("showInvisibles",e)},this.getShowInvisibles=function(){return this.getOption("showInvisibles")},this.getDisplayIndentGuides=function(){return this.getOption("displayIndentGuides")},this.setDisplayIndentGuides=function(e){this.setOption("displayIndentGuides",e)},this.setShowPrintMargin=function(e){this.setOption("showPrintMargin",e)},this.getShowPrintMargin=function(){return this.getOption("showPrintMargin")},this.setPrintMarginColumn=function(e){this.setOption("printMarginColumn",e)},this.getPrintMarginColumn=function(){return this.getOption("printMarginColumn")},this.getShowGutter=function(){return this.getOption("showGutter")},this.setShowGutter=function(e){return this.setOption("showGutter",e)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.setFadeFoldWidgets=function(e){this.setOption("fadeFoldWidgets",e)},this.setHighlightGutterLine=function(e){this.setOption("highlightGutterLine",e)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.$updateGutterLineHighlight=function(){var e=this.$cursorLayer.$pixelPos,t=this.layerConfig.lineHeight;if(this.session.getUseWrapMode()){var i=this.session.selection.getCursor();i.column=0,e=this.$cursorLayer.getPixelPosition(i,!0),t*=this.session.getRowLength(i.row)}this.$gutterLineHighlight.style.top=e.top-this.layerConfig.offset+"px",this.$gutterLineHighlight.style.height=t+"px"},this.$updatePrintMargin=function(){if(this.$showPrintMargin||this.$printMarginEl){if(!this.$printMarginEl){var e=s.createElement("div");e.className="ace_layer ace_print-margin-layer",this.$printMarginEl=s.createElement("div"),this.$printMarginEl.className="ace_print-margin",e.appendChild(this.$printMarginEl),this.content.insertBefore(e,this.content.firstChild)}var t=this.$printMarginEl.style;t.left=this.characterWidth*this.$printMarginColumn+this.$padding+"px",t.visibility=this.$showPrintMargin?"visible":"hidden",this.session&&this.session.$wrap==-1&&this.adjustWrapLimit()}},this.getContainerElement=function(){return this.container},this.getMouseEventTarget=function(){return this.scroller},this.getTextAreaContainer=function(){return this.container},this.$moveTextAreaToCursor=function(){if(this.$keepTextAreaAtCursor){var e=this.layerConfig,t=this.$cursorLayer.$pixelPos.top,i=this.$cursorLayer.$pixelPos.left;t-=e.offset;var n=this.textarea.style,s=this.lineHeight;if(t<0||t>e.height-s)return void(n.top=n.left="0");var r=this.characterWidth;if(this.$composition){var o=this.textarea.value.replace(/^\x01+/,"");r*=this.session.$getStringScreenWidth(o)[0]+2,s+=2}i-=this.scrollLeft,i>this.$size.scrollerWidth-r&&(i=this.$size.scrollerWidth-r),i+=this.gutterWidth,n.height=s+"px",n.width=r+"px",n.left=Math.min(i,this.$size.scrollerWidth-r)+"px",n.top=Math.min(t,this.$size.height-s)+"px"}},this.getFirstVisibleRow=function(){return this.layerConfig.firstRow},this.getFirstFullyVisibleRow=function(){return this.layerConfig.firstRow+(0===this.layerConfig.offset?0:1)},this.getLastFullyVisibleRow=function(){var e=this.layerConfig,t=e.lastRow,i=this.session.documentToScreenRow(t,0)*e.lineHeight;return i-this.session.getScrollTop()>e.height-e.lineHeight?t-1:t},this.getLastVisibleRow=function(){return this.layerConfig.lastRow},this.$padding=null,this.setPadding=function(e){this.$padding=e,this.$textLayer.setPadding(e),this.$cursorLayer.setPadding(e),this.$markerFront.setPadding(e),this.$markerBack.setPadding(e),this.$loop.schedule(this.CHANGE_FULL),this.$updatePrintMargin()},this.setScrollMargin=function(e,t,i,n){var s=this.scrollMargin;s.top=0|e,s.bottom=0|t,s.right=0|n,s.left=0|i,s.v=s.top+s.bottom,s.h=s.left+s.right,s.top&&this.scrollTop<=0&&this.session&&this.session.setScrollTop(-s.top),this.updateFull()},this.getHScrollBarAlwaysVisible=function(){return this.$hScrollBarAlwaysVisible},this.setHScrollBarAlwaysVisible=function(e){this.setOption("hScrollBarAlwaysVisible",e)},this.getVScrollBarAlwaysVisible=function(){return this.$vScrollBarAlwaysVisible},this.setVScrollBarAlwaysVisible=function(e){this.setOption("vScrollBarAlwaysVisible",e)},this.$updateScrollBarV=function(){var e=this.layerConfig.maxHeight,t=this.$size.scrollerHeight;!this.$maxLines&&this.$scrollPastEnd&&(e-=(t-this.lineHeight)*this.$scrollPastEnd,this.scrollTop>e-t&&(e=this.scrollTop+t,this.scrollBarV.scrollTop=null)),this.scrollBarV.setScrollHeight(e+this.scrollMargin.v),this.scrollBarV.setScrollTop(this.scrollTop+this.scrollMargin.top)},this.$updateScrollBarH=function(){this.scrollBarH.setScrollWidth(this.layerConfig.width+2*this.$padding+this.scrollMargin.h),this.scrollBarH.setScrollLeft(this.scrollLeft+this.scrollMargin.left)},this.$frozen=!1,this.freeze=function(){this.$frozen=!0},this.unfreeze=function(){this.$frozen=!1},this.$renderChanges=function(e,t){if(this.$changes&&(e|=this.$changes,this.$changes=0),!this.session||!this.container.offsetWidth||this.$frozen||!e&&!t)return void(this.$changes|=e);if(this.$size.$dirty)return this.$changes|=e,this.onResize(!0);this.lineHeight||this.$textLayer.checkForSizeChanges(),this._signal("beforeRender");var i=this.layerConfig;if(e&this.CHANGE_FULL||e&this.CHANGE_SIZE||e&this.CHANGE_TEXT||e&this.CHANGE_LINES||e&this.CHANGE_SCROLL||e&this.CHANGE_H_SCROLL){if(e|=this.$computeLayerConfig(),i.firstRow!=this.layerConfig.firstRow&&i.firstRowScreen==this.layerConfig.firstRowScreen){var n=this.scrollTop+(i.firstRow-this.layerConfig.firstRow)*this.lineHeight;n>0&&(this.scrollTop=n,e|=this.CHANGE_SCROLL,e|=this.$computeLayerConfig())}i=this.layerConfig,this.$updateScrollBarV(),e&this.CHANGE_H_SCROLL&&this.$updateScrollBarH(),this.$gutterLayer.element.style.marginTop=-i.offset+"px",this.content.style.marginTop=-i.offset+"px",this.content.style.width=i.width+2*this.$padding+"px",this.content.style.height=i.minHeight+"px"}return e&this.CHANGE_H_SCROLL&&(this.content.style.marginLeft=-this.scrollLeft+"px",this.scroller.className=this.scrollLeft<=0?"ace_scroller":"ace_scroller ace_scroll-left"),e&this.CHANGE_FULL?(this.$textLayer.update(i),this.$showGutter&&this.$gutterLayer.update(i),this.$markerBack.update(i),this.$markerFront.update(i),this.$cursorLayer.update(i),this.$moveTextAreaToCursor(),this.$highlightGutterLine&&this.$updateGutterLineHighlight(),this._signal("afterRender"),void 0):e&this.CHANGE_SCROLL?(e&this.CHANGE_TEXT||e&this.CHANGE_LINES?this.$textLayer.update(i):this.$textLayer.scrollLines(i),this.$showGutter&&this.$gutterLayer.update(i),this.$markerBack.update(i),this.$markerFront.update(i),this.$cursorLayer.update(i),this.$highlightGutterLine&&this.$updateGutterLineHighlight(),this.$moveTextAreaToCursor(),this._signal("afterRender"),void 0):(e&this.CHANGE_TEXT?(this.$textLayer.update(i),this.$showGutter&&this.$gutterLayer.update(i)):e&this.CHANGE_LINES?(this.$updateLines()||e&this.CHANGE_GUTTER&&this.$showGutter)&&this.$gutterLayer.update(i):(e&this.CHANGE_TEXT||e&this.CHANGE_GUTTER)&&this.$showGutter&&this.$gutterLayer.update(i),e&this.CHANGE_CURSOR&&(this.$cursorLayer.update(i),this.$moveTextAreaToCursor(),this.$highlightGutterLine&&this.$updateGutterLineHighlight()),e&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)&&this.$markerFront.update(i),e&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)&&this.$markerBack.update(i),this._signal("afterRender"),void 0)},this.$autosize=function(){var e=this.session.getScreenLength()*this.lineHeight,t=this.$maxLines*this.lineHeight,i=Math.max((this.$minLines||1)*this.lineHeight,Math.min(t,e))+this.scrollMargin.v+(this.$extraHeight||0);this.$horizScroll&&(i+=this.scrollBarH.getHeight());var n=e>t;if(i!=this.desiredHeight||this.$size.height!=this.desiredHeight||n!=this.$vScroll){n!=this.$vScroll&&(this.$vScroll=n,this.scrollBarV.setVisible(n));var s=this.container.clientWidth;this.container.style.height=i+"px",this.$updateCachedSize(!0,this.$gutterWidth,s,i),this.desiredHeight=i,this._signal("autosize")}},this.$computeLayerConfig=function(){var e=this.session,t=this.$size,i=t.height<=2*this.lineHeight,n=this.session.getScreenLength(),s=n*this.lineHeight,r=this.$getLongestLine(),o=!i&&(this.$hScrollBarAlwaysVisible||t.scrollerWidth-r-2*this.$padding<0),a=this.$horizScroll!==o;a&&(this.$horizScroll=o,this.scrollBarH.setVisible(o));var l=this.$vScroll;this.$maxLines&&this.lineHeight>1&&this.$autosize();var c=this.scrollTop%this.lineHeight,u=t.scrollerHeight+this.lineHeight,d=!this.$maxLines&&this.$scrollPastEnd?(t.scrollerHeight-this.lineHeight)*this.$scrollPastEnd:0;s+=d;var h=this.scrollMargin;this.session.setScrollTop(Math.max(-h.top,Math.min(this.scrollTop,s-t.scrollerHeight+h.bottom))),this.session.setScrollLeft(Math.max(-h.left,Math.min(this.scrollLeft,r+2*this.$padding-t.scrollerWidth+h.right)));var p=!i&&(this.$vScrollBarAlwaysVisible||t.scrollerHeight-s+d<0||this.scrollTop>h.top),f=l!==p;f&&(this.$vScroll=p,this.scrollBarV.setVisible(p));var g,m,v=Math.ceil(u/this.lineHeight)-1,b=Math.max(0,Math.round((this.scrollTop-c)/this.lineHeight)),w=b+v,y=this.lineHeight;b=e.screenToDocumentRow(b,0);var A=e.getFoldLine(b);A&&(b=A.start.row),g=e.documentToScreenRow(b,0),m=e.getRowLength(b)*y,w=Math.min(e.screenToDocumentRow(w,0),e.getLength()-1),u=t.scrollerHeight+e.getRowLength(w)*y+m,c=this.scrollTop-g*y;var k=0;return this.layerConfig.width!=r&&(k=this.CHANGE_H_SCROLL),(a||f)&&(k=this.$updateCachedSize(!0,this.gutterWidth,t.width,t.height),this._signal("scrollbarVisibilityChanged"),f&&(r=this.$getLongestLine())),this.layerConfig={width:r,padding:this.$padding,firstRow:b,firstRowScreen:g,lastRow:w,lineHeight:y,characterWidth:this.characterWidth,minHeight:u,maxHeight:s,offset:c,gutterOffset:Math.max(0,Math.ceil((c+t.height-t.scrollerHeight)/y)),height:this.$size.scrollerHeight},k},this.$updateLines=function(){var e=this.$changedLines.firstRow,t=this.$changedLines.lastRow;this.$changedLines=null;var i=this.layerConfig;if(!(e>i.lastRow+1||t<i.firstRow))return t===1/0?(this.$showGutter&&this.$gutterLayer.update(i),void this.$textLayer.update(i)):(this.$textLayer.updateLines(i,e,t),!0)},this.$getLongestLine=function(){var e=this.session.getScreenWidth();return this.showInvisibles&&!this.session.$useWrapMode&&(e+=1),Math.max(this.$size.scrollerWidth-2*this.$padding,Math.round(e*this.characterWidth))},this.updateFrontMarkers=function(){this.$markerFront.setMarkers(this.session.getMarkers(!0)),this.$loop.schedule(this.CHANGE_MARKER_FRONT)},this.updateBackMarkers=function(){this.$markerBack.setMarkers(this.session.getMarkers()),this.$loop.schedule(this.CHANGE_MARKER_BACK)},this.addGutterDecoration=function(e,t){this.$gutterLayer.addGutterDecoration(e,t)},this.removeGutterDecoration=function(e,t){this.$gutterLayer.removeGutterDecoration(e,t)},this.updateBreakpoints=function(e){this.$loop.schedule(this.CHANGE_GUTTER)},this.setAnnotations=function(e){this.$gutterLayer.setAnnotations(e),this.$loop.schedule(this.CHANGE_GUTTER)},this.updateCursor=function(){this.$loop.schedule(this.CHANGE_CURSOR)},this.hideCursor=function(){this.$cursorLayer.hideCursor()},this.showCursor=function(){this.$cursorLayer.showCursor()},this.scrollSelectionIntoView=function(e,t,i){this.scrollCursorIntoView(e,i),this.scrollCursorIntoView(t,i)},this.scrollCursorIntoView=function(e,t,i){if(0!==this.$size.scrollerHeight){var n=this.$cursorLayer.getPixelPosition(e),s=n.left,r=n.top,o=i&&i.top||0,a=i&&i.bottom||0,l=this.$scrollAnimation?this.session.getScrollTop():this.scrollTop;l+o>r?(t&&l+o>r+this.lineHeight&&(r-=t*this.$size.scrollerHeight),0===r&&(r=-this.scrollMargin.top),this.session.setScrollTop(r)):l+this.$size.scrollerHeight-a<r+this.lineHeight&&(t&&l+this.$size.scrollerHeight-a<r-this.lineHeight&&(r+=t*this.$size.scrollerHeight),this.session.setScrollTop(r+this.lineHeight-this.$size.scrollerHeight));var c=this.scrollLeft;c>s?(s<this.$padding+2*this.layerConfig.characterWidth&&(s=-this.scrollMargin.left),this.session.setScrollLeft(s)):c+this.$size.scrollerWidth<s+this.characterWidth?this.session.setScrollLeft(Math.round(s+this.characterWidth-this.$size.scrollerWidth)):c<=this.$padding&&s-c<this.characterWidth&&this.session.setScrollLeft(0)}},this.getScrollTop=function(){return this.session.getScrollTop()},this.getScrollLeft=function(){return this.session.getScrollLeft()},this.getScrollTopRow=function(){return this.scrollTop/this.lineHeight},this.getScrollBottomRow=function(){return Math.max(0,Math.floor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)},this.scrollToRow=function(e){this.session.setScrollTop(e*this.lineHeight)},this.alignCursor=function(e,t){"number"==typeof e&&(e={row:e,column:0});var i=this.$cursorLayer.getPixelPosition(e),n=this.$size.scrollerHeight-this.lineHeight,s=i.top-n*(t||0);return this.session.setScrollTop(s),s},this.STEPS=8,this.$calcSteps=function(e,t){var i=0,n=this.STEPS,s=[],r=function(e,t,i){return i*(Math.pow(e-1,3)+1)+t};for(i=0;i<n;++i)s.push(r(i/this.STEPS,e,t-e));return s},this.scrollToLine=function(e,t,i,n){var s=this.$cursorLayer.getPixelPosition({row:e,column:0}),r=s.top;t&&(r-=this.$size.scrollerHeight/2);var o=this.scrollTop;this.session.setScrollTop(r),i!==!1&&this.animateScrolling(o,n)},this.animateScrolling=function(e,t){var i=this.scrollTop;if(this.$animatedScroll){var n=this;if(e!=i){if(this.$scrollAnimation){var s=this.$scrollAnimation.steps;if(s.length&&(e=s[0],e==i))return}var r=n.$calcSteps(e,i);this.$scrollAnimation={from:e,to:i,steps:r},clearInterval(this.$timer),n.session.setScrollTop(r.shift()),n.session.$scrollTop=i,this.$timer=setInterval(function(){r.length?(n.session.setScrollTop(r.shift()),n.session.$scrollTop=i):null!=i?(n.session.$scrollTop=-1,n.session.setScrollTop(i),i=null):(n.$timer=clearInterval(n.$timer),n.$scrollAnimation=null,t&&t())},10)}}},this.scrollToY=function(e){this.scrollTop!==e&&(this.$loop.schedule(this.CHANGE_SCROLL),this.scrollTop=e)},this.scrollToX=function(e){this.scrollLeft!==e&&(this.scrollLeft=e),this.$loop.schedule(this.CHANGE_H_SCROLL)},this.scrollTo=function(e,t){this.session.setScrollTop(t),this.session.setScrollLeft(t)},this.scrollBy=function(e,t){t&&this.session.setScrollTop(this.session.getScrollTop()+t),e&&this.session.setScrollLeft(this.session.getScrollLeft()+e)},this.isScrollableBy=function(e,t){return t<0&&this.session.getScrollTop()>=1-this.scrollMargin.top||(t>0&&this.session.getScrollTop()+this.$size.scrollerHeight-this.layerConfig.maxHeight<-1+this.scrollMargin.bottom||(e<0&&this.session.getScrollLeft()>=1-this.scrollMargin.left||(e>0&&this.session.getScrollLeft()+this.$size.scrollerWidth-this.layerConfig.width<-1+this.scrollMargin.right||void 0)))},this.pixelToScreenCoordinates=function(e,t){var i=this.scroller.getBoundingClientRect(),n=(e+this.scrollLeft-i.left-this.$padding)/this.characterWidth,s=Math.floor((t+this.scrollTop-i.top)/this.lineHeight),r=Math.round(n);return{row:s,column:r,side:n-r>0?1:-1}},this.screenToTextCoordinates=function(e,t){var i=this.scroller.getBoundingClientRect(),n=Math.round((e+this.scrollLeft-i.left-this.$padding)/this.characterWidth),s=(t+this.scrollTop-i.top)/this.lineHeight;return this.session.screenToDocumentPosition(s,Math.max(n,0))},this.textToScreenCoordinates=function(e,t){var i=this.scroller.getBoundingClientRect(),n=this.session.documentToScreenPosition(e,t),s=this.$padding+Math.round(n.column*this.characterWidth),r=n.row*this.lineHeight;return{pageX:i.left+s-this.scrollLeft,pageY:i.top+r-this.scrollTop}},this.visualizeFocus=function(){s.addCssClass(this.container,"ace_focus")},this.visualizeBlur=function(){s.removeCssClass(this.container,"ace_focus")},this.showComposition=function(e){this.$composition||(this.$composition={keepTextAreaAtCursor:this.$keepTextAreaAtCursor,cssText:this.textarea.style.cssText}),this.$keepTextAreaAtCursor=!0,s.addCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText="",this.$moveTextAreaToCursor()},this.setCompositionText=function(e){this.$moveTextAreaToCursor()},this.hideComposition=function(){this.$composition&&(s.removeCssClass(this.textarea,"ace_composition"),this.$keepTextAreaAtCursor=this.$composition.keepTextAreaAtCursor,this.textarea.style.cssText=this.$composition.cssText,this.$composition=null)},this.setTheme=function(e,t){function i(i){if(n.$themeId!=e)return t&&t();if(i.cssClass){s.importCssString(i.cssText,i.cssClass,n.container.ownerDocument),n.theme&&s.removeCssClass(n.container,n.theme.cssClass);var r="padding"in i?i.padding:"padding"in(n.theme||{})?4:n.$padding;n.$padding&&r!=n.$padding&&n.setPadding(r),n.$theme=i.cssClass,n.theme=i,s.addCssClass(n.container,i.cssClass),s.setCssClass(n.container,"ace_dark",i.isDark),n.$size&&(n.$size.width=0,n.$updateSizeAsync()),n._dispatchEvent("themeLoaded",{theme:i}),t&&t()}}var n=this;if(this.$themeId=e,n._dispatchEvent("themeChange",{theme:e}),e&&"string"!=typeof e)i(e);else{var o=e||this.$options.theme.initialValue;r.loadModule(["theme",o],i)}},this.getTheme=function(){return this.$themeId},this.setStyle=function(e,t){s.setCssClass(this.container,e,t!==!1)},this.unsetStyle=function(e){s.removeCssClass(this.container,e)},this.setCursorStyle=function(e){this.scroller.style.cursor!=e&&(this.scroller.style.cursor=e)},this.setMouseCursor=function(e){this.scroller.style.cursor=e},this.destroy=function(){this.$textLayer.destroy(),this.$cursorLayer.destroy()}}).call(v.prototype),r.defineOptions(v.prototype,"renderer",{animatedScroll:{initialValue:!1},showInvisibles:{set:function(e){this.$textLayer.setShowInvisibles(e)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!1},showPrintMargin:{set:function(){this.$updatePrintMargin()},initialValue:!0},printMarginColumn:{set:function(){this.$updatePrintMargin()},initialValue:80},printMargin:{set:function(e){"number"==typeof e&&(this.$printMarginColumn=e),this.$showPrintMargin=!!e,this.$updatePrintMargin()},get:function(){return this.$showPrintMargin&&this.$printMarginColumn}},showGutter:{set:function(e){this.$gutter.style.display=e?"block":"none",this.$loop.schedule(this.CHANGE_FULL),this.onGutterResize()},initialValue:!0},fadeFoldWidgets:{set:function(e){s.setCssClass(this.$gutter,"ace_fade-fold-widgets",e)},initialValue:!1},showFoldWidgets:{set:function(e){this.$gutterLayer.setShowFoldWidgets(e)},initialValue:!0},showLineNumbers:{set:function(e){this.$gutterLayer.setShowLineNumbers(e),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},displayIndentGuides:{set:function(e){this.$textLayer.setDisplayIndentGuides(e)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!0},highlightGutterLine:{set:function(e){return this.$gutterLineHighlight?(this.$gutterLineHighlight.style.display=e?"":"none",void(this.$cursorLayer.$pixelPos&&this.$updateGutterLineHighlight())):(this.$gutterLineHighlight=s.createElement("div"),this.$gutterLineHighlight.className="ace_gutter-active-line",this.$gutter.appendChild(this.$gutterLineHighlight),void 0)},initialValue:!1,value:!0},hScrollBarAlwaysVisible:{set:function(e){(!this.$hScrollBarAlwaysVisible||!this.$horizScroll)&&this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},vScrollBarAlwaysVisible:{set:function(e){(!this.$vScrollBarAlwaysVisible||!this.$vScroll)&&this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},fontSize:{set:function(e){"number"==typeof e&&(e+="px"),this.container.style.fontSize=e,this.updateFontSize()},initialValue:12},fontFamily:{set:function(e){this.container.style.fontFamily=e,this.updateFontSize()}},maxLines:{set:function(e){this.updateFull()}},minLines:{set:function(e){this.updateFull()}},scrollPastEnd:{set:function(e){e=+e||0,this.$scrollPastEnd!=e&&(this.$scrollPastEnd=e,this.$loop.schedule(this.CHANGE_SCROLL))},initialValue:0,handlesSet:!0},fixedWidthGutter:{set:function(e){this.$gutterLayer.$fixedWidth=!!e,this.$loop.schedule(this.CHANGE_GUTTER)}},theme:{set:function(e){this.setTheme(e)},get:function(){return this.$themeId||this.theme},initialValue:"./theme/textmate",handlesSet:!0}}),t.VirtualRenderer=v}),ace.define("ace/worker/worker_client",["require","exports","module","ace/lib/oop","ace/lib/net","ace/lib/event_emitter","ace/config"],function(e,t,i){"use strict";var n=e("../lib/oop"),s=e("../lib/net"),r=e("../lib/event_emitter").EventEmitter,o=e("../config"),a=function(t,i,n,s){if(this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.onMessage=this.onMessage.bind(this),e.nameToUrl&&!e.toUrl&&(e.toUrl=e.nameToUrl),o.get("packaged")||!e.toUrl)s=s||o.moduleUrl(i,"worker");else{var r=this.$normalizePath;s=s||r(e.toUrl("ace/worker/worker.js",null,"_"));var a={};t.forEach(function(t){a[t]=r(e.toUrl(t,null,"_").replace(/(\.js)?(\?.*)?$/,""))})}try{this.$worker=new Worker(s)}catch(l){if(!(l instanceof window.DOMException))throw l;var c=this.$workerBlob(s),u=window.URL||window.webkitURL,d=u.createObjectURL(c);this.$worker=new Worker(d),u.revokeObjectURL(d)}this.$worker.postMessage({init:!0,tlns:a,module:i,classname:n}),this.callbackId=1,this.callbacks={},this.$worker.onmessage=this.onMessage};(function(){n.implement(this,r),this.onMessage=function(e){var t=e.data;switch(t.type){case"event":this._signal(t.name,{data:t.data});break;case"call":var i=this.callbacks[t.id];i&&(i(t.data),delete this.callbacks[t.id]);break;case"error":this.reportError(t.data);break;case"log":window.console&&console.log&&console.log.apply(console,t.data)}},this.reportError=function(e){window.console&&console.error&&console.error(e)},this.$normalizePath=function(e){return s.qualifyURL(e)},this.terminate=function(){this._signal("terminate",{}),this.deltaQueue=null,this.$worker.terminate(),this.$worker=null,this.$doc&&this.$doc.off("change",this.changeListener),this.$doc=null},this.send=function(e,t){this.$worker.postMessage({command:e,args:t})},this.call=function(e,t,i){if(i){var n=this.callbackId++;this.callbacks[n]=i,t.push(n)}this.send(e,t)},this.emit=function(e,t){try{this.$worker.postMessage({event:e,data:{data:t.data}})}catch(i){console.error(i.stack)}},this.attachToDocument=function(e){this.$doc&&this.terminate(),this.$doc=e,this.call("setValue",[e.getValue()]),e.on("change",this.changeListener)},this.changeListener=function(e){this.deltaQueue||(this.deltaQueue=[],setTimeout(this.$sendDeltaQueue,0)),"insert"==e.action?this.deltaQueue.push(e.start,e.lines):this.deltaQueue.push(e.start,e.end)},this.$sendDeltaQueue=function(){var e=this.deltaQueue;e&&(this.deltaQueue=null,e.length>50&&e.length>this.$doc.getLength()>>1?this.call("setValue",[this.$doc.getValue()]):this.emit("change",{data:e}))},this.$workerBlob=function(e){var t="importScripts('"+s.qualifyURL(e)+"');";try{return new Blob([t],{type:"application/javascript"})}catch(i){var n=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder,r=new n;return r.append(t),r.getBlob("application/javascript")}}}).call(a.prototype);var l=function(e,t,i){this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.callbackId=1,this.callbacks={},this.messageBuffer=[];var n=null,s=!1,a=Object.create(r),l=this;this.$worker={},this.$worker.terminate=function(){},this.$worker.postMessage=function(e){l.messageBuffer.push(e),n&&(s?setTimeout(c):c())},this.setEmitSync=function(e){s=e};var c=function(){var e=l.messageBuffer.shift();e.command?n[e.command].apply(n,e.args):e.event&&a._signal(e.event,e.data)};a.postMessage=function(e){l.onMessage({data:e})},a.callback=function(e,t){this.postMessage({type:"call",id:t,data:e})},a.emit=function(e,t){this.postMessage({type:"event",name:e,data:t})},o.loadModule(["worker",t],function(e){for(n=new e[i](a);l.messageBuffer.length;)c()})};l.prototype=a.prototype,t.UIWorkerClient=l,t.WorkerClient=a}),ace.define("ace/placeholder",["require","exports","module","ace/range","ace/lib/event_emitter","ace/lib/oop"],function(e,t,i){"use strict";var n=e("./range").Range,s=e("./lib/event_emitter").EventEmitter,r=e("./lib/oop"),o=function(e,t,i,n,s,r){var o=this;this.length=t,this.session=e,this.doc=e.getDocument(),this.mainClass=s,this.othersClass=r,this.$onUpdate=this.onUpdate.bind(this),this.doc.on("change",this.$onUpdate),this.$others=n,this.$onCursorChange=function(){setTimeout(function(){o.onCursorChange()})},this.$pos=i;var a=e.getUndoManager().$undoStack||e.getUndoManager().$undostack||{length:-1};this.$undoStackDepth=a.length,this.setup(),e.selection.on("changeCursor",this.$onCursorChange)};(function(){r.implement(this,s),this.setup=function(){var e=this,t=this.doc,i=this.session;this.selectionBefore=i.selection.toJSON(),i.selection.inMultiSelectMode&&i.selection.toSingleRange(),this.pos=t.createAnchor(this.$pos.row,this.$pos.column);var s=this.pos;s.$insertRight=!0,s.detach(),s.markerId=i.addMarker(new n(s.row,s.column,s.row,s.column+this.length),this.mainClass,null,!1),this.others=[],this.$others.forEach(function(i){var n=t.createAnchor(i.row,i.column);n.$insertRight=!0,n.detach(),e.others.push(n)}),i.setUndoSelect(!1)},this.showOtherMarkers=function(){if(!this.othersActive){var e=this.session,t=this;this.othersActive=!0,this.others.forEach(function(i){i.markerId=e.addMarker(new n(i.row,i.column,i.row,i.column+t.length),t.othersClass,null,!1)})}},this.hideOtherMarkers=function(){if(this.othersActive){this.othersActive=!1;for(var e=0;e<this.others.length;e++)this.session.removeMarker(this.others[e].markerId)}},this.onUpdate=function(e){if(this.$updating)return this.updateAnchors(e);var t=e;if(t.start.row===t.end.row&&t.start.row===this.pos.row){
this.$updating=!0;var i="insert"===e.action?t.end.column-t.start.column:t.start.column-t.end.column,s=t.start.column>=this.pos.column&&t.start.column<=this.pos.column+this.length+1,r=t.start.column-this.pos.column;if(this.updateAnchors(e),s&&(this.length+=i),s&&!this.session.$fromUndo)if("insert"===e.action)for(var o=this.others.length-1;o>=0;o--){var a=this.others[o],l={row:a.row,column:a.column+r};this.doc.insertMergedLines(l,e.lines)}else if("remove"===e.action)for(var o=this.others.length-1;o>=0;o--){var a=this.others[o],l={row:a.row,column:a.column+r};this.doc.remove(new n(l.row,l.column,l.row,l.column-i))}this.$updating=!1,this.updateMarkers()}},this.updateAnchors=function(e){this.pos.onChange(e);for(var t=this.others.length;t--;)this.others[t].onChange(e);this.updateMarkers()},this.updateMarkers=function(){if(!this.$updating){var e=this,t=this.session,i=function(i,s){t.removeMarker(i.markerId),i.markerId=t.addMarker(new n(i.row,i.column,i.row,i.column+e.length),s,null,!1)};i(this.pos,this.mainClass);for(var s=this.others.length;s--;)i(this.others[s],this.othersClass)}},this.onCursorChange=function(e){if(!this.$updating&&this.session){var t=this.session.selection.getCursor();t.row===this.pos.row&&t.column>=this.pos.column&&t.column<=this.pos.column+this.length?(this.showOtherMarkers(),this._emit("cursorEnter",e)):(this.hideOtherMarkers(),this._emit("cursorLeave",e))}},this.detach=function(){this.session.removeMarker(this.pos&&this.pos.markerId),this.hideOtherMarkers(),this.doc.removeEventListener("change",this.$onUpdate),this.session.selection.removeEventListener("changeCursor",this.$onCursorChange),this.session.setUndoSelect(!0),this.session=null},this.cancel=function(){if(this.$undoStackDepth!==-1){for(var e=this.session.getUndoManager(),t=(e.$undoStack||e.$undostack).length-this.$undoStackDepth,i=0;i<t;i++)e.undo(!0);this.selectionBefore&&this.session.selection.fromJSON(this.selectionBefore)}}}).call(o.prototype),t.PlaceHolder=o}),ace.define("ace/mouse/multi_select_handler",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(e,t,i){function n(e,t){return e.row==t.row&&e.column==t.column}function s(e){var t=e.domEvent,i=t.altKey,s=t.shiftKey,a=t.ctrlKey,l=e.getAccelKey(),c=e.getButton();if(a&&o.isMac&&(c=t.button),e.editor.inMultiSelectMode&&2==c)return void e.editor.textInput.onContextMenu(e.domEvent);if(!a&&!i&&!l)return void(0===c&&e.editor.inMultiSelectMode&&e.editor.exitMultiSelectMode());if(0===c){var u,d=e.editor,h=d.selection,p=d.inMultiSelectMode,f=e.getDocumentPosition(),g=h.getCursor(),m=e.inSelection()||h.isEmpty()&&n(f,g),v=e.x,b=e.y,w=function(e){v=e.clientX,b=e.clientY},y=d.session,A=d.renderer.pixelToScreenCoordinates(v,b),k=A;if(d.$mouseHandler.$enableJumpToDef)a&&i||l&&i?u=s?"block":"add":i&&d.$blockSelectEnabled&&(u="block");else if(l&&!i){if(u="add",!p&&s)return}else i&&d.$blockSelectEnabled&&(u="block");if(u&&o.isMac&&t.ctrlKey&&d.$mouseHandler.cancelContextMenu(),"add"==u){if(!p&&m)return;if(!p){var C=h.toOrientedRange();d.addSelectionMarker(C)}var x=h.rangeList.rangeAtPoint(f);d.$blockScrolling++,d.inVirtualSelectionMode=!0,s&&(x=null,C=h.ranges[0]||C,d.removeSelectionMarker(C)),d.once("mouseup",function(){var e=h.toOrientedRange();x&&e.isEmpty()&&n(x.cursor,e.cursor)?h.substractPoint(e.cursor):(s?h.substractPoint(C.cursor):C&&(d.removeSelectionMarker(C),h.addRange(C)),h.addRange(e)),d.$blockScrolling--,d.inVirtualSelectionMode=!1})}else if("block"==u){e.stop(),d.inVirtualSelectionMode=!0;var _,S=[],E=function(){var e=d.renderer.pixelToScreenCoordinates(v,b),t=y.screenToDocumentPosition(e.row,e.column);n(k,e)&&n(t,h.lead)||(k=e,d.$blockScrolling++,d.selection.moveToPosition(t),d.renderer.scrollCursorIntoView(),d.removeSelectionMarkers(S),S=h.rectangularRangeBlock(k,A),d.$mouseHandler.$clickSelection&&1==S.length&&S[0].isEmpty()&&(S[0]=d.$mouseHandler.$clickSelection.clone()),S.forEach(d.addSelectionMarker,d),d.updateSelectionMarkers(),d.$blockScrolling--)};d.$blockScrolling++,p&&!l?h.toSingleRange():!p&&l&&(_=h.toOrientedRange(),d.addSelectionMarker(_)),s?A=y.documentToScreenPosition(h.lead):h.moveToPosition(f),d.$blockScrolling--,k={row:-1,column:-1};var F=function(e){clearInterval($),d.removeSelectionMarkers(S),S.length||(S=[h.toOrientedRange()]),d.$blockScrolling++,_&&(d.removeSelectionMarker(_),h.toSingleRange(_));for(var t=0;t<S.length;t++)h.addRange(S[t]);d.inVirtualSelectionMode=!1,d.$mouseHandler.$clickSelection=null,d.$blockScrolling--},D=E;r.capture(d.container,w,F);var $=setInterval(function(){D()},20);return e.preventDefault()}}}var r=e("../lib/event"),o=e("../lib/useragent");t.onMouseDown=s}),ace.define("ace/commands/multi_select_commands",["require","exports","module","ace/keyboard/hash_handler"],function(e,t,i){t.defaultCommands=[{name:"addCursorAbove",exec:function(e){e.selectMoreLines(-1)},bindKey:{win:"Ctrl-Alt-Up",mac:"Ctrl-Alt-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelow",exec:function(e){e.selectMoreLines(1)},bindKey:{win:"Ctrl-Alt-Down",mac:"Ctrl-Alt-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorAboveSkipCurrent",exec:function(e){e.selectMoreLines(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Up",mac:"Ctrl-Alt-Shift-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelowSkipCurrent",exec:function(e){e.selectMoreLines(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Down",mac:"Ctrl-Alt-Shift-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreBefore",exec:function(e){e.selectMore(-1)},bindKey:{win:"Ctrl-Alt-Left",mac:"Ctrl-Alt-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreAfter",exec:function(e){e.selectMore(1)},bindKey:{win:"Ctrl-Alt-Right",mac:"Ctrl-Alt-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextBefore",exec:function(e){e.selectMore(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Left",mac:"Ctrl-Alt-Shift-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextAfter",exec:function(e){e.selectMore(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Right",mac:"Ctrl-Alt-Shift-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"splitIntoLines",exec:function(e){e.multiSelect.splitIntoLines()},bindKey:{win:"Ctrl-Alt-L",mac:"Ctrl-Alt-L"},readOnly:!0},{name:"alignCursors",exec:function(e){e.alignCursors()},bindKey:{win:"Ctrl-Alt-A",mac:"Ctrl-Alt-A"},scrollIntoView:"cursor"},{name:"findAll",exec:function(e){e.findAll()},bindKey:{win:"Ctrl-Alt-K",mac:"Ctrl-Alt-G"},scrollIntoView:"cursor",readOnly:!0}],t.multiSelectCommands=[{name:"singleSelection",bindKey:"esc",exec:function(e){e.exitMultiSelectMode()},scrollIntoView:"cursor",readOnly:!0,isAvailable:function(e){return e&&e.inMultiSelectMode}}];var n=e("../keyboard/hash_handler").HashHandler;t.keyboardHandler=new n(t.multiSelectCommands)}),ace.define("ace/multi_select",["require","exports","module","ace/range_list","ace/range","ace/selection","ace/mouse/multi_select_handler","ace/lib/event","ace/lib/lang","ace/commands/multi_select_commands","ace/search","ace/edit_session","ace/editor","ace/config"],function(e,t,i){function n(e,t,i){return g.$options.wrap=!0,g.$options.needle=t,g.$options.backwards=i==-1,g.find(e)}function s(e,t){return e.row==t.row&&e.column==t.column}function r(e){e.$multiselectOnSessionChange||(e.$onAddRange=e.$onAddRange.bind(e),e.$onRemoveRange=e.$onRemoveRange.bind(e),e.$onMultiSelect=e.$onMultiSelect.bind(e),e.$onSingleSelect=e.$onSingleSelect.bind(e),e.$multiselectOnSessionChange=t.onSessionChange.bind(e),e.$checkMultiselectChange=e.$checkMultiselectChange.bind(e),e.$multiselectOnSessionChange(e),e.on("changeSession",e.$multiselectOnSessionChange),e.on("mousedown",u),e.commands.addCommands(p.defaultCommands),o(e))}function o(e){function t(t){n&&(e.renderer.setMouseCursor(""),n=!1)}var i=e.textInput.getElement(),n=!1;d.addListener(i,"keydown",function(i){var s=18==i.keyCode&&!(i.ctrlKey||i.shiftKey||i.metaKey);e.$blockSelectEnabled&&s?n||(e.renderer.setMouseCursor("crosshair"),n=!0):n&&t()}),d.addListener(i,"keyup",t),d.addListener(i,"blur",t)}var a=e("./range_list").RangeList,l=e("./range").Range,c=e("./selection").Selection,u=e("./mouse/multi_select_handler").onMouseDown,d=e("./lib/event"),h=e("./lib/lang"),p=e("./commands/multi_select_commands");t.commands=p.defaultCommands.concat(p.multiSelectCommands);var f=e("./search").Search,g=new f,m=e("./edit_session").EditSession;(function(){this.getSelectionMarkers=function(){return this.$selectionMarkers}}).call(m.prototype),function(){this.ranges=null,this.rangeList=null,this.addRange=function(e,t){if(e){if(!this.inMultiSelectMode&&0===this.rangeCount){var i=this.toOrientedRange();if(this.rangeList.add(i),this.rangeList.add(e),2!=this.rangeList.ranges.length)return this.rangeList.removeAll(),t||this.fromOrientedRange(e);this.rangeList.removeAll(),this.rangeList.add(i),this.$onAddRange(i)}e.cursor||(e.cursor=e.end);var n=this.rangeList.add(e);return this.$onAddRange(e),n.length&&this.$onRemoveRange(n),this.rangeCount>1&&!this.inMultiSelectMode&&(this._signal("multiSelect"),this.inMultiSelectMode=!0,this.session.$undoSelect=!1,this.rangeList.attach(this.session)),t||this.fromOrientedRange(e)}},this.toSingleRange=function(e){e=e||this.ranges[0];var t=this.rangeList.removeAll();t.length&&this.$onRemoveRange(t),e&&this.fromOrientedRange(e)},this.substractPoint=function(e){var t=this.rangeList.substractPoint(e);if(t)return this.$onRemoveRange(t),t[0]},this.mergeOverlappingRanges=function(){var e=this.rangeList.merge();e.length?this.$onRemoveRange(e):this.ranges[0]&&this.fromOrientedRange(this.ranges[0])},this.$onAddRange=function(e){this.rangeCount=this.rangeList.ranges.length,this.ranges.unshift(e),this._signal("addRange",{range:e})},this.$onRemoveRange=function(e){if(this.rangeCount=this.rangeList.ranges.length,1==this.rangeCount&&this.inMultiSelectMode){var t=this.rangeList.ranges.pop();e.push(t),this.rangeCount=0}for(var i=e.length;i--;){var n=this.ranges.indexOf(e[i]);this.ranges.splice(n,1)}this._signal("removeRange",{ranges:e}),0===this.rangeCount&&this.inMultiSelectMode&&(this.inMultiSelectMode=!1,this._signal("singleSelect"),this.session.$undoSelect=!0,this.rangeList.detach(this.session)),t=t||this.ranges[0],t&&!t.isEqual(this.getRange())&&this.fromOrientedRange(t)},this.$initRangeList=function(){this.rangeList||(this.rangeList=new a,this.ranges=[],this.rangeCount=0)},this.getAllRanges=function(){return this.rangeCount?this.rangeList.ranges.concat():[this.getRange()]},this.splitIntoLines=function(){if(this.rangeCount>1){var e=this.rangeList.ranges,t=e[e.length-1],i=l.fromPoints(e[0].start,t.end);this.toSingleRange(),this.setSelectionRange(i,t.cursor==t.start)}else{var i=this.getRange(),n=this.isBackwards(),s=i.start.row,r=i.end.row;if(s==r){if(n)var o=i.end,a=i.start;else var o=i.start,a=i.end;return this.addRange(l.fromPoints(a,a)),void this.addRange(l.fromPoints(o,o))}var c=[],u=this.getLineRange(s,!0);u.start.column=i.start.column,c.push(u);for(var d=s+1;d<r;d++)c.push(this.getLineRange(d,!0));u=this.getLineRange(r,!0),u.end.column=i.end.column,c.push(u),c.forEach(this.addRange,this)}},this.toggleBlockSelection=function(){if(this.rangeCount>1){var e=this.rangeList.ranges,t=e[e.length-1],i=l.fromPoints(e[0].start,t.end);this.toSingleRange(),this.setSelectionRange(i,t.cursor==t.start)}else{var n=this.session.documentToScreenPosition(this.selectionLead),s=this.session.documentToScreenPosition(this.selectionAnchor),r=this.rectangularRangeBlock(n,s);r.forEach(this.addRange,this)}},this.rectangularRangeBlock=function(e,t,i){var n=[],r=e.column<t.column;if(r)var o=e.column,a=t.column;else var o=t.column,a=e.column;var c=e.row<t.row;if(c)var u=e.row,d=t.row;else var u=t.row,d=e.row;o<0&&(o=0),u<0&&(u=0),u==d&&(i=!0);for(var h=u;h<=d;h++){var p=l.fromPoints(this.session.screenToDocumentPosition(h,o),this.session.screenToDocumentPosition(h,a));if(p.isEmpty()){if(f&&s(p.end,f))break;var f=p.end}p.cursor=r?p.start:p.end,n.push(p)}if(c&&n.reverse(),!i){for(var g=n.length-1;n[g].isEmpty()&&g>0;)g--;if(g>0)for(var m=0;n[m].isEmpty();)m++;for(var v=g;v>=m;v--)n[v].isEmpty()&&n.splice(v,1)}return n}}.call(c.prototype);var v=e("./editor").Editor;(function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.addSelectionMarker=function(e){e.cursor||(e.cursor=e.end);var t=this.getSelectionStyle();return e.marker=this.session.addMarker(e,"ace_selection",t),this.session.$selectionMarkers.push(e),this.session.selectionMarkerCount=this.session.$selectionMarkers.length,e},this.removeSelectionMarker=function(e){if(e.marker){this.session.removeMarker(e.marker);var t=this.session.$selectionMarkers.indexOf(e);t!=-1&&this.session.$selectionMarkers.splice(t,1),this.session.selectionMarkerCount=this.session.$selectionMarkers.length}},this.removeSelectionMarkers=function(e){for(var t=this.session.$selectionMarkers,i=e.length;i--;){var n=e[i];if(n.marker){this.session.removeMarker(n.marker);var s=t.indexOf(n);s!=-1&&t.splice(s,1)}}this.session.selectionMarkerCount=t.length},this.$onAddRange=function(e){this.addSelectionMarker(e.range),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onRemoveRange=function(e){this.removeSelectionMarkers(e.ranges),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onMultiSelect=function(e){this.inMultiSelectMode||(this.inMultiSelectMode=!0,this.setStyle("ace_multiselect"),this.keyBinding.addKeyboardHandler(p.keyboardHandler),this.commands.setDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers())},this.$onSingleSelect=function(e){this.session.multiSelect.inVirtualMode||(this.inMultiSelectMode=!1,this.unsetStyle("ace_multiselect"),this.keyBinding.removeKeyboardHandler(p.keyboardHandler),this.commands.removeDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers(),this._emit("changeSelection"))},this.$onMultiSelectExec=function(e){var t=e.command,i=e.editor;if(i.multiSelect){if(t.multiSelectAction)"forEach"==t.multiSelectAction?n=i.forEachSelection(t,e.args):"forEachLine"==t.multiSelectAction?n=i.forEachSelection(t,e.args,!0):"single"==t.multiSelectAction?(i.exitMultiSelectMode(),n=t.exec(i,e.args||{})):n=t.multiSelectAction(i,e.args||{});else{var n=t.exec(i,e.args||{});i.multiSelect.addRange(i.multiSelect.toOrientedRange()),i.multiSelect.mergeOverlappingRanges()}return n}},this.forEachSelection=function(e,t,i){if(!this.inVirtualSelectionMode){var n,s=i&&i.keepOrder,r=1==i||i&&i.$byLines,o=this.session,a=this.selection,l=a.rangeList,u=(s?a:l).ranges;if(!u.length)return e.exec?e.exec(this,t||{}):e(this,t||{});var d=a._eventRegistry;a._eventRegistry={};var h=new c(o);this.inVirtualSelectionMode=!0;for(var p=u.length;p--;){if(r)for(;p>0&&u[p].start.row==u[p-1].end.row;)p--;h.fromOrientedRange(u[p]),h.index=p,this.selection=o.selection=h;var f=e.exec?e.exec(this,t||{}):e(this,t||{});!n&&void 0!==f&&(n=f),h.toOrientedRange(u[p])}h.detach(),this.selection=o.selection=a,this.inVirtualSelectionMode=!1,a._eventRegistry=d,a.mergeOverlappingRanges();var g=this.renderer.$scrollAnimation;return this.onCursorChange(),this.onSelectionChange(),g&&g.from==g.to&&this.renderer.animateScrolling(g.from),n}},this.exitMultiSelectMode=function(){this.inMultiSelectMode&&!this.inVirtualSelectionMode&&this.multiSelect.toSingleRange()},this.getSelectedText=function(){var e="";if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){for(var t=this.multiSelect.rangeList.ranges,i=[],n=0;n<t.length;n++)i.push(this.session.getTextRange(t[n]));var s=this.session.getDocument().getNewLineCharacter();e=i.join(s),e.length==(i.length-1)*s.length&&(e="")}else this.selection.isEmpty()||(e=this.session.getTextRange(this.getSelectionRange()));return e},this.$checkMultiselectChange=function(e,t){if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){var i=this.multiSelect.ranges[0];if(this.multiSelect.isEmpty()&&t==this.multiSelect.anchor)return;var n=t==this.multiSelect.anchor?i.cursor==i.start?i.end:i.start:i.cursor;(n.row!=t.row||this.session.$clipPositionToDocument(n.row,n.column).column!=t.column)&&this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange())}},this.findAll=function(e,t,i){if(t=t||{},t.needle=e||t.needle,void 0==t.needle){var n=this.selection.isEmpty()?this.selection.getWordRange():this.selection.getRange();t.needle=this.session.getTextRange(n)}this.$search.set(t);var s=this.$search.findAll(this.session);if(!s.length)return 0;this.$blockScrolling+=1;var r=this.multiSelect;i||r.toSingleRange(s[0]);for(var o=s.length;o--;)r.addRange(s[o],!0);return n&&r.rangeList.rangeAtPoint(n.start)&&r.addRange(n,!0),this.$blockScrolling-=1,s.length},this.selectMoreLines=function(e,t){var i=this.selection.toOrientedRange(),n=i.cursor==i.end,s=this.session.documentToScreenPosition(i.cursor);this.selection.$desiredColumn&&(s.column=this.selection.$desiredColumn);var r=this.session.screenToDocumentPosition(s.row+e,s.column);if(i.isEmpty())var o=r;else var a=this.session.documentToScreenPosition(n?i.end:i.start),o=this.session.screenToDocumentPosition(a.row+e,a.column);if(n){var c=l.fromPoints(r,o);c.cursor=c.start}else{var c=l.fromPoints(o,r);c.cursor=c.end}if(c.desiredColumn=s.column,this.selection.inMultiSelectMode){if(t)var u=i.cursor}else this.selection.addRange(i);this.selection.addRange(c),u&&this.selection.substractPoint(u)},this.transposeSelections=function(e){for(var t=this.session,i=t.multiSelect,n=i.ranges,s=n.length;s--;){var r=n[s];if(r.isEmpty()){var o=t.getWordRange(r.start.row,r.start.column);r.start.row=o.start.row,r.start.column=o.start.column,r.end.row=o.end.row,r.end.column=o.end.column}}i.mergeOverlappingRanges();for(var a=[],s=n.length;s--;){var r=n[s];a.unshift(t.getTextRange(r))}e<0?a.unshift(a.pop()):a.push(a.shift());for(var s=n.length;s--;){var r=n[s],o=r.clone();t.replace(r,a[s]),r.start.row=o.start.row,r.start.column=o.start.column}},this.selectMore=function(e,t,i){var s=this.session,r=s.multiSelect,o=r.toOrientedRange();if(!o.isEmpty()||(o=s.getWordRange(o.start.row,o.start.column),o.cursor=e==-1?o.start:o.end,this.multiSelect.addRange(o),!i)){var a=s.getTextRange(o),l=n(s,a,e);l&&(l.cursor=e==-1?l.start:l.end,this.$blockScrolling+=1,this.session.unfold(l),this.multiSelect.addRange(l),this.$blockScrolling-=1,this.renderer.scrollCursorIntoView(null,.5)),t&&this.multiSelect.substractPoint(o.cursor)}},this.alignCursors=function(){var e=this.session,t=e.multiSelect,i=t.ranges,n=-1,s=i.filter(function(e){return e.cursor.row==n||void(n=e.cursor.row)});if(i.length&&s.length!=i.length-1){s.forEach(function(e){t.substractPoint(e.cursor)});var r=0,o=1/0,a=i.map(function(t){var i=t.cursor,n=e.getLine(i.row),s=n.substr(i.column).search(/\S/g);return s==-1&&(s=0),i.column>r&&(r=i.column),s<o&&(o=s),s});i.forEach(function(t,i){var n=t.cursor,s=r-n.column,c=a[i]-o;s>c?e.insert(n,h.stringRepeat(" ",s-c)):e.remove(new l(n.row,n.column,n.row,n.column-s+c)),t.start.column=t.end.column=r,t.start.row=t.end.row=n.row,t.cursor=t.end}),t.fromOrientedRange(i[0]),this.renderer.updateCursor(),this.renderer.updateBackMarkers()}else{var c=this.selection.getRange(),u=c.start.row,d=c.end.row,p=u==d;if(p){var f,g=this.session.getLength();do f=this.session.getLine(d);while(/[=:]/.test(f)&&++d<g);do f=this.session.getLine(u);while(/[=:]/.test(f)&&--u>0);u<0&&(u=0),d>=g&&(d=g-1)}var m=this.session.removeFullLines(u,d);m=this.$reAlignText(m,p),this.session.insert({row:u,column:0},m.join("\n")+"\n"),p||(c.start.column=0,c.end.column=m[m.length-1].length),this.selection.setRange(c)}},this.$reAlignText=function(e,t){function i(e){return h.stringRepeat(" ",e)}function n(e){return e[2]?i(o)+e[2]+i(a-e[2].length+l)+e[4].replace(/^([=:])\s+/,"$1 "):e[0]}function s(e){return e[2]?i(o+a-e[2].length)+e[2]+i(l," ")+e[4].replace(/^([=:])\s+/,"$1 "):e[0]}function r(e){return e[2]?i(o)+e[2]+i(l)+e[4].replace(/^([=:])\s+/,"$1 "):e[0]}var o,a,l,c=!0,u=!0;return e.map(function(e){var t=e.match(/(\s*)(.*?)(\s*)([=:].*)/);return t?null==o?(o=t[1].length,a=t[2].length,l=t[3].length,t):(o+a+l!=t[1].length+t[2].length+t[3].length&&(u=!1),o!=t[1].length&&(c=!1),o>t[1].length&&(o=t[1].length),a<t[2].length&&(a=t[2].length),l>t[3].length&&(l=t[3].length),t):[e]}).map(t?n:c?u?s:n:r)}}).call(v.prototype),t.onSessionChange=function(e){var t=e.session;t&&!t.multiSelect&&(t.$selectionMarkers=[],t.selection.$initRangeList(),t.multiSelect=t.selection),this.multiSelect=t&&t.multiSelect;var i=e.oldSession;i&&(i.multiSelect.off("addRange",this.$onAddRange),i.multiSelect.off("removeRange",this.$onRemoveRange),i.multiSelect.off("multiSelect",this.$onMultiSelect),i.multiSelect.off("singleSelect",this.$onSingleSelect),i.multiSelect.lead.off("change",this.$checkMultiselectChange),i.multiSelect.anchor.off("change",this.$checkMultiselectChange)),t&&(t.multiSelect.on("addRange",this.$onAddRange),t.multiSelect.on("removeRange",this.$onRemoveRange),t.multiSelect.on("multiSelect",this.$onMultiSelect),t.multiSelect.on("singleSelect",this.$onSingleSelect),t.multiSelect.lead.on("change",this.$checkMultiselectChange),t.multiSelect.anchor.on("change",this.$checkMultiselectChange)),t&&this.inMultiSelectMode!=t.selection.inMultiSelectMode&&(t.selection.inMultiSelectMode?this.$onMultiSelect():this.$onSingleSelect())},t.MultiSelect=r,e("./config").defineOptions(v.prototype,"editor",{enableMultiselect:{set:function(e){r(this),e?(this.on("changeSession",this.$multiselectOnSessionChange),this.on("mousedown",u)):(this.off("changeSession",this.$multiselectOnSessionChange),this.off("mousedown",u))},value:!0},enableBlockSelect:{set:function(e){this.$blockSelectEnabled=e},value:!0}})}),ace.define("ace/mode/folding/fold_mode",["require","exports","module","ace/range"],function(e,t,i){"use strict";var n=e("../../range").Range,s=t.FoldMode=function(){};(function(){this.foldingStartMarker=null,this.foldingStopMarker=null,this.getFoldWidget=function(e,t,i){var n=e.getLine(i);return this.foldingStartMarker.test(n)?"start":"markbeginend"==t&&this.foldingStopMarker&&this.foldingStopMarker.test(n)?"end":""},this.getFoldWidgetRange=function(e,t,i){return null},this.indentationBlock=function(e,t,i){var s=/\S/,r=e.getLine(t),o=r.search(s);if(o!=-1){for(var a=i||r.length,l=e.getLength(),c=t,u=t;++t<l;){var d=e.getLine(t).search(s);if(d!=-1){if(d<=o)break;u=t}}if(u>c){var h=e.getLine(u).length;return new n(c,a,u,h)}}},this.openingBracketBlock=function(e,t,i,s,r){var o={row:i,column:s+1},a=e.$findClosingBracket(t,o,r);if(a){var l=e.foldWidgets[a.row];return null==l&&(l=e.getFoldWidget(a.row)),"start"==l&&a.row>o.row&&(a.row--,a.column=e.getLine(a.row).length),n.fromPoints(o,a)}},this.closingBracketBlock=function(e,t,i,s,r){var o={row:i,column:s},a=e.$findOpeningBracket(t,o);if(a)return a.column++,o.column--,n.fromPoints(a,o)}}).call(s.prototype)}),ace.define("ace/theme/textmate",["require","exports","module","ace/lib/dom"],function(e,t,i){"use strict";t.isDark=!1,t.cssClass="ace-tm",t.cssText='.ace-tm .ace_gutter {background: #f0f0f0;color: #333;}.ace-tm .ace_print-margin {width: 1px;background: #e8e8e8;}.ace-tm .ace_fold {background-color: #6B72E6;}.ace-tm {background-color: #FFFFFF;color: black;}.ace-tm .ace_cursor {color: black;}.ace-tm .ace_invisible {color: rgb(191, 191, 191);}.ace-tm .ace_storage,.ace-tm .ace_keyword {color: blue;}.ace-tm .ace_constant {color: rgb(197, 6, 11);}.ace-tm .ace_constant.ace_buildin {color: rgb(88, 72, 246);}.ace-tm .ace_constant.ace_language {color: rgb(88, 92, 246);}.ace-tm .ace_constant.ace_library {color: rgb(6, 150, 14);}.ace-tm .ace_invalid {background-color: rgba(255, 0, 0, 0.1);color: red;}.ace-tm .ace_support.ace_function {color: rgb(60, 76, 114);}.ace-tm .ace_support.ace_constant {color: rgb(6, 150, 14);}.ace-tm .ace_support.ace_type,.ace-tm .ace_support.ace_class {color: rgb(109, 121, 222);}.ace-tm .ace_keyword.ace_operator {color: rgb(104, 118, 135);}.ace-tm .ace_string {color: rgb(3, 106, 7);}.ace-tm .ace_comment {color: rgb(76, 136, 107);}.ace-tm .ace_comment.ace_doc {color: rgb(0, 102, 255);}.ace-tm .ace_comment.ace_doc.ace_tag {color: rgb(128, 159, 191);}.ace-tm .ace_constant.ace_numeric {color: rgb(0, 0, 205);}.ace-tm .ace_variable {color: rgb(49, 132, 149);}.ace-tm .ace_xml-pe {color: rgb(104, 104, 91);}.ace-tm .ace_entity.ace_name.ace_function {color: #0000A2;}.ace-tm .ace_heading {color: rgb(12, 7, 255);}.ace-tm .ace_list {color:rgb(185, 6, 144);}.ace-tm .ace_meta.ace_tag {color:rgb(0, 22, 142);}.ace-tm .ace_string.ace_regex {color: rgb(255, 0, 0)}.ace-tm .ace_marker-layer .ace_selection {background: rgb(181, 213, 255);}.ace-tm.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px white;}.ace-tm .ace_marker-layer .ace_step {background: rgb(252, 255, 0);}.ace-tm .ace_marker-layer .ace_stack {background: rgb(164, 229, 101);}.ace-tm .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid rgb(192, 192, 192);}.ace-tm .ace_marker-layer .ace_active-line {background: rgba(0, 0, 0, 0.07);}.ace-tm .ace_gutter-active-line {background-color : #dcdcdc;}.ace-tm .ace_marker-layer .ace_selected-word {background: rgb(250, 250, 255);border: 1px solid rgb(200, 200, 250);}.ace-tm .ace_indent-guide {background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;}';var n=e("../lib/dom");n.importCssString(t.cssText,t.cssClass)}),ace.define("ace/line_widgets",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/range"],function(e,t,i){"use strict";function n(e){this.session=e,this.session.widgetManager=this,this.session.getRowLength=this.getRowLength,this.session.$getWidgetScreenLength=this.$getWidgetScreenLength,this.updateOnChange=this.updateOnChange.bind(this),this.renderWidgets=this.renderWidgets.bind(this),this.measureWidgets=this.measureWidgets.bind(this),this.session._changedWidgets=[],this.$onChangeEditor=this.$onChangeEditor.bind(this),this.session.on("change",this.updateOnChange),this.session.on("changeFold",this.updateOnFold),this.session.on("changeEditor",this.$onChangeEditor)}var s=(e("./lib/oop"),e("./lib/dom"));e("./range").Range;(function(){this.getRowLength=function(e){var t;return t=this.lineWidgets?this.lineWidgets[e]&&this.lineWidgets[e].rowCount||0:0,this.$useWrapMode&&this.$wrapData[e]?this.$wrapData[e].length+1+t:1+t},this.$getWidgetScreenLength=function(){var e=0;return this.lineWidgets.forEach(function(t){t&&t.rowCount&&!t.hidden&&(e+=t.rowCount)}),e},this.$onChangeEditor=function(e){this.attach(e.editor)},this.attach=function(e){e&&e.widgetManager&&e.widgetManager!=this&&e.widgetManager.detach(),this.editor!=e&&(this.detach(),this.editor=e,e&&(e.widgetManager=this,e.renderer.on("beforeRender",this.measureWidgets),e.renderer.on("afterRender",this.renderWidgets)))},this.detach=function(e){var t=this.editor;if(t){this.editor=null,t.widgetManager=null,t.renderer.off("beforeRender",this.measureWidgets),t.renderer.off("afterRender",this.renderWidgets);var i=this.session.lineWidgets;i&&i.forEach(function(e){e&&e.el&&e.el.parentNode&&(e._inDocument=!1,e.el.parentNode.removeChild(e.el))})}},this.updateOnFold=function(e,t){var i=t.lineWidgets;if(i&&e.action){for(var n=e.data,s=n.start.row,r=n.end.row,o="add"==e.action,a=s+1;a<r;a++)i[a]&&(i[a].hidden=o);i[r]&&(o?i[s]?i[r].hidden=o:i[s]=i[r]:(i[s]==i[r]&&(i[s]=void 0),i[r].hidden=o))}},this.updateOnChange=function(e){var t=this.session.lineWidgets;if(t){var i=e.start.row,n=e.end.row-i;if(0!==n)if("remove"==e.action){var s=t.splice(i+1,n);s.forEach(function(e){e&&this.removeLineWidget(e)},this),this.$updateRows()}else{var r=new Array(n);r.unshift(i,0),t.splice.apply(t,r),this.$updateRows()}}},this.$updateRows=function(){var e=this.session.lineWidgets;if(e){var t=!0;e.forEach(function(e,i){if(e)for(t=!1,e.row=i;e.$oldWidget;)e.$oldWidget.row=i,e=e.$oldWidget}),t&&(this.session.lineWidgets=null)}},this.addLineWidget=function(e){this.session.lineWidgets||(this.session.lineWidgets=new Array(this.session.getLength()));var t=this.session.lineWidgets[e.row];t&&(e.$oldWidget=t,t.el&&t.el.parentNode&&(t.el.parentNode.removeChild(t.el),t._inDocument=!1)),this.session.lineWidgets[e.row]=e,e.session=this.session;var i=this.editor.renderer;e.html&&!e.el&&(e.el=s.createElement("div"),e.el.innerHTML=e.html),e.el&&(s.addCssClass(e.el,"ace_lineWidgetContainer"),e.el.style.position="absolute",e.el.style.zIndex=5,i.container.appendChild(e.el),e._inDocument=!0),e.coverGutter||(e.el.style.zIndex=3),e.pixelHeight||(e.pixelHeight=e.el.offsetHeight),null==e.rowCount&&(e.rowCount=e.pixelHeight/i.layerConfig.lineHeight);var n=this.session.getFoldAt(e.row,0);if(e.$fold=n,n){var r=this.session.lineWidgets;e.row!=n.end.row||r[n.start.row]?e.hidden=!0:r[n.start.row]=e}return this.session._emit("changeFold",{data:{start:{row:e.row}}}),this.$updateRows(),this.renderWidgets(null,i),this.onWidgetChanged(e),e},this.removeLineWidget=function(e){if(e._inDocument=!1,e.session=null,e.el&&e.el.parentNode&&e.el.parentNode.removeChild(e.el),e.editor&&e.editor.destroy)try{e.editor.destroy()}catch(t){}if(this.session.lineWidgets){var i=this.session.lineWidgets[e.row];if(i==e)this.session.lineWidgets[e.row]=e.$oldWidget,e.$oldWidget&&this.onWidgetChanged(e.$oldWidget);else for(;i;){if(i.$oldWidget==e){i.$oldWidget=e.$oldWidget;break}i=i.$oldWidget}}this.session._emit("changeFold",{data:{start:{row:e.row}}}),this.$updateRows()},this.getWidgetsAtRow=function(e){for(var t=this.session.lineWidgets,i=t&&t[e],n=[];i;)n.push(i),i=i.$oldWidget;return n},this.onWidgetChanged=function(e){this.session._changedWidgets.push(e),this.editor&&this.editor.renderer.updateFull()},this.measureWidgets=function(e,t){var i=this.session._changedWidgets,n=t.layerConfig;if(i&&i.length){for(var s=1/0,r=0;r<i.length;r++){var o=i[r];if(o&&o.el&&o.session==this.session){if(!o._inDocument){if(this.session.lineWidgets[o.row]!=o)continue;o._inDocument=!0,t.container.appendChild(o.el)}o.h=o.el.offsetHeight,o.fixedWidth||(o.w=o.el.offsetWidth,o.screenWidth=Math.ceil(o.w/n.characterWidth));var a=o.h/n.lineHeight;o.coverLine&&(a-=this.session.getRowLineCount(o.row),a<0&&(a=0)),o.rowCount!=a&&(o.rowCount=a,o.row<s&&(s=o.row))}}s!=1/0&&(this.session._emit("changeFold",{data:{start:{row:s}}}),this.session.lineWidgetWidth=null),this.session._changedWidgets=[]}},this.renderWidgets=function(e,t){var i=t.layerConfig,n=this.session.lineWidgets;if(n){for(var s=Math.min(this.firstRow,i.firstRow),r=Math.max(this.lastRow,i.lastRow,n.length);s>0&&!n[s];)s--;this.firstRow=i.firstRow,this.lastRow=i.lastRow,t.$cursorLayer.config=i;for(var o=s;o<=r;o++){var a=n[o];if(a&&a.el)if(a.hidden)a.el.style.top=-100-(a.pixelHeight||0)+"px";else{a._inDocument||(a._inDocument=!0,t.container.appendChild(a.el));var l=t.$cursorLayer.getPixelPosition({row:o,column:0},!0).top;a.coverLine||(l+=i.lineHeight*this.session.getRowLineCount(a.row)),a.el.style.top=l-i.offset+"px";var c=a.coverGutter?0:t.gutterWidth;a.fixedWidth||(c-=t.scrollLeft),a.el.style.left=c+"px",a.fullWidth&&a.screenWidth&&(a.el.style.minWidth=i.width+2*i.padding+"px"),a.fixedWidth?a.el.style.right=t.scrollBar.getWidth()+"px":a.el.style.right=""}}}}}).call(n.prototype),t.LineWidgets=n}),ace.define("ace/ext/error_marker",["require","exports","module","ace/line_widgets","ace/lib/dom","ace/range"],function(e,t,i){"use strict";function n(e,t,i){for(var n=0,s=e.length-1;n<=s;){var r=n+s>>1,o=i(t,e[r]);if(o>0)n=r+1;else{if(!(o<0))return r;s=r-1}}return-(n+1)}function s(e,t,i){var s=e.getAnnotations().sort(a.comparePoints);if(s.length){var r=n(s,{row:t,column:-1},a.comparePoints);r<0&&(r=-r-1),r>=s.length?r=i>0?0:s.length-1:0===r&&i<0&&(r=s.length-1);var o=s[r];if(o&&i){if(o.row===t){do o=s[r+=i];while(o&&o.row===t);if(!o)return s.slice()}var l=[];t=o.row;do l[i<0?"unshift":"push"](o),o=s[r+=i];while(o&&o.row==t);return l.length&&l}}}var r=e("../line_widgets").LineWidgets,o=e("../lib/dom"),a=e("../range").Range;t.showErrorMarker=function(e,t){var i=e.session;i.widgetManager||(i.widgetManager=new r(i),
i.widgetManager.attach(e));var n=e.getCursorPosition(),a=n.row,l=i.widgetManager.getWidgetsAtRow(a).filter(function(e){return"errorMarker"==e.type})[0];l?l.destroy():a-=t;var c,u=s(i,a,t);if(u){var d=u[0];n.column=(d.pos&&"number"!=typeof d.column?d.pos.sc:d.column)||0,n.row=d.row,c=e.renderer.$gutterLayer.$annotations[n.row]}else{if(l)return;c={text:["Looks good!"],className:"ace_ok"}}e.session.unfold(n.row),e.selection.moveToPosition(n);var h={row:n.row,fixedWidth:!0,coverGutter:!0,el:o.createElement("div"),type:"errorMarker"},p=h.el.appendChild(o.createElement("div")),f=h.el.appendChild(o.createElement("div"));f.className="error_widget_arrow "+c.className;var g=e.renderer.$cursorLayer.getPixelPosition(n).left;f.style.left=g+e.renderer.gutterWidth-5+"px",h.el.className="error_widget_wrapper",p.className="error_widget "+c.className,p.innerHTML=c.text.join("<br>"),p.appendChild(o.createElement("div"));var m=function(e,t,i){if(0===t&&("esc"===i||"return"===i))return h.destroy(),{command:"null"}};h.destroy=function(){e.$mouseHandler.isMousePressed||(e.keyBinding.removeKeyboardHandler(m),i.widgetManager.removeLineWidget(h),e.off("changeSelection",h.destroy),e.off("changeSession",h.destroy),e.off("mouseup",h.destroy),e.off("change",h.destroy))},e.keyBinding.addKeyboardHandler(m),e.on("changeSelection",h.destroy),e.on("changeSession",h.destroy),e.on("mouseup",h.destroy),e.on("change",h.destroy),e.session.widgetManager.addLineWidget(h),h.el.onmousedown=e.focus.bind(e),e.renderer.scrollCursorIntoView(null,.5,{bottom:h.el.offsetHeight})},o.importCssString("    .error_widget_wrapper {        background: inherit;        color: inherit;        border:none    }    .error_widget {        border-top: solid 2px;        border-bottom: solid 2px;        margin: 5px 0;        padding: 10px 40px;        white-space: pre-wrap;    }    .error_widget.ace_error, .error_widget_arrow.ace_error{        border-color: #ff5a5a    }    .error_widget.ace_warning, .error_widget_arrow.ace_warning{        border-color: #F1D817    }    .error_widget.ace_info, .error_widget_arrow.ace_info{        border-color: #5a5a5a    }    .error_widget.ace_ok, .error_widget_arrow.ace_ok{        border-color: #5aaa5a    }    .error_widget_arrow {        position: absolute;        border: solid 5px;        border-top-color: transparent!important;        border-right-color: transparent!important;        border-left-color: transparent!important;        top: -5px;    }","")}),ace.define("ace/ace",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/dom","ace/lib/event","ace/editor","ace/edit_session","ace/undomanager","ace/virtual_renderer","ace/worker/worker_client","ace/keyboard/hash_handler","ace/placeholder","ace/multi_select","ace/mode/folding/fold_mode","ace/theme/textmate","ace/ext/error_marker","ace/config"],function(e,t,i){"use strict";e("./lib/fixoldbrowsers");var n=e("./lib/dom"),s=e("./lib/event"),r=e("./editor").Editor,o=e("./edit_session").EditSession,a=e("./undomanager").UndoManager,l=e("./virtual_renderer").VirtualRenderer;e("./worker/worker_client"),e("./keyboard/hash_handler"),e("./placeholder"),e("./multi_select"),e("./mode/folding/fold_mode"),e("./theme/textmate"),e("./ext/error_marker"),t.config=e("./config"),t.require=e,t.edit=function(e){if("string"==typeof e){var i=e;if(e=document.getElementById(i),!e)throw new Error("ace.edit can't find div #"+i)}if(e&&e.env&&e.env.editor instanceof r)return e.env.editor;var o="";if(e&&/input|textarea/i.test(e.tagName)){var a=e;o=a.value,e=n.createElement("pre"),a.parentNode.replaceChild(e,a)}else e&&(o=n.getInnerText(e),e.innerHTML="");var c=t.createEditSession(o),u=new r(new l(e));u.setSession(c);var d={document:c,editor:u,onResize:u.resize.bind(u,null)};return a&&(d.textarea=a),s.addListener(window,"resize",d.onResize),u.on("destroy",function(){s.removeListener(window,"resize",d.onResize),d.editor.container.env=null}),u.container.env=u.env=d,u},t.createEditSession=function(e,t){var i=new o(e,t);return i.setUndoManager(new a),i},t.EditSession=o,t.UndoManager=a,t.version="1.2.3"}),function(){ace.require(["ace/ace"],function(e){e&&e.config.init(!0),window.ace||(window.ace=e);for(var t in e)e.hasOwnProperty(t)&&(window.ace[t]=e[t])})}(),e.exports=window.ace},1889:function(e,t){var i="/ng/directives/common/forms/form-alert.ng-template.html",n="<p ng-bind-html=error.message ng-class=\"'alert-' + (error.type || 'warning')\" class=alert></p>";window.angular.module("ng").run(["$templateCache",function(e){e.put(i,n)}]),e.exports=i},1895:function(e,t){var i="/ng/directives/common/review/popup-review.ng-template.html",n='<div> <div ng-show=!isInstructor class=star-rating-group> <div class=star-rating-container ng-class="{\'fxac btn\': starLabelSize === \'large\'}"> <review-star star-click-handler=openReviewPopup(rating) current-rating=courseReview.rating></review-star> <span ng-show="starLabelSize === \'large\'" class=fs14 ng-click="openReviewPopup(null, true)"> <span ng-show=!courseReview.id translate class=btn>Rate This Course</span> <span ng-show=courseReview.id translate class=btn>Edit Your Rating</span> </span> </div> <div ng-show="starLabelSize === \'small\'" class=review-stars__label> <span ng-show=!courseReview.id translate>Rate It</span> <span ng-show=courseReview.id translate>Your Rating</span> </div> </div> <div ng-show=isInstructor class="course-header-icon clearfix"> <div class="star-rating--static star-rating--smaller"> <span ng-style="{width: (course.avg_rating_recent * 20) + \'%\'}"></span> </div> <a class="reviews review-count" href={{reviewLink}} ng-show=course.num_reviews> <span translate translate-n=course.num_reviews translate-plural="{{ $count }} Reviews">1 Review</span> </a> </div> <div id="dashboard-reviews-popup-{{ course.id }}" class=dashboard-reviews-popup data-type=inline style=display:none> <div class=header> <h1 translate class=ellipsis>Your Rating</h1> </div> <div class=popup-body> <div class="clearfix star-rating-small"> <review-star star-click-handler=updateCourseRating(rating) current-rating=courseReview.rating></review-star> </div> <div class=review--updated ng-show="!isPopupExpanded() && courseReview.id && courseReview.modified > courseReview.created"><span translate>Updated</span> <time>{{courseReview.modified | fromNow}}</time></div> <div class=review--updated ng-show="!isPopupExpanded() && courseReview.id && courseReview.modified === courseReview.created"><span translate>Posted</span> <time>{{courseReview.created | fromNow}}</time></div> <div class=form> <div class=review> <textarea ng-show=isPopupExpanded() ng-keydown=$event.stopPropagation() ng-attr-placeholder="{{\'Why did you leave this rating?\' | translate}}" ng-model=courseReview.content class=review-textarea></textarea> <div class=review__reminder ng-class="{\'review__reminder--expanded\': isPopupExpanded()}"> <span ng-show=isUfbUser translate>Your review will be available to other users in your learning portal.</span> <span ng-show=!isUfbUser translate>Your review will be publicly visible within 24 hours.</span> <a ng-show=isPopupExpanded() target=_blank href=https://support.udemy.com/hc/en-us/articles/229234267-Leaving-and-Editing-a-Course-Review translate>Here’s how to write a great review.</a> </div> <div class=review__content ng-show=!isPopupExpanded()>{{courseReview.content}}</div> <div class=review--response ng-if=courseReview.response> <div class=component-thread-head> <div class=thread-head__avatar> <img ng-src="{{ courseReview.response.user.image_50x50 }}" height=35> </div> <div class="thread-head__basic-info compress"> <strong translate>Instructor</strong> <a ng-href="{{ courseReview.response.user.url }}">{{ courseReview.response.user.title }}</a> <span><span translate>Replied</span> <time>{{courseReview.response.created | fromNow}}</time></span> </div> </div> <div class=pl10> <p>{{ courseReview.response.content }}</p> </div> </div> </div> <div class=survey ng-show=isPopupExpanded()> <hr/> <h3 translate>Please tell us more about this course (optional)</h3> <survey survey-code=review-survey populate course="{{ course.id }}" api=surveyDirectiveActions></survey> </div> <div class=review--actions> <a href ng-show="isPopupExpanded() && !courseReview.id" ng-click=cancelReview() prevent-click translate>Cancel</a> <a href ng-show=courseReview.id ng-click=deleteReview() prevent-click translate>Delete Review</a> <div class=dib ng-switch=popupSM.current> <button class="btn btn-primary btn-sm" ng-switch-when=add ng-click=saveReview() translate>Submit Your Review</button> <button class="btn btn-primary btn-sm" ng-switch-when=edit ng-click=saveReview() translate>Update Your Review</button> <button class="btn btn-primary btn-sm" ng-switch-when=summary ng-click=popupSM.expandView() translate>Edit Review</button> </div> </div> </div> </div> </div> </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(i,n)}]),e.exports=i},1896:function(e,t){var i="/ng/directives/common/review/review-star.ng-template.html",n='<div class=review-stars ng-mouseleave="handleHover($event, 0)"> <input type=radio name=review-stars id=star1 aria-label=0.5 /> <label for=star1 ng-mouseenter="handleHover($event, 0.5)" ng-click-touchstart="starClickHandler({rating: 0.5, $event: $event})" ng-class="{\'review-stars--filled\': isStarOn(0.5)}"></label> <input type=radio name=review-stars id=star2 aria-label=1.0 /> <label for=star2 ng-mouseenter="handleHover($event, 1)" ng-click-touchstart="starClickHandler({rating: 1, $event: $event})" ng-class="{\'review-stars--filled\': isStarOn(1)}"></label> <input type=radio name=review-stars id=star3 aria-label=1.5 /> <label for=star3 ng-mouseenter="handleHover($event, 1.5)" ng-click-touchstart="starClickHandler({rating: 1.5, $event: $event})" ng-class="{\'review-stars--filled\': isStarOn(1.5)}"></label> <input type=radio name=review-stars id=star4 ari-label=2.0 /> <label for=star4 ng-mouseenter="handleHover($event, 2)" ng-click-touchstart="starClickHandler({rating: 2, $event: $event})" ng-class="{\'review-stars--filled\': isStarOn(2)}"></label> <input type=radio name=review-stars id=star5 aria-label=2.5 /> <label for=star5 ng-mouseenter="handleHover($event, 2.5)" ng-click-touchstart="starClickHandler({rating: 2.5, $event: $event})" ng-class="{\'review-stars--filled\': isStarOn(2.5)}"></label> <input type=radio name=review-stars id=star6 aria-label=3.0 /> <label for=star6 ng-mouseenter="handleHover($event, 3)" ng-click-touchstart="starClickHandler({rating: 3, $event: $event})" ng-class="{\'review-stars--filled\': isStarOn(3)}"></label> <input type=radio name=review-stars id=star7 aria-label=3.5 /> <label for=star7 ng-mouseenter="handleHover($event, 3.5)" ng-click-touchstart="starClickHandler({rating: 3.5, $event: $event})" ng-class="{\'review-stars--filled\': isStarOn(3.5)}"></label> <input type=radio name=review-stars id=star8 aria-label=4.0 /> <label for=star8 ng-mouseenter="handleHover($event, 4)" ng-click-touchstart="starClickHandler({rating: 4, $event: $event})" ng-class="{\'review-stars--filled\': isStarOn(4)}"></label> <input type=radio name=review-stars id=star9 aria-label=4.5 /> <label for=star9 ng-mouseenter="handleHover($event, 4.5)" ng-click-touchstart="starClickHandler({rating: 4.5, $event: $event})" ng-class="{\'review-stars--filled\': isStarOn(4.5)}"></label> <input type=radio name=review-stars id=star10 aria-label=5.0 /> <label for=star10 ng-mouseenter="handleHover($event, 5)" ng-click-touchstart="starClickHandler({rating: 5, $event: $event})" ng-class="{\'review-stars--filled\': isStarOn(5)}"></label> </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(i,n)}]),e.exports=i},1897:function(e,t){var i="/ng/directives/courses/early-access-course-card.ng-template.html",n='<div class="card card--learning"> <div ng-if="onPage===\'course-taking\'" class=card--learning__image> <div class=card__image> <img ng-src={{::course.image_480x270}} /> </div> </div> <a ng-if="onPage===\'my-courses\'" ng-href={{course.url}} ng-click=trackClick() class=card--learning__image> <div class="card__image play-button-trigger"> <img ng-src={{::course.image_480x270}} /> <div class=play-button></div> </div> </a> <a ng-href="{{onPage===\'my-courses\' ? course.url : \'\'}}" ng-click=trackClick() ng-style="hasReward && {\'cursor\':\'default\'}" class=card--learning__details> <div class=card__details> <strong class=details__name> {{::course.title}} </strong> <div class=details__instructor> {{::course.visible_instructors[0].title}}<span ng-show=::course.visible_instructors[0].job_title>, {{::course.visible_instructors[0].job_title}}</span> </div> <div class=details__bottom ng-class=course.early_access.textClass> <span ng-show=course.early_access.text>{{ course.early_access.text }}</span> <span ng-show=course.early_access.showTimeLeft> {{ course.early_access.expiration_time | timeLeft }} </span> <button class="btn btn-primary btn-sm" style=width:100% ng-disabled=redeemingCourseId ng-show=hasReward ng-click="redeemReward($event, course)"> <span ng-show="redeemingCourseId===course.id" class="udi udi-circle-loader udi-small"></span> Get 30 Day Access </button> </div> </div> </a> </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(i,n)}]),e.exports=i},1904:function(e,t,i){"use strict";function n(){return{restrict:"E",replace:!0,templateUrl:c["default"],scope:{submission:"="}}}Object.defineProperty(t,"__esModule",{value:!0});var s=i(7),r=babelHelpers.interopRequireDefault(s),o=i(40),a=babelHelpers.interopRequireDefault(o),l=i(2217),c=babelHelpers.interopRequireDefault(l),u=i(1755),d=babelHelpers.interopRequireDefault(u),h=r["default"].module("ng/apps/course-taking-v4/practice-view/practice-submission.ng-directive",[a["default"].name,d["default"].name]).directive("practiceSubmission",n);t["default"]=h},1910:function(e,t,i){var n,s;n=[i(7),i(137)],s=function(e){return e.module("ng/services/system-message-resources.ng-factory",["ngResource"]).factory("UserSeenSystemMessage",["$resource",function(e){return e("/api-2.0/users/me/system-messages/:messageId/seen")}])}.apply(t,n),!(void 0!==s&&(e.exports=s))},1914:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1929:function(e,t,i){var n,s;n=[i(1884)],s=function(e){e.define("ace/theme/IDLE",["require","exports","ace/lib/dom"],function(e,t){t.isDark=!1,t.cssClass="ace--i-d-l-e",t.cssText="\n            .ace--i-d-l-e .ace_gutter {\n                background: #FFFFFF;\n                color: rgb(128, 128, 128)\n            }\n            .ace--i-d-l-e .ace_print-margin {\n                width: 1px;\n                background: #e8e8e8\n            }\n            .ace--i-d-l-e {\n                background-color: #FFFFFF;\n                color: #000000\n            }\n            .ace--i-d-l-e .ace_cursor {\n                color: #000000\n            }\n            .ace--i-d-l-e .ace_marker-layer .ace_selection {\n                background: #BAD6FD\n            }\n            .ace--i-d-l-e.ace_multiselect .ace_selection.ace_start {\n                box-shadow: 0 0 3px 0px #FFFFFF;\n                border-radius: 2px\n            }\n            .ace--i-d-l-e .ace_marker-layer .ace_step {\n                background: rgb(198, 219, 174)\n            }\n            .ace--i-d-l-e .ace_marker-layer .ace_bracket {\n                margin: -1px 0 0 -1px;\n                border: 1px solid #BFBFBF\n            }\n            .ace--i-d-l-e .ace_marker-layer .ace_active-line {\n                background: rgba(0, 0, 0, 0.071)\n            }\n            .ace--i-d-l-e .ace_gutter-active-line {\n                background-color: rgba(0, 0, 0, 0.071)\n            }\n            .ace--i-d-l-e .ace_marker-layer .ace_selected-word {\n                border: 1px solid #BAD6FD\n            }\n            .ace--i-d-l-e .ace_fold {\n                background-color: #21439C;\n                border-color: #000000\n            }\n            .ace--i-d-l-e .ace_keyword {\n                color: #FF5600\n            }\n            .ace--i-d-l-e .ace_constant.ace_language {\n                color: #A535AE\n            }\n            .ace--i-d-l-e .ace_support.ace_function {\n                color: #A535AE\n            }\n            .ace--i-d-l-e .ace_support.ace_constant {\n                color: #A535AE\n            }\n            .ace--i-d-l-e .ace_support.ace_class {\n                color: #A535AE\n            }\n            .ace--i-d-l-e .ace_support.ace_type {\n                color: #A535AE\n            }\n            .ace--i-d-l-e .ace_storage {\n                color: #FF5600\n            }\n            .ace--i-d-l-e .ace_invalid {\n                color: #FFFFFF;\n                background-color: #990000\n            }\n            .ace--i-d-l-e .ace_string {\n                color: #00A33F\n            }\n            .ace--i-d-l-e .ace_comment {\n                color: #919191\n            }\n            .ace--i-d-l-e .ace_variable {\n                color: #21439C\n            }\n            .ace--i-d-l-e .ace_entity.ace_name.ace_function {\n                color: #21439C\n            }    \n        ";var i=e("../lib/dom");i.importCssString(t.cssText,t.cssClass)})}.apply(t,n),!(void 0!==s&&(e.exports=s))},1939:function(e,t,i){var n,s;n=[i(7),i(5),i(35),i(1747),i(1763),i(2326),i(2462),i(1941),i(2089),i(1822),i(2077),i(578),i(101),i(374),i(1722),i(1743)],s=function(e,t,i,n,s,r,o,a,l,c,u,d,h,p,f,g){function m(t,n,s,r,o,a,l,c){return{scope:{lecture:"=",pageConfig:"@",onAutoNext:"&?"},restrict:"E",link:function(u,d){function h(e,t){G=t,z(),N(),G.requestFullscreen=m,p(),g()}function p(){G.ready(v),G.on("showhotkeys",w),G.on("keyuphotkey",y),G.on("ended",E),G.on("play",F),G.on("pause",D),G.on("bookmarkfocus",R),G.on("bookmarkblur",T),G.on("bookmarksubmit",B),G.on("bookmarkdelete",L),G.on("bookmarkopen",P),G.on("bookmarkclick",M),G.on("bookmarkcontent",I),G.on("reportabuse",A)}function g(){u.$on("hotkeyaddbookmark",H),u.$on("pausecontent",k),u.$on("playcontent",C),u.$on("hideplayercontrols",x),u.$on("showplayercontrols",_),u.$on("questionspanelopen",$),u.$on("questionspanelclosed",q),u.$on("$destroy",U)}function m(){var t=r._propertyMap.fullscreenchange.join(" ");e.element(document).on(t,function(){r.isFullscreen()||e.element(document).off(t),G.isFullscreen(r.isFullscreen()),G.trigger("fullscreenchange"),u.$emit("useractive")}),r.toggleFullscreen(document.body)}function v(){u.$emit("contentready"),b()}function b(){u.onAddBookmarkClick=function(){G.addBookmark(G.currentTime())},o.getLectureBookmarks(c.id,u.lecture.id)["finally"](function(){var t=o.lectureBookmarks[u.lecture.id]||[];e.forEach(t,function(e){G.addBookmark(e.position,e.body||e.num_notes,e.id,e.type)})})}function w(){u.$emit("hotkeyshowhotkeys")}function y(e){u.$emit("showhotkeyfeedback",e.keyAction),u.$apply()}function A(){u.$broadcast("reportabuseshowmodal"),u.$apply()}function k(){K=G.paused()?"pause":"play",G.pause()}function C(){K&&"play"!==K||G.play(),K=null}function x(){G.addClass("vjs-hide-controls")}function _(){G.removeClass("vjs-hide-controls")}function S(){a.ensureCurriculumLoaded().then(function(){var e=a.getCurriculumItem("lecture",u.lecture.id);a.setCurriculumItemAsCompleted(e,!0)})}function E(){u.pausedAutoplay||(u.onAutoNext({isAutoPlay:Q}),u.$apply())}function F(){G._playbackElementClicked&&s(function(){return u.$emit("showhotkeyfeedback","play")}),s(function(){return u.$emit("videoplayerplay")})}function D(){G._playbackElementClicked&&s(function(){return u.$emit("showhotkeyfeedback","pause")}),s(function(){return u.$emit("videoplayerpause")})}function $(){u.pausedAutoplay=!0}function q(){u.pausedAutoplay=!1}function R(){var t=e.element(G.controlBar.el());t.addClass("active"),s(function(){u.onBookmark=!0})}function T(){var t=e.element(G.controlBar.el());t.removeClass("active"),s(function(){u.onBookmark=!1})}function B(e){var t=e.bookmark.getData(),i=t.id?"updateBookmark":"createBookmark",n=t.id?"update-bookmark":"create-bookmark";o[i](c.id,u.lecture.id,t).then(function(t){e.bookmark.setId(t.id)}),f.track("coursetaking","bookmark","video.player-controls."+n)}function L(e){o.deleteBookmark(c.id,u.lecture.id,e.bookmark.getData()),f.track("coursetaking","bookmark","video.player-controls.delete-bookmark")}function P(e){f.track("coursetaking","bookmark","video.player-controls.open-create-box")}function M(e){f.track("coursetaking","bookmark","video.progress-bar.goto-bookmark")}function I(e){f.track("coursetaking","bookmark","video.player-controls.add-bookmark-content")}function H(){G.addBookmark(G.currentTime()),u.$emit("showhotkeyfeedback","bookmarkadded")}function z(){if("embed"!==u.pageConfig){var n=e.element(G.controlBar.el()),s=e.element(G.controlBar.customControlSpacer.el());if(n.attr("user-active-on",""),n.attr("active-when","onBookmark"),n.addClass("hide-when-user-inactive"),s.append('\n                        <ask-question-button hide-for-early-access class="vjs-ask-question-button"></ask-question-button>\n                        <add-bookmark-button hide-for-early-access \n                                             class="vjs-add-bookmark-button" \n                                             on-add-bookmark-click="onAddBookmarkClick"></add-bookmark-button>\n                        <div class="spacer__right">\n                            <continue-button object-type="\'lecture\'" object-id="lecture.id"></continue-button>\n                        </div>'),i.features.report_abuse&&(u.reportAbusePopup={open:!1},n.append('<report-abuse btn-class="\'hidden\'"\n                                           object-type="\'lecture\'" \n                                           object-id="lecture.id">\n                             </report-abuse>')),t(n)(u),G.middleButtonGroupComponent){var r=e.element(G.middleButtonGroupComponent.el());r.attr("user-active-on",""),r.addClass("hide-when-user-inactive"),t(r)(u)}}}function O(e,t,i){Y&&clearTimeout(Y),Y=setTimeout(function(){f.track("playercontrol",e,t,void 0,void 0,i)},2e3)}function j(e){var t={downloadlecture:"resource lecture-download",play:"video play",pause:"video pause",seek:"video seek",volume:"video volume",fullscreenchange:"video fullscreen: "+(e.isFullscreen?"on":"off"),qualityChange:"video hd: "+e.quality,captionstrackchange:"video cc: "+e.caption,seekrewind:"video seek rewind",seekforward:"video seek forward",playbackrate:"video playback-rate: "+e.speed,viewed:"video view"},i={downloadlecture:"Lecture","default":"Video Controls"},n=void 0,s=t[e.type],r=void 0;"downloadlecture"===e.type&&S(),s&&(n=i[e.type]||i["default"],s+=e.isHotkeyPressed?" hotkey":"","Video Controls"===n&&(r=e.stats),"playbackrate"===e.type?O(n,s,r):f.track("playercontrol",n,s,void 0,void 0,r))}function N(){"Html5"===G.techName_&&u.$watch(function(){return n.search()},function(e){var t=parseInt(e.start,10);t&&G.one("canplaythrough",function(){G.pause(),G.currentTime(t);var e=G.duration()||G.options().duration||0;e-t>=15&&G.play()})})}function W(e,t){a.ensureCurriculumLoaded().then(function(){a.updateLectureProgress(u.lecture,t)})}function U(){var t=r._propertyMap.fullscreenchange.join(" ");e.element(document).off(t),G.requestFullscreen=null,d.find(".asset-container__placeholder").eq(0).addClass("vjs-placeholder--hide")}var V=e.element(u.lecture.view_html);d.append(V);var Q=!!d.find("[videojs-ready]").eq(0).attr("video-autoplay"),G=null,K=null;u.onVideoAvailable=h,u.onVideoProgress=W,u.onVideoTracking=j,u.onVideoEnd=e.noop,u.useBrightcove=!!l.getValue("brightcove"),V.removeClass("ud-angular-loader"),t(V)(u),V=null;var Y=null}}}var v=e.module("ng/apps/course-taking-v4/lecture-view/video-player.ng-directive",[d["default"].name,n["default"].name,o["default"].name,a.name,l.name,c.name,u.name,s.name,r.name,g.name]).directive("videoPlayer",m);return m.$inject=["$compile","$location","$timeout","Fullscreen","Bookmark","Curriculum","ExperimentService","CurrentCourse"],v}.apply(t,n),!(void 0!==s&&(e.exports=s))},1940:function(e,t,i){var n,s;n=[i(7),i(379)],s=function(e,t){function i(e){var t=document.getElementsByClassName("loading-screen")[0];this.show=function(){e.addClass(t,"show")},this.hide=function(){e.removeClass(t,"show")}}var n=e.module("ng/apps/course-taking-v4/loading-screen/loading-screen.ng-service",["ngAnimate"]).service("loadingScreen",i);return i.$inject=["$animate"],n}.apply(t,n),!(void 0!==s&&(e.exports=s))},1941:function(e,t,i){var n,s;n=[i(7),i(40),i(1722)],s=function(e,t,i){function n(){return{restrict:"E",scope:{},controller:s,template:'<button class="btn btn-sm btn-control" ng-click="askQuestion()"><i class="udi udi-question-circle"></i><span class="btn-control__label">{{ buttonText }}</span></button>'}}function s(e,t,n){e.buttonText=n.getString("Browse Q&A"),e.askQuestion=function(){t.$broadcast("questionspanelopen"),i.track("coursetaking","question","video.player-controls.open-panel")}}var r=e.module("ng/apps/course-taking-v4/question-answer/ask-question-button.ng-directive",[t.name]).directive("askQuestionButton",n);return s.$inject=["$scope","$rootScope","gettextCatalog"],r}.apply(t,n),!(void 0!==s&&(e.exports=s))},1942:function(e,t,i){"use strict";function n(e){return{restrict:"E",scope:{onDelete:"=",readOnly:"=",showNewTab:"=",lectureId:"=?",questionPreload:"=",viewMode:"@"},link:function(t,i){t.$watch("answerFormVisible",function(t){t&&e(function(){i.find("answer-form .redactor-box textarea").redactor("focus.start")},10)})},controller:s,templateUrl:I["default"]}}function s(e,t,i,n,s,r,a,l){function c(){return a.features?a.features.discussions_replies_create:!!e.questionPreload&&(e.questionPreload.course.features&&e.questionPreload.course.features.discussions_replies_create)}function u(){if(!e.questionEditorState.submitDisabled){e.questionEditorState.submitDisabled=!0;var i=e.questionEditorState.formError.ignoreWarnings(e.questionEditorState.body,e.questionEditorState.prevFormValue);e.questionEditorState.prevFormValue=e.questionEditorState.body,t.partial_update({courseId:e.question.course.id,id:e.question.id},{title:e.questionEditorState.title,body:e.questionEditorState.body,ignore_warnings:i}).$promise.then(function(t){e.question.body=t.body,e.question.title=t.title,e.questionEditorState.isEditing=!1,e.questionEditorState.formError.reset()},function(t){e.questionEditorState.formError.processResponseError(t)})["finally"](function(){e.questionEditorState.submitDisabled=!1})}}function d(){e.loadingAnswers=!0,n.get({courseId:e.question.course.id,discussionId:e.question.id,"fields[course_discussion_reply]":"@all","fields[course_discussion]":"id,course,user","fields[course]":"id","fields[user]":"@min,image_50x50,url",page:v}).$promise.then(function(t){v++,e.hasMoreAnswers=!!t.next,e.answers=e.answers.concat(t.results),t.results.forEach(function(e){h(e)})})["finally"](function(){e.loadingAnswers=!1})}function h(t){e.answerEditorStates[t.id]=o["default"].copy(b),e.answerEditorStates[t.id].formError=new i,e.answerEditorStates[t.id].title=t.title,e.answerEditorStates[t.id].body=t.body}function p(t){e.answerFormVisible=!1,e.answers=[],e.question=t,e.questionEditorState=o["default"].copy(b),e.questionEditorState.title=e.question.title,e.questionEditorState.body=e.question.body,e.questionEditorState.formError=new i,v=1,t.replies?(e.answers=t.replies,t.replies.forEach(function(e){h(e),e.course_discussion=t})):e.loadAnswers()}function f(){e.questions&&e.questions.activeQuestion&&p(e.questions.activeQuestion)}function g(t){var i=1;t.is_top_answer?e.answers.forEach(function(e){e.id!==t.id&&e.is_top_answer&&(i=0,e.is_top_answer=!1)}):i=-1,e.$emit("topAnswerChange",{answer:t,answeredCountDelta:i})}function m(e){l.go("base.taking.lecture",{id:e.id},l.ANIMATION_TYPE.loading)}var v=void 0,b={title:"",body:"",initialize:!1,isEditing:!1,resetValue:!1,submitDisabled:!1,redactorTheme:"simple-image-link-source"};e.me=o["default"].copy(k["default"]),e.me.canEditCourse=r.canEditCourse(e.viewMode),e.submitEditQuestion=u,e.markAsTopOnSuccess=g,e.answerEditorStates={},e.questions=s.questions,e.answers=[],e.loadAnswers=d,e.goToLecture=m,e.isInstructor=r.isInstructor(e.viewMode),e.instructorView=e.isInstructor&&e.viewMode,e.replyCreateEnabled=c(),e.supportUrl=y["default"].toSupportContact(),e.$on("editQuestion",function(){e.questionEditorState.initialize=!0,e.questionEditorState.isEditing=!0}),e.$on("editAnswer",function(t,i){e.answerEditorStates[i].initialize=!0,e.answerEditorStates[i].isEditing=!0}),e.cancelEdit=function(){e.questionEditorState.title=e.question.title,e.questionEditorState.body=e.question.body,e.questionEditorState.isEditing=!1},e.submitAddAnswer=function(t){e.question.num_replies+=1,e.answers.push(t),h(t),e.answerFormVisible=!1,e.$emit("answerCountChange",{question:e.question,answer:t,answerCountDelta:1})},e.submitEditAnswer=function(t){var i=e.answers[t],s=e.answerEditorStates[i.id];if(!s.submitDisabled){s.submitDisabled=!0;var r={courseId:i.course_discussion.course.id,discussionId:i.course_discussion.id,id:i.id},o={body:s.body,ignore_warnings:s.formError.ignoreWarnings(s.body,s.prevFormValue)};s.prevFormValue=s.body,n.partial_update(r,o).$promise.then(function(i){e.answers[t].body=i.body,s.isEditing=!1,s.formError.reset()},function(e){s.formError.processResponseError(e)})["finally"](function(){s.submitDisabled=!1})}},e.onFocus=function(){e.answerFormVisible=!0,e.$emit("questionDetails.openAnswerTextArea",{question:e.question})},this.deleteAnswer=e.deleteAnswer=function(t){e.question.num_replies-=1,e.answers.splice(e.answers.indexOf(t),1),e.$emit("answerCountChange",{question:e.question,answer:t,answerCountDelta:-1})},e.questionPreload?p(e.questionPreload):f()}Object.defineProperty(t,"__esModule",{value:!0});var r=i(7),o=babelHelpers.interopRequireDefault(r),a=i(1817),l=babelHelpers.interopRequireDefault(a),c=i(1755),u=babelHelpers.interopRequireDefault(c),d=i(1877),h=babelHelpers.interopRequireDefault(d),p=i(1794),f=babelHelpers.interopRequireDefault(p),g=i(1752),m=babelHelpers.interopRequireDefault(g),v=i(40),b=babelHelpers.interopRequireDefault(v),w=i(102),y=babelHelpers.interopRequireDefault(w);i(1722);var A=i(41),k=babelHelpers.interopRequireDefault(A),C=i(2021),x=babelHelpers.interopRequireDefault(C),_=i(2081),S=babelHelpers.interopRequireDefault(_),E=i(2082),F=babelHelpers.interopRequireDefault(E),D=i(2083),$=babelHelpers.interopRequireDefault(D),q=i(1743),R=babelHelpers.interopRequireDefault(q),T=i(2084),B=babelHelpers.interopRequireDefault(T),L=i(2085),P=babelHelpers.interopRequireDefault(L),M=i(2223),I=babelHelpers.interopRequireDefault(M),H=i(2086),z=babelHelpers.interopRequireDefault(H),O=i(1750),j=babelHelpers.interopRequireDefault(O),N=o["default"].module("ng/apps/course-taking-v4/question-answer/question-details.ng-directive",[b["default"].name,l["default"].name,u["default"].name,m["default"].name,j["default"].name,R["default"].name,F["default"].name,$["default"].name,B["default"].name,S["default"].name,P["default"].name,z["default"].name,h["default"].name,f["default"].name,x["default"].name]).directive("questionDetails",n);n.$inject=["$timeout"],s.$inject=["$scope","CourseQuestion","FormError","QuestionReply","QuestionAnswer","ViewMode","CurrentCourse","AnimatedStateChangeService"],t["default"]=N},1952:function(e,t,i){var n,s;n=[i(7),i(1910)],s=function(e,t){function i(t){return{restrict:"A",scope:{messageId:"@",objectType:"@",objectId:"="},link:function(i,n){function s(){var e={};i.objectType&&i.objectId&&(e.obj_type=i.objectType,e.obj_id=i.objectId),t.save({messageId:i.messageId},e)}var r=e.element(n.find(".close")[0]);r.on("click",s),i.$on("markSystemMessageSeen",function(e,t){i.messageId===t.messageId&&s()})}}}return e.module("ng/directives/common/system-message.ng-directive",[t.name]).directive("systemMessage",["UserSeenSystemMessage",i])}.apply(t,n),!(void 0!==s&&(e.exports=s))},1985:function(e,t){var i="/ng/directives/common/inplace-wysiwyg/inplace-wysiwyg.ng-template.html",n='<div> <div ng-show=editorHidden> <div ng-transclude> </div> </div> <div ng-show=!editorHidden class=editor-group ng-class="{\'has-error\': editorError}"> <ud-wysiwyg request-editor-init=requestEditorInit request-editor-value=requestEditorValue request-reset-value=requestResetValue editor-value=editorValue editor-value-collected-fn=editorValueCollectedFn placeholder-text="{{ placeholderText }}" redactor-theme="{{ redactorTheme }}" redactor-add-inline-style=redactorAddInlineStyle></ud-wysiwyg> <small class=help-block ng-if=editorError translate> Text Required </small> <div class="submit-row pt10"> <button type=submit class="btn btn-sm btn-primary" ng-disabled=submitDisabled ng-click="!submitDisabled && submitHandler()" translate> {{ submitLabel }} </button> <button type=submit class="btn btn-sm btn-tertiary" ng-disabled=submitDisabled ng-click="!submitDisabled && closeEditor()" translate> Cancel </button> </div> </div> </div>';
window.angular.module("ng").run(["$templateCache",function(e){e.put(i,n)}]),e.exports=i},1998:function(e,t){var i="/ng/directives/settings/email-setting.ng-template.html",n='<a role=menuitem tabindex=-1 class=email-settings ng-click=updateCourseSetting()> <span class=checkbox> <label> <input autocomplete=off type=checkbox ng-checked=settingValue ng-disabled=disabled> <span class="checkbox-label email-settings__title"> {{ settingText | translate }} </span> </label> </span> </a>';window.angular.module("ng").run(["$templateCache",function(e){e.put(i,n)}]),e.exports=i},2021:function(e,t,i){var n,s;n=[i(7),i(565),i(2090),i(1940)],s=function(e,t,i,n){function s(e,t,i,n){var s=this;s.ANIMATION_TYPE={next:"next",prev:"prev",loading:"loading"},s.TIMING={stateChange:1e3,showTooltip:2e3,hideTooltip:4e3},s.go=function(r,o,a,l){function c(){a===s.ANIMATION_TYPE.next?e.animationClass="velocity-enter-transition-curriculumItemDownIn velocity-leave-transition-curriculumItemUpOut":a===s.ANIMATION_TYPE.prev?e.animationClass="velocity-enter-transition-curriculumItemUpIn velocity-leave-transition-curriculumItemDownOut":a===s.ANIMATION_TYPE.loading&&n.show()}function u(){a===s.ANIMATION_TYPE.loading?n.hide():e.animationClass=null}i.is(r,o)||(c(),t(function(){i.go(r,o,l).then(function(){t(u,s.TIMING.stateChange)})["catch"](u)}))},this.tooltip=function(e,i){return t(e,s.TIMING.showTooltip).then(function(){return t(i,s.TIMING.hideTooltip)})}}var r=e.module("ng/apps/course-taking-v4/animated-state-change/animated-state-change.ng-service",["ui.router",i.name,n.name]).service("AnimatedStateChangeService",s);return s.$inject=["$rootScope","$timeout","$state","loadingScreen"],r}.apply(t,n),!(void 0!==s&&(e.exports=s))},2022:function(e,t,i){"use strict";function n(e,t,i){function n(n){function s(){i.$emit("hotkeyshowhotkeys")}function r(){n.$broadcast("reportabuseshowmodal")}n.isMobileBrowser=t.isMobileBrowser(),n.downloadEnabled=!!n.downloadUrl,n.reportEnabled=function(){return n.reportType&&n.reportId&&g["default"].features.report_abuse},n.hasMenuItems=function(){return n.hotkeysEnabled||n.reportEnabled()},n.showHotkeys=s,n.showReport=r,n.isFullscreen=e.isFullscreen.bind(e),n.toggleFullscreen=e.toggleFullscreen.bind(e,document.body)}return{restrict:"E",scope:{downloadUrl:"=",hotkeysEnabled:"=",reportType:"=",reportId:"="},link:n,templateUrl:v["default"]}}Object.defineProperty(t,"__esModule",{value:!0});var s=i(7),r=babelHelpers.interopRequireDefault(s),o=i(1747),a=babelHelpers.interopRequireDefault(o),l=i(1763),c=babelHelpers.interopRequireDefault(l),u=i(198),d=babelHelpers.interopRequireDefault(u),h=i(40),p=babelHelpers.interopRequireDefault(h),f=i(35),g=babelHelpers.interopRequireDefault(f),m=i(2978),v=babelHelpers.interopRequireDefault(m),b=r["default"].module("ng/apps/course-taking-v4/curriculum/curriculum-item-controls.ng-directive",[p["default"].name,a["default"].name,c["default"].name,d["default"].name]).directive("curriculumItemControls",n);n.$inject=["Fullscreen","Mobile","$rootScope"],t["default"]=b},2023:function(e,t,i){"use strict";function n(e,t){return{restrict:"E",link:function(i,n){i.goToDashboard=function(){e.exitFullscreen(),t.go("base.dashboard.content")}},templateUrl:d["default"]}}Object.defineProperty(t,"__esModule",{value:!0});var s=i(7),r=babelHelpers.interopRequireDefault(s);i(565);var o=i(1763),a=babelHelpers.interopRequireDefault(o),l=i(40),c=babelHelpers.interopRequireDefault(l),u=i(2983),d=babelHelpers.interopRequireDefault(u),h=r["default"].module("ng/apps/course-taking-v4/dashboard-button-directive/dashboard-button.ng-directive",["ui.router",c["default"].name,a["default"].name]).directive("dashboardButton",n);n.$inject=["Fullscreen","$state"],t["default"]=h},2024:function(e,t,i){"use strict";function n(){return{restrict:"E",replace:!0,templateUrl:u["default"],scope:{practiceId:"@",submission:"=",reviewer:"=",type:"@",showComments:"=?"},controller:s}}function s(e,t){function i(i){t.get({practiceId:e.practiceId,"fields[practice_feedback_question]":"body",attempt_id:e.submission.id,type:e.type,page:i,page_size:5}).$promise.then(function(t){e.pagination.page++,e.pagination.total=t.count,e.feedbackQuestions=e.feedbackQuestions.concat(t.results.map(function(e){return e.answers=[],e}))})}e.showComments=!!o["default"].isUndefined(e.showComments)||e.showComments,e.feedbackQuestions=[],e.pagination={page:1,total:0},e.loadFeedbackQuestions=i,i(e.pagination.page)}Object.defineProperty(t,"__esModule",{value:!0});var r=i(7),o=babelHelpers.interopRequireDefault(r),a=i(40),l=babelHelpers.interopRequireDefault(a),c=i(2216),u=babelHelpers.interopRequireDefault(c),d=i(1739),h=babelHelpers.interopRequireDefault(d),p=i(2080),f=babelHelpers.interopRequireDefault(p),g=o["default"].module("ng/apps/course-taking-v4/practice-view/practice-feedback.ng-directive",[l["default"].name,h["default"].name,f["default"].name]).directive("practiceFeedback",n);s.$inject=["$scope","PracticeFeedbackQuestion"],t["default"]=g},2032:function(e,t,i){var n,s;n=[i(7),i(137)],s=function(e){function t(e){return e("/api-2.0/announcements/:id",null,{update:{method:"PUT"},partial_update:{method:"PATCH"}})}function i(e){return e("/api-2.0/announcement-previews/:id")}function n(e){return e("/api-2.0/announcements/:announcementId/comments/:commentId",null,{update:{method:"PATCH"}})}var s=e.module("ng/services/v2/announcement-resources.ng-factory",["ngResource"]).factory("Announcement",["$resource",t]).factory("AnnouncementPreview",["$resource",i]).factory("AnnouncementComment",["$resource",n]);return s}.apply(t,n),!(void 0!==s&&(e.exports=s))},2042:function(e,t,i){var n,s;n=[i(1884),i(1929)],s=function(e){return e.config.set("basePath","/staticx/udemy/js/bower_components/ace-builds/src-min-noconflict"),e}.apply(t,n),!(void 0!==s&&(e.exports=s))},2076:function(e,t,i){"use strict";function n(e){function t(t){function i(e,t){var i=r["default"].element("<a/>");i.css({display:"none"}),r["default"].element(document.body).append(i),i.attr({href:e,target:t})[0].click(),i.remove()}t.limit=r["default"].isDefined(t.initialLimit)?t.initialLimit:3,t.isFreePreviewer=e.isFreePreviewer(),t.requestDownloadResource=function(n,s){if(!e.isFreePreviewer())if(s.loading=!0,s.external_url)i(s.external_url,"_blank"),delete s.loading;else{var o=r["default"].extend({},t.apiParams,{id:s.id,"fields[asset]":"download_urls"});t.apiResource.get(o).$promise.then(function(e){e.download_urls&&i(e.download_urls[s.asset_type][0].file,"_self")})["finally"](function(){delete s.loading})}},t.getResourceTrackingAction=function(e){var t={ExternalLink:"resource website",SourceCode:"resource code"};return t[e.asset_type]||"resource file-download"}}return{scope:{initialLimit:"=",resources:"=",apiResource:"=",apiParams:"="},link:t,replace:!0,restrict:"E",templateUrl:d["default"]}}Object.defineProperty(t,"__esModule",{value:!0});var s=i(7),r=babelHelpers.interopRequireDefault(s),o=i(1853),a=babelHelpers.interopRequireDefault(o),l=i(40),c=babelHelpers.interopRequireDefault(l),u=i(2982),d=babelHelpers.interopRequireDefault(u),h=i(2333),p=babelHelpers.interopRequireDefault(h),f=i(1750),g=babelHelpers.interopRequireDefault(f),m=r["default"].module("ng/apps/course-taking-v4/curriculum/resources-list.ng-directive",[c["default"].name,a["default"].name,p["default"].name,g["default"].name]).directive("resourcesList",n);n.$inject=["ViewMode"],t["default"]=m},2077:function(e,t,i){var n,s;n=[i(7),i(40)],s=function(e,t){function i(e){this.getValue=function(t,i){var n=e.experiments[t];return void 0!==n?n:i}}var n=e.module("ng/apps/course-taking-v4/experiment.ng-service",[t.name]).service("ExperimentService",i);return i.$inject=["$rootScope"],n}.apply(t,n),!(void 0!==s&&(e.exports=s))},2078:function(e,t,i){"use strict";function n(e,t,i,n,s,r){function o(e){return e.shiftKey?"SHIFT":""}function a(a,h){function f(e){c[e]&&(a.iconClass=c[e],s.addClass(h,"hotkey-feedback-activated"),r(function(){s.removeClass(h,"hotkey-feedback-activated")},300))}function m(){A||(A=document.getElementsByClassName(a.focusElementClass)[0]),A&&A.focus()}function b(e){if(!u)return!0;var t=e.relatedTarget||e.toElement||document.activeElement,i=["input","textarea"].indexOf(t.tagName.toLowerCase())!==-1,n=t.classList.contains("redactor-editor");return i||n}function w(t){if(!b(t)){var i=t.keyCode?t.keyCode:t.which?t.which:t.charCode,n=o(t),s=l[n+i];s?(e.$broadcast(s),f(n+i),e.$apply()):e.$broadcast("hotkey"+a.hotkeysType+"event",i,n)}}function y(){var t=void 0;k||(k=!0,t="lecture"==a.hotkeysType?p["default"]:"test"==a.hotkeysType?v["default"]:g["default"],i.open({scope:a,windowClass:"full-overlay slide-from-bottom",templateUrl:t}).result["finally"](function(){k=!1,e.$broadcast("modalclosed")}),e.$broadcast("modalopened"))}var A=null,k=!1;a.iconClass="";var C=e.$on("showhotkeyfeedback",function(e,t){f(t)});a.$on("$destroy",C);var x=e.$on("curriculumnavigationclosed",m);a.$on("$destroy",x);var _=e.$on("modalclosed",function(){u=!0,m()});a.$on("$destroy",_);var S=e.$on("modalopened",function(){u=!1});a.$on("$destroy",S);var E=e.$on("hotkeyshowhotkeys",function(){y(),d["default"].track("playercontrol",t("capitalize")(a.hotkeysType),"resource hotkeys-show hotkey")});a.$on("$destroy",E),n.on("keyup",w),a.$on("$destroy",function(){n.off("keyup",w)})}var l={27:"hotkeyclose",66:"hotkeyaddbookmark",67:"hotkeytogglecurriculum",81:"hotkeytogglebrowsequestions",SHIFT191:"hotkeyshowhotkeys"},c={77:"udi udi-menu",bookmarkadded:"udi udi-bookmark",play:"udi udi-vjs-play",pause:"udi udi-vjs-pause",rewind:"udi udi-vjs-rewind rewind-15",speeddown:"udi udi-vjs-minus",forward:"udi udi-vjs-forward forward-15",speedup:"udi udi-vjs-plus",volume:"udi udi-vjs-volume",enterfullscreen:"udi udi-vjs-fullscreen",exitfullscreen:"udi udi-vjs-fullscreen-collapse"},u=!0;return{restrict:"E",link:a,scope:{focusElementClass:"@",hotkeysType:"@"},template:'<div class="hotkey-feedback"><div ng-class="iconClass"></div></div>'}}Object.defineProperty(t,"__esModule",{value:!0});var s=i(7),r=babelHelpers.interopRequireDefault(s);i(194);var o=i(1732),a=babelHelpers.interopRequireDefault(o),l=i(40),c=babelHelpers.interopRequireDefault(l),u=i(1722),d=babelHelpers.interopRequireDefault(u),h=i(2995),p=babelHelpers.interopRequireDefault(h),f=i(3017),g=babelHelpers.interopRequireDefault(f),m=i(3019),v=babelHelpers.interopRequireDefault(m),b=r["default"].module("ng/apps/course-taking-v4/hotkeys.ng-directive",["ui.bootstrap",c["default"].name,a["default"].name]).directive("hotkeys",n);n.$inject=["$rootScope","$filter","$modal","$document","$animate","$timeout"],t["default"]=b},2079:function(e,t,i){"use strict";function n(){return{restrict:"E",replace:!0,templateUrl:l["default"],scope:{feedbackQuestionAnswer:"=",practiceId:"@",submission:"=",onDelete:"&",onEdit:"&",showComments:"="},controller:s}}function s(e,t,i,n){function s(){e.canEdit&&(e.editorState.hidden=!1)}function r(){if(e.canDelete)return t(i.getString("Are you sure you want to delete your response?")).then(function(){e.deleteInProgress=!0,e.onDelete({answer:e.feedbackQuestionAnswer})["finally"](function(){delete e.deleteInProgress})})}function o(t){e.editorState.submitDisabled=!0,e.onEdit({answer:e.feedbackQuestionAnswer,value:t}).then(function(){e.editorState.hidden=!0,e.feedbackQuestionAnswer.body=e.editorState.body})["finally"](function(){e.editorState.submitDisabled=!1})}e.canEdit=m["default"].id==e.feedbackQuestionAnswer.user.id,e.canDelete=m["default"].id==e.feedbackQuestionAnswer.user.id,e.showOptionsDropdown=e.canEdit&&e.canDelete,e.commentResource=n,e.editorState={initialize:!0,submitDisabled:!1,redactorTheme:"advanced-format-link-image-html",hidden:!0,body:e.feedbackQuestionAnswer.body},e.editAnswer=s,e.deleteAnswer=r,e.submitFn=o}Object.defineProperty(t,"__esModule",{value:!0});var r=i(7),o=babelHelpers.interopRequireDefault(r),a=i(2214),l=babelHelpers.interopRequireDefault(a),c=i(40),u=babelHelpers.interopRequireDefault(c),d=i(1848),h=babelHelpers.interopRequireDefault(d),p=i(1727),f=babelHelpers.interopRequireDefault(p),g=i(41),m=babelHelpers.interopRequireDefault(g),v=i(1755),b=babelHelpers.interopRequireDefault(v),w=i(1780),y=babelHelpers.interopRequireDefault(w),A=o["default"].module("ng/apps/course-taking-v4/practice-view/practice-feedback-question-answer.ng-directive",[u["default"].name,f["default"].name,h["default"].name,b["default"].name,y["default"].name]).directive("practiceFeedbackQuestionAnswer",n);s.$inject=["$scope","udConfirm","gettextCatalog","FeedbackQuestionAnswerComment"],t["default"]=A},2080:function(e,t,i){"use strict";function n(){return{restrict:"E",replace:!0,templateUrl:h["default"],scope:{feedbackQuestion:"=",submission:"=",practiceId:"@",reviewer:"=",showComments:"="},controller:s}}function s(e,t,i){function n(i){e.editorState.submitDisabled=!0,t.save({practiceId:e.practiceId,"fields[practice_feedback_question_user_answer]":a.join(","),"fields[user]":c.join(","),"fields[practice_feedback_question]":"id","fields[comment_thread]":["@min","num_comments"].join(","),user:e.reviewer.id,feedback_question:e.feedbackQuestion.id},[{body:i,feedback_question:e.feedbackQuestion.id,user_attempted_practice:e.submission.id}]).$promise.then(function(t){e.feedbackQuestion.answers=e.feedbackQuestion.answers.concat(t.results),e.pagination.total++})["finally"](function(){e.editorState.submitDisabled=!1})}function s(i){e.loading=!0,t.get({practiceId:e.practiceId,attempt_id_in:e.submission.id,"fields[practice_feedback_question_user_answer]":a.join(","),"fields[user]":c.join(","),"fields[practice_feedback_question]":"id","fields[comment_thread]":["@min","num_comments"].join(","),page:i,page_size:1,user:e.reviewer.id,feedback_question:e.feedbackQuestion.id}).$promise.then(function(t){e.pagination.total=t.count,e.pagination.page++,e.feedbackQuestion.answers=e.feedbackQuestion.answers.concat(t.results)})["finally"](function(){e.loading=!1})}function r(i,n){return t.update({practiceId:e.practiceId,id:i.id},{body:n}).$promise}function o(i){return t["delete"]({practiceId:e.practiceId,id:i.id}).$promise.then(function(){var t=e.feedbackQuestion.answers.findIndex(function(e){return e.id==i.id});e.feedbackQuestion.answers.splice(t,1),e.pagination.total--})}var a=["user","body","feedback_question","comment_thread"],c=["title","image_50x50","url"],u=e.reviewer.id==e.submission.user.id?"I learned...":"Add feedback...";e.udMe=l["default"],e.editorState={initialize:!0,submitDisabled:!1,redactorTheme:"advanced-format-link-image-html",hidden:!0,placeholderText:i.getString(u)},e.pagination={page:1,total:0},e.submitFn=n,e.loadAnswers=s,e.editAnswer=r,e.deleteAnswer=o,s(e.pagination.page)}Object.defineProperty(t,"__esModule",{value:!0});var r=i(7),o=babelHelpers.interopRequireDefault(r),a=i(41),l=babelHelpers.interopRequireDefault(a),c=i(40),u=babelHelpers.interopRequireDefault(c),d=i(2215),h=babelHelpers.interopRequireDefault(d),p=i(2079),f=babelHelpers.interopRequireDefault(p),g=i(1848),m=babelHelpers.interopRequireDefault(g),v=i(566),b=babelHelpers.interopRequireDefault(v),w=i(1739),y=babelHelpers.interopRequireDefault(w),A=o["default"].module("ng/apps/course-taking-v4/practice-view/practice-feedback-question.ng-directive",[u["default"].name,y["default"].name,b["default"].name,m["default"].name,f["default"].name]).directive("practiceFeedbackQuestion",n);s.$inject=["$scope","PracticeFeedbackQuestionAnswer","gettextCatalog"],t["default"]=A},2081:function(e,t,i){"use strict";function n(e,t,i){return{require:"?^questionDetails",restrict:"E",scope:!0,link:function(n,s,r,o){function a(){return n.answer.user.id===w["default"].id}function l(){return n.answer.user.id===n.me.id||n.me.canEditCourse}function c(){return v["default"].features.report_abuse&&n.answer.user.id!==w["default"].id}n.editAnswerButtonEnabled=a(),n.deleteAnswerButtonEnabled=l(),n.reportAbuseButtonEnabled=c(),n.showMenu=n.editAnswerButtonEnabled||n.deleteAnswerButtonEnabled||n.reportAbuseButtonEnabled,n.editAnswer=function(e){e&&e.preventDefault(),n.$emit("editAnswer",n.answer.id)},n.deleteAnswer=function(){var s={courseId:n.answer.course_discussion.course.id,discussionId:n.answer.course_discussion.id,id:n.answer.id},r=i.getString("Are you sure you want to delete your reply?");e(r).then(function(){t["delete"](s).$promise.then(function(e){o&&o.deleteAnswer(n.answer)})})}},templateUrl:A["default"]}}Object.defineProperty(t,"__esModule",{value:!0});var s=i(7),r=babelHelpers.interopRequireDefault(s);i(94);var o=i(1784),a=babelHelpers.interopRequireDefault(o),l=i(1727),c=babelHelpers.interopRequireDefault(l),u=i(1752),d=babelHelpers.interopRequireDefault(u),h=i(40),p=babelHelpers.interopRequireDefault(h),f=i(135),g=babelHelpers.interopRequireDefault(f),m=i(35),v=babelHelpers.interopRequireDefault(m),b=i(41),w=babelHelpers.interopRequireDefault(b),y=i(2218),A=babelHelpers.interopRequireDefault(y),k=r["default"].module("ng/apps/course-taking-v4/question-answer/answer-action-menu.ng-directive",[c["default"].name,p["default"].name,g["default"].name,d["default"].name,a["default"].name]).directive("answerActionMenu",n);n.$inject=["udConfirm","QuestionReply","gettextCatalog"],t["default"]=k},2082:function(e,t,i){"use strict";function n(){return{restrict:"E",scope:{question:"=",onSubmit:"&"},controller:s,templateUrl:m["default"]}}function s(e,t,i,n,s,r,o){e.editorState={formError:new n,initialize:!0,resetValue:!1,submitDisabled:!1,redactorTheme:"simple-image-link",body:""},e.submitForm=function(){if(!e.editorState.submitDisabled){if(e.editorState.submitDisabled=!0,s("isStrippedHTMLEmpty")(s("removeAllWhiteSpace")(s("removeHTMLWhiteSpace")(e.editorState.body))))return e.editorState.formError.setErrorMessage(o.getString("Field can not be empty")),e.editorState.formError.setErrorType(r.danger),void(e.editorState.submitDisabled=!1);e.editorState.resetValue=!1;var n=e.editorState.formError.ignoreWarnings(e.editorState.body,e.editorState.prevFormValue);e.editorState.prevFormValue=e.editorState.body;var a={body:e.editorState.body,ignore_warnings:n};t.save({courseId:e.question.course.id,discussionId:e.question.id,"fields[course_discussion_reply]":"@all","fields[course_discussion]":"id,course,user","fields[course]":"id","fields[user]":"@min,image_50x50,url"},a).$promise.then(function(t){e.question.is_following||i.followQuestion(e.question),e.onSubmit({answer:t}),e.editorState.resetValue=!0,e.editorState.formError.reset(),e.editorState.body=""},function(t){e.editorState.formError.processResponseError(t)})["finally"](function(){e.editorState.submitDisabled=!1})}}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(7),o=babelHelpers.interopRequireDefault(r),a=i(1817),l=babelHelpers.interopRequireDefault(a),c=i(1748),u=babelHelpers.interopRequireDefault(c),d=i(1752),h=babelHelpers.interopRequireDefault(d),p=i(40),f=babelHelpers.interopRequireDefault(p),g=i(2219),m=babelHelpers.interopRequireDefault(g),v=o["default"].module("ng/apps/course-taking-v4/question-answer/answer-form.ng-directive",[f["default"].name,h["default"].name,l["default"].name,u["default"].name]).directive("answerForm",n);s.$inject=["$scope","QuestionReply","QuestionAnswer","FormError","$filter","FORM_ERROR_TYPE","gettextCatalog"],t["default"]=v},2083:function(e,t,i){(function(e){"use strict";function n(){return{replace:!0,restrict:"E",scope:{question:"=",disable:"=",answer:"=",shortView:"="},controller:s,templateUrl:m["default"]}}function s(t,i,n){function s(){var e="";return t.userIsAnswerer?t.answer.num_upvotes>0&&(e=n.getString("Helpful")):e=a.is_upvoted?t.shortView?n.getString("Unmark as helpful"):n.getString("Marked as helpful"):n.getString("Mark as helpful"),e+(a.num_upvotes>0&&!t.shortView?" ("+t.answer.num_upvotes+")":"")}function r(){a.is_upvoted=!0,a.num_upvotes+=1}function o(){a.is_upvoted=!1,a.num_upvotes-=1}var a=t.answer,l={courseId:t.question.course.id,discussionId:t.question.id,id:t.answer.id};t.userIsAnswerer=a.user.id===f["default"].id,t.getTextLabel=s,t.toggleUpvote=function(n){var s="";t.disable||t.userIsAnswerer||(a.is_upvoted?(l.userId=f["default"].id,i["delete"](l,null).$promise.then(o),s=e(n.currentTarget).closest(".questions-panel").length?"video.question-panel.detail-view.un-mark-helpful":"dashboard.tab.detail-view.un-mark-helpful",h["default"].track("coursetaking","question",s,null,null,null,{objectType:"question",objectId:t.question.id})):(l.userId=null,i.save(l,null).$promise.then(r),s=e(n.currentTarget).closest(".questions-panel").length?"video.question-panel.detail-view.mark-helpful":"dashboard.tab.detail-view.mark-helpful",h["default"].track("coursetaking","question",s,null,null,null,{objectType:"question",objectId:t.question.id})))}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(7),o=babelHelpers.interopRequireDefault(r),a=i(1752),l=babelHelpers.interopRequireDefault(a),c=i(40),u=babelHelpers.interopRequireDefault(c),d=i(1722),h=babelHelpers.interopRequireDefault(d),p=i(41),f=babelHelpers.interopRequireDefault(p),g=i(2220),m=babelHelpers.interopRequireDefault(g),v=o["default"].module("ng/apps/course-taking-v4/question-answer/answer-upvote.ng-directive",[u["default"].name,l["default"].name]).directive("answerUpvote",n);s.$inject=["$scope","AnswerUpvote","gettextCatalog"],t["default"]=v}).call(t,i(5))},2084:function(e,t,i){"use strict";function n(){return{replace:!0,restrict:"E",scope:{answer:"=",me:"=",disable:"=",onSuccess:"&?"},controller:s,templateUrl:h["default"]}}function s(e,t){function i(){return e.answer.course_discussion.user.id===e.me.id||!!e.me.canEditCourse}function n(){if(!e.disable&&!e.isMarkAsHelpfulSubmitting){e.isMarkAsHelpfulSubmitting=!0;var i={courseId:e.answer.course_discussion.course.id,discussionId:e.answer.course_discussion.id,id:e.answer.id},n={is_top_answer:!e.answer.is_top_answer||null};t.partial_update(i,n).$promise.then(function(){e.answer.is_top_answer=n.is_top_answer,e.onSuccess()})["finally"](function(){e.isMarkAsHelpfulSubmitting=!1})}}e.canUserMarkAnswerAsHelpful=i,e.toggleMarkAsHelpful=n}Object.defineProperty(t,"__esModule",{value:!0});var r=i(7),o=babelHelpers.interopRequireDefault(r),a=i(1752),l=babelHelpers.interopRequireDefault(a),c=i(40),u=babelHelpers.interopRequireDefault(c),d=i(2221),h=babelHelpers.interopRequireDefault(d),p=o["default"].module("ng/apps/course-taking-v4/question-answer/mark-as-top-answer.ng-directive",[u["default"].name,l["default"].name]).directive("markAsTopAnswer",n);s.$inject=["$scope","QuestionReply"],t["default"]=p},2085:function(e,t,i){(function(e){"use strict";function n(t,i,n,s){return{require:"?^questionDetails",restrict:"E",scope:{showNewTab:"=",onDelete:"=",question:"=",instructorView:"=",me:"="},link:function(o,a,l){function c(e,t){o.editQuestionButtonEnabled=u(),o.deleteQuestionButtonEnabled=d(),o.reportAbuseButtonEnabled=h(),o.showMenu=o.editQuestionButtonEnabled||o.deleteQuestionButtonEnabled||o.reportAbuseButtonEnabled}function u(){return o.question&&o.question.user.id===o.me.id}function d(){return o.question&&(o.question.user.id===o.me.id||o.me.canEditCourse)}function h(){return g["default"].features.report_abuse&&o.question&&o.question.user.id!==w["default"].id}o.$watch("question",c),o.editQuestion=function(t){var i="";i=e(t.currentTarget).closest(".questions-panel").length?"video.question-panel.detail-view.edit-question":"dashboard.tab.detail-view.edit-question",v["default"].track("coursetaking","question",i,null,null,null,{objectType:"question",objectId:o.question.id}),o.$emit("editQuestion")},o.deleteQuestion=function(i){var r="";r=e(i.currentTarget).closest(".questions-panel").length?"video.question-panel.detail-view.delete-question":"dashboard.tab.detail-view.delete-question";var a=n.getString("Are you sure you want to delete your question?");s(a).then(function(){v["default"].track("coursetaking","question",r,null,null,null,{objectType:"question",objectId:o.question.id}),t.deleteQuestion(o.question).then(function(){o.onDelete(o.question)})})},o.toggleReadQuestion=function(e){r["default"].element(e.target).data("denyClickRead",!0);var t=!o.question.is_read;v["default"].track("coursetaking","question","instructor-dashboard.tab.questions.mark-as-read",null,null,{location:"instructor.dashboard.tab",value:t},{objectType:"question",objectId:o.question.id}),o.question.is_read=t,o.$emit("questionReadStatusChanged",t),i.partial_update({courseId:o.question.course.id,id:o.question.id},{is_read:t}).$promise["catch"](function(){o.question.is_read=!t,o.$emit("questionReadStatusChanged",!t)})}},templateUrl:C["default"]}}Object.defineProperty(t,"__esModule",{value:!0});var s=i(7),r=babelHelpers.interopRequireDefault(s);i(94);var o=i(1784),a=babelHelpers.interopRequireDefault(o),l=i(1727),c=babelHelpers.interopRequireDefault(l),u=i(1752),d=babelHelpers.interopRequireDefault(u),h=i(40),p=babelHelpers.interopRequireDefault(h),f=i(35),g=babelHelpers.interopRequireDefault(f),m=i(1722),v=babelHelpers.interopRequireDefault(m),b=i(41),w=babelHelpers.interopRequireDefault(b),y=i(1823),A=babelHelpers.interopRequireDefault(y),k=i(2222),C=babelHelpers.interopRequireDefault(k),x=r["default"].module("ng/apps/course-taking-v4/question-answer/question-action-menu.ng-directive",[p["default"].name,A["default"].name,d["default"].name,a["default"].name,c["default"].name]).directive("questionActionMenu",n,"gettextCatalog");n.$inject=["QuestionAnswer","CourseQuestion","gettextCatalog","udConfirm"],t["default"]=x}).call(t,i(5))},2086:function(e,t,i){(function(e){"use strict";function n(){return{restrict:"E",scope:{disable:"=",question:"=",menuItem:"@"},controller:s,templateUrl:m["default"]}}function s(t,i){function n(n){var s="";t.question.is_following?(i.unfollowQuestion(t.question,h["default"].id),s=e(n.currentTarget).closest(".questions-panel").length?"video.question-panel.detail-view.unfollow":"dashboard.tab.detail-view.unfollow",u["default"].track("coursetaking","question",s,null,null,null,{objectType:"question",objectId:t.question.id})):(i.followQuestion(t.question),s=e(n.currentTarget).closest(".questions-panel").length?"video.question-panel.detail-view.follow":"dashboard.tab.detail-view.follow",u["default"].track("coursetaking","question",s,null,null,null,{objectType:"question",objectId:t.question.id}))}t.toggleFollow=n}Object.defineProperty(t,"__esModule",{value:!0});var r=i(7),o=babelHelpers.interopRequireDefault(r),a=i(40),l=babelHelpers.interopRequireDefault(a),c=i(1722),u=babelHelpers.interopRequireDefault(c),d=i(41),h=babelHelpers.interopRequireDefault(d),p=i(1823),f=babelHelpers.interopRequireDefault(p),g=i(2224),m=babelHelpers.interopRequireDefault(g),v=o["default"].module("ng/apps/course-taking-v4/question-answer/question-follow.ng-directive",[l["default"].name,f["default"].name]).directive("questionFollow",n);s.$inject=["$scope","QuestionAnswer"],t["default"]=v}).call(t,i(5))},2087:function(e,t,i){var n,s;n=[i(7),i(2318),i(2317),i(35),i(374)],s=function(e,t,i,n,s){function r(e,i){function r(s){function r(e){u.destroy(),o(e)}var o=s.responseHandler,a=s.timeoutHandler,l=s.onSubscriptionSucceeded,c=s.onSubscriptionError,u=this,d=12e3,h=n.third_party.pusher.coding_exercise_event,p=e(new t(n.third_party.pusher.key,{}));u.pusherChannel="v2"+Math.floor(Math.random()*Math.pow(10,12)+Date.now());var f=p.subscribe(u.pusherChannel);f.bind("pusher:subscription_succeeded",l),f.bind(h,r),p.connection.bind("unavailable",function(){c(),u.destroy()}),p.connection.bind("failed",function(){c(),u.destroy()});var g=i(function(){u.destroy(),a()},d);u.destroy=function(){p&&p.disconnect(),i.cancel(g)}}function o(){var e=this,t=void 0;e.solutionPassed=!1,e.checkSolutionError=!1,e.checkSolutionOutput={},e.checkSolutionWaiting=!1,e.evaluate=function(i){function n(i){var n=i.success,r=i.output.evaluator_logs||i.output.compile_logs,o=i.output.user_logs;s.trace("coding-exercises",{id:t.pusherChannel.toString(),event:"frontend.response",success:n,evaluatorFeedback:r,userOutput:o,duration:(new Date-g)/1e3}),e.solutionPassed=n,e.checkSolutionError=!1,e.checkSolutionWaiting=!1,e.checkSolutionOutput={evaluatorFeedback:r,userOutput:o},u(n,r,o)}function o(){s.trace("coding-exercises",{id:t.pusherChannel.toString(),event:"frontend.timeout"}),s.increment("quiz.coding_exercise.frontend.evaluate.timeout"),e.checkSolutionError=!0,e.checkSolutionWaiting=!1,e.checkSolutionOutput={},h(new Error("timeout"))}function a(){var i=new Date;c({pusherChannel:t.pusherChannel}).then(function(){s.trace("coding-exercises",{id:t.pusherChannel.toString(),event:"frontend.evaluate_success",duration:(new Date-i)/1e3})},function(i){t.destroy(),s.trace("coding-exercises",{id:t.pusherChannel.toString(),event:"frontend.backend_error"}),s.increment("quiz.coding_exercise.frontend.evaluate.error"),e.checkSolutionError=!0,e.checkSolutionWaiting=!1,e.checkSolutionOutput={},h(i)})}function l(){s.trace("coding-exercises",{id:t.pusherChannel.toString(),event:"frontend.pusher_subscription_error"}),s.increment("quiz.coding_exercise.frontend.evaluate.pusher_subscription_error"),e.checkSolutionError=!0,e.checkSolutionWaiting=!1,e.checkSolutionOutput={},h(new Error("pusher_subscription_error"))}var c=i.request,u=i.successHandler,d=i.errorHandler,h=void 0===d?function(){}:d,p=i.meta,f=void 0===p?{}:p;if(e.checkSolutionWaiting)return!1;e.checkSolutionWaiting=!0,t&&t.destroy(),t=new r({responseHandler:n,timeoutHandler:o,onSubscriptionSucceeded:a,onSubscriptionError:l}),s.trace("coding-exercises",{id:t.pusherChannel.toString(),assessmentId:f.assessmentId,userType:f.userType,event:"frontend.evaluate"}),s.increment("quiz.coding_exercise.frontend.evaluate.start");var g=new Date;return!0},e.destroy=function(){t&&t.destroy()}}return function(){return new o}}var o=e.module("ng/apps/course-taking-v4/quiz-view/coding-exercise-evaluator.ng-service",["pusher-angular"]).service("CodingExerciseEvaluatorService",r);return r.$inject=["$pusher","$timeout"],o}.apply(t,n),!(void 0!==s&&(e.exports=s))},2088:function(e,t,i){"use strict";function n(e){return{restrict:"A",scope:{question:"="},link:function(t,i){function n(){var e=i.find("img");a["default"].forEach(e,function(e){var t=(0,r["default"])(e);if(!t.next().hasClass(".quiz__fancybox")){var i=(0,r["default"])('<a class="fancybox quiz__fancybox"><span class="udi udi-zoom-in"></span></a>');i.attr("href",t.attr("src")),i.fancybox(),t.after(i)}})}t.$watch("question",function(){e(n)})}}}Object.defineProperty(t,"__esModule",{value:!0}),i(381);var s=i(5),r=babelHelpers.interopRequireDefault(s),o=i(7),a=babelHelpers.interopRequireDefault(o);t["default"]=a["default"].module("ng/apps/course-taking-v4/quiz-view/wrap-images.ng-directive",[]).directive("wrapImages",n),n.$inject=["$timeout"]},2089:function(e,t,i){var n,s;n=[i(7),i(2334),i(1847)],s=function(e,t,i){var n=e.module("ng/apps/course-taking-v4/user-activity-check/module",[t.name,i.name]);return n}.apply(t,n),!(void 0!==s&&(e.exports=s))},2090:function(e,t,i){var n,s;n=[i(7),i(251),i(5),i(26)],s=function(e,t,i,n){var s={curriculumItemDownIn:{defaultDuration:800,calls:[[{translateY:"100%",opacity:"1"},.05,{easing:"linear"}],[{translateY:"0%"},.95,{easing:"linear"}]]},curriculumItemUpOut:{defaultDuration:800,calls:[[{translateY:"0%"},.05,{easing:"linear"}],[{translateY:"-100%"},.95,{easing:"linear"}]]},curriculumItemUpIn:{defaultDuration:800,calls:[[{translateY:"-100%",opacity:"1"},.05,{easing:"linear"}],[{translateY:"0%"},.95,{easing:"linear"}]]},curriculumItemDownOut:{defaultDuration:800,calls:[[{translateY:"0%"},.05,{easing:"linear"}],[{translateY:"100%"},.95,{easing:"linear"}]]}};return n(s).each(function(e,t){var n=i.Velocity||window.$.Velocity||window.Velocity;n.RegisterEffect.packagedEffects["transition."+t]=e,n.RegisterEffect("transition."+t,n.RegisterEffect.packagedEffects["transition."+t])}),e.module("ng/apps/course-taking-v4/velocity-animations",["angular-velocity"])}.apply(t,n),!(void 0!==s&&(e.exports=s))},2111:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var n,s,r=i(1),o=babelHelpers.interopRequireDefault(r),a=i(2042),l=babelHelpers.interopRequireDefault(a),c=i(2112),u=babelHelpers.interopRequireDefault(c),d=(s=n=function(e){
function t(i){babelHelpers.classCallCheck(this,t);var n=babelHelpers.possibleConstructorReturn(this,e.call(this,i));return n.editorSessions=new Map,n}return babelHelpers.inherits(t,e),t.prototype.componentDidMount=function(){this.editor=this.createEditor(),this.setEditorSession(this.editor,this.props.file),this.props.registerResizeHandler(this.editor.resize.bind(this.editor))},t.prototype.componentDidUpdate=function(){var e="ace/mode/"+(0,u["default"])(this.getFileExtension(this.props.file));this.editor.session.setMode(e),this.props.file.content!==this.editor.getValue()&&this.setEditorSession(this.editor,this.props.file)},t.prototype.getFileExtension=function(e){return(e.file_name||"").split(".").pop()},t.prototype.updateCursorPosition=function(e){var t=e.getCursorPosition();this.props.updateCursorPosition(t.row+1,t.column+1)},t.prototype.createEditor=function(){var e=this,t=l["default"].edit("editor");return t.setTheme("ace/theme/IDLE"),t.setHighlightActiveLine(!1),t.setHighlightGutterLine(!0),t.setShowPrintMargin(!1),t.setDisplayIndentGuides(!0),t.setFontSize("12px"),t.commands.removeCommand("gotoline"),t.renderer.setScrollMargin(20,20),t.$blockScrolling=1/0,t.on("change",function(){e.props.updateFile(e.props.file,t.getValue())}),t},t.prototype.setEditorSession=function(e,t){var i=this.editorSessions.get(t);if(i)return e.setSession(i),void i.setValue(t.content);var n=(0,u["default"])(this.getFileExtension(t));i=new l["default"].EditSession(t.content,"ace/mode/"+n),i.setUndoManager(new l["default"].UndoManager),i.setUseSoftTabs(!0),i.setUseWrapMode(!0),i.getSelection().on("changeCursor",this.updateCursorPosition.bind(this,this.editor)),e.setSession(i),this.editorSessions.set(t,i),this.updateCursorPosition(e)},t.prototype.render=function(){return o["default"].createElement("div",{id:"editor"})},t}(r.Component),n.propTypes={file:o["default"].PropTypes.object.isRequired,updateCursorPosition:o["default"].PropTypes.func,updateFile:o["default"].PropTypes.func.isRequired,registerResizeHandler:o["default"].PropTypes.func},n.defaultProps={updateCursorPosition:function(){},registerResizeHandler:function(){}},s);t["default"]=d},2112:function(e,t){"use strict";function i(e){return n[e]||"text"}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=i;var n={C:"c_cpp",CPP:"c_cpp",c:"c_cpp","c++":"c_cpp",cc:"c_cpp",cp:"c_cpp",cpp:"c_cpp",cs:"csharp",css:"css",cxx:"c_cpp",h:"c_cpp",htm:"html",html:"html",java:"java",js:"javascript",php:"php",py:"python",rb:"ruby",swift:"swift"}},2113:function(e,t,i){"use strict";function n(e){return e(a["default"])}Object.defineProperty(t,"__esModule",{value:!0});var s=i(7),r=babelHelpers.interopRequireDefault(s);i(1745);var o=i(2111),a=babelHelpers.interopRequireDefault(o);t["default"]=r["default"].module("ng/directives/ace/ace-react.ng-directive",["react"]).directive("ace",["reactDirective",n])},2114:function(e,t,i){var n,s;n=[i(7),i(101)],s=function(e,t){function i(e){return{restrict:"A",link:function(i,n){n.click(function(){t.call("/users/me",{type:"PATCH",data:{accept_terms:1},success:function(){e.location.reload()}})})}}}return e.module("ng/directives/common/accept-terms.ng-directive",[]).directive("acceptTerms",["$window",i])}.apply(t,n),!(void 0!==s&&(e.exports=s))},2125:function(e,t,i){"use strict";function n(){return{restrict:"E",templateUrl:c["default"],scope:{courseData:"=",shouldShowReviewMore:"="},controller:["$scope",function(e){e.maxRewardReviews=4,e.maxRequiredReviews=2;var t=e.courseData.num_completed_current/e.maxRewardReviews,i=e.courseData.num_completed_current%e.maxRewardReviews;e.barsFull=i||(t?4:0),e.barsHalf=e.courseData.is_in_progress?e.barsFull+1:0,e.hasPeriodReward=e.barsFull>=e.maxRewardReviews,e.reviewsLeft=e.maxRewardReviews-e.barsFull}]}}Object.defineProperty(t,"__esModule",{value:!0});var s=i(7),r=babelHelpers.interopRequireDefault(s),o=i(1818),a=babelHelpers.interopRequireDefault(o),l=i(2245),c=babelHelpers.interopRequireDefault(l);t["default"]=r["default"].module("ng/directives/early-access/early-access-progress.ng-directive",[a["default"].name]).directive("earlyAccessProgress",n)},2126:function(e,t,i){"use strict";function n(e){return{restrict:"E",templateUrl:c["default"],scope:{isExpired:"=",expiration:"@",expirationHandler:"=?"},link:function(t,i,n){var s=e(function(){(0,a["default"])().diff(t.expiration)>0?(e.cancel(s),t.isExpired=!0,t.expirationHandler&&t.expirationHandler()):t.timeLeft=(0,o.timeLeft)(t.expiration)},1e3);t.$on("$destroy",function(){e.cancel(s)})}}}Object.defineProperty(t,"__esModule",{value:!0});var s=i(7),r=babelHelpers.interopRequireDefault(s),o=i(162),a=babelHelpers.interopRequireDefault(o),l=i(2246),c=babelHelpers.interopRequireDefault(l);t["default"]=r["default"].module("ng/directives/early-access/early-access-timer.ng-directive",[]).directive("earlyAccessTimer",n),n.$inject=["$interval"]},2167:function(e,t,i){var n,s;n=[i(7),i(137)],s=function(e){function t(e){return e("/api-2.0/courses/:courseId/quizzes/:id")}function i(e){return e("/api-2.0/users/me/subscribed-courses/:courseId/quizzes/:quizId/user-attempted-quizzes/:attemptId/:action",null,{update:{method:"PATCH"}})}function n(e){return e("/api-2.0/quizzes/:quizId/assessments")}function s(e){return e("/api-2.0/users/me/subscribed-courses/:courseId/user-attempted-quizzes/:attemptId/assessment-answers")}function r(e){return e("/api-2.0/users/me/subscribed-courses/:courseId/user-attempted-quizzes/:attemptId/coding-exercise-answers")}return e.module("ng/services/v2/quiz-resources.ng-factory",["ngResource"]).factory("Quiz",["$resource",t]).factory("AttemptedQuiz",["$resource",i]).factory("Question",["$resource",n]).factory("Answer",["$resource",s]).factory("CodingExerciseAnswer",["$resource",r])}.apply(t,n),!(void 0!==s&&(e.exports=s))},2214:function(e,t){var i="/ng/apps/course-taking-v4/practice-view/practice-feedback-question-answer.ng-template.html",n='<div> <div class=component-thread-head ng-class="{\'well well-sm text-muted mb0\': deleteInProgress}"> <div class="thread-head__avatar thread-head__avatar--stick-top"> <img width=40 height=40 ng-src="{{ feedbackQuestionAnswer.user.image_50x50 }}" class=img-circle /> </div> <div class=thread-head__basic-info> <a ng-href={{feedbackQuestionAnswer.user.url}} class="inline inline--no-padding" ng-bind=feedbackQuestionAnswer.user.title data-purpose=commenter-name></a> <inplace-wysiwyg request-editor-init=editorState.initialize redactor-theme="{{ editorState.redactorTheme }}" editor-value=editorState.body submit-disabled=editorState.submitDisabled submit-fn=submitFn(value) class=no-compress editor-hidden=editorState.hidden> <div ng-bind-html=feedbackQuestionAnswer.body prettify> </div> </inplace-wysiwyg> </div> <div class=dropdown ng-if=showOptionsDropdown> <button class="btn btn-tertiary btn-xs" data-deny-click-read=true id="feedbackQuestionAnswerActionMenu{{ feedbackQuestionAnswer.id }}" type=button data-toggle=dropdown aria-haspopup=true aria-expanded=false> <i class="udi udi-ellipsis-v"></i> </button> <ul class="dropdown-menu dropdown-menu-right a11" role=menu aria-labelledby="feedbackQuestionAnswerActionMenu{{ feedbackQuestionAnswer.id }}"> <li role=presentation ng-show=canEdit> <a role=menuitem ng-click=editAnswer() tabindex=-1 href=javascript:void(0)> <span translate>Edit</span> </a> </li> <li role=presentation ng-show=canDelete> <a role=menuitem tabindex=-1 href=javascript:void(0) ng-click=deleteAnswer()> <span translate>Delete</span> </a> </li> </ul> </div> </div> <div class=ml60 ng-if=showComments> <comment-thread auto-load=true comment-resource=commentResource comment-resource-path-params="{\n                practiceId: practiceId,\n                attemptId: submission.id,\n                feedbackQuestionAnswerId: feedbackQuestionAnswer.id\n            }" comment-thread=feedbackQuestionAnswer.comment_thread> </comment-thread> </div> </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(i,n)}]),e.exports=i},2215:function(e,t){var i="/ng/apps/course-taking-v4/practice-view/practice-feedback-question.ng-template.html",n='<div> <div class=component-thread-head> <div class=thread-head__basic-info> <div class=no-compress ng-bind-html=feedbackQuestion.body></div> </div> </div> <practice-feedback-question-answer feedback-question-answer=answer practice-id="{{ practiceId }}" submission=submission show-comments=showComments on-delete=deleteAnswer(answer) on-edit="editAnswer(answer, value)" ng-repeat="answer in feedbackQuestion.answers"></practice-feedback-question-answer> <span ng-if=loading> <span class="udi udi-circle-loader udi-small"></span> </span> <div class=component-thread-head ng-show="!loading && !pagination.total && reviewer.id == udMe.id"> <div class="thread-head__avatar thread-head__avatar--stick-top"> <img width=40 height=40 ng-src="{{ reviewer.image_50x50 }}" class=img-circle /> </div> <div class=thread-head__basic-info> <inplace-wysiwyg request-editor-init=editorState.initialize placeholder-text="{{ editorState.placeholderText }}" redactor-theme="{{ editorState.redactorTheme }}" editor-value=editorState.body submit-disabled=editorState.submitDisabled submit-fn=submitFn(value) class=no-compress editor-hidden=editorState.hidden> <input class=form-control placeholder="{{ editorState.placeholderText }}" ng-focus="editorState.hidden = false"> </inplace-wysiwyg> </div> </div> </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(i,n)}]),e.exports=i},2216:function(e,t){var i="/ng/apps/course-taking-v4/practice-view/practice-feedback.ng-template.html",n='<div> <practice-feedback-question feedback-question=feedbackQuestion submission=submission practice-id="{{ practiceId }}" reviewer=reviewer show-comments=showComments ng-repeat="feedbackQuestion in feedbackQuestions"></practice-feedback-question> <button class="btn btn-sm btn-link" ng-if="pagination.total > feedbackQuestions.length" ng-disabled=loading ng-click=loadFeedbackQuestions(pagination.page) translate> Load more </button> <span ng-if=loading> <span class="udi udi-circle-loader udi-small"></span> </span> </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(i,n)}]),e.exports=i},2217:function(e,t){var i="/ng/apps/course-taking-v4/practice-view/practice-submission-directive.ng-template.html",n='<div class="question__list view-mode"> <div class="component-thread-head component-thread-head--submission-owner"> <div class=thread-head__avatar> <img ng-src="{{ submission.user.image_50x50 }}" height=50 width=50 ng-class="{\'round\': !submission.user.isInstructor}" target=_blank> </div> <div class=thread-head__basic-info> <a ng-href="{{ submission.user.url }}">{{ submission.user.title }}</a> </div> <div class=thread-head__extra-info> <span ng-if=submission.submission_time>{{ submission.submission_time | fromNow }}</span> </div> </div> <div class="question__list__item pos-r" ng-repeat="question_user_answer in submission.question_user_answers"> <div> <div class=question__title> <div class=question__title--text ng-bind-html=question_user_answer.practice_question.body></div> </div> <div class=question__answer ng-bind-html=question_user_answer.body prettify></div> </div> </div> </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(i,n)}]),e.exports=i},2218:function(e,t){var i="/ng/apps/course-taking-v4/question-answer/answer-action-menu-directive.ng-template.html",n='<div class="dropdown answer-action-menu" ng-if=showMenu> <button class="btn btn-tertiary btn-xs" id="answerActionMenu{{ answer.id }}" type=button data-toggle=dropdown aria-haspopup=true aria-expanded=false> <i class="udi udi-ellipsis-v"></i> </button> <ul class="dropdown-menu dropdown-menu-right a11" role=menu aria-labelledby="answerActionMenu{{ answer.id }}"> <li role=presentation ng-if=editAnswerButtonEnabled> <a ng-click=editAnswer($event) role=menuitem tabindex=-1 href=javascript:void(0)> <span translate>Edit</span> </a> </li> <li role=presentation ng-if=deleteAnswerButtonEnabled> <a role=menuitem tabindex=-1 href=javascript:void(0) ng-click=deleteAnswer()> <span translate>Delete</span> </a> </li> <li role=presentation class=report-abuse-button ng-if=reportAbuseButtonEnabled> <report-abuse show-tooltip=false show-label=true object-type="\'coursediscussionreply\'" object-id=answer.id tabindex=-1></report-abuse> </li> </ul> </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(i,n)}]),e.exports=i},2219:function(e,t){var i="/ng/apps/course-taking-v4/question-answer/answer-form-directive.ng-template.html",n='<form-alert ng-if=editorState.formError.getMessage() error=editorState.formError.getCurrent() class="mb5 p10"></form-alert> <ud-wysiwyg request-editor-init=editorState.initialize request-reset-value=editorState.resetValue placeholder-text="{{\'Write your response\' | translate}}" redactor-theme={{editorState.redactorTheme}} editor-value=editorState.body></ud-wysiwyg> <div class=submit-row> <button type=submit class="btn btn-sm btn-primary" ng-disabled=editorState.submitDisabled ng-click=submitForm()> <span ng-show="editorState.formError.getType() === \'warning\'" translate> Proceed </span> <span ng-show="editorState.formError.getType() !== \'warning\'" translate> Add an answer </span> </button> </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(i,n)}]),e.exports=i},2220:function(e,t){var i="/ng/apps/course-taking-v4/question-answer/answer-upvote-directive.ng-template.html",n="<a class=upvote ng-class=\"{'upvoted': answer.is_upvoted, 'not-upvoted': !answer.is_upvoted, 'owner': userIsAnswerer, 'disabled': disable}\" href=javascript:void(0) ng-click=toggleUpvote($event) ng-show=\"!userIsAnswerer || answer.num_upvotes > 0\"> <span translate>{{ getTextLabel() }}</span> </a>";window.angular.module("ng").run(["$templateCache",function(e){e.put(i,n)}]),e.exports=i},2221:function(e,t){var i="/ng/apps/course-taking-v4/question-answer/mark-as-top-answer.ng-template.html",n="<a href=javascript:void(0) ng-show=canUserMarkAnswerAsHelpful() ng-class=\"{'disabled':disable }\" ng-click=toggleMarkAsHelpful() ng-disable=isMarkAsHelpfulSubmitting> <span ng-if=!answer.is_top_answer translate> Mark as top answer </span> <span ng-if=answer.is_top_answer translate> Unmark as top answer </span> </a>";window.angular.module("ng").run(["$templateCache",function(e){e.put(i,n)}]),e.exports=i},2222:function(e,t){var i="/ng/apps/course-taking-v4/question-answer/question-action-menu-directive.ng-template.html",n='<div class="dropdown question-action-menu" ng-if=showMenu> <button class="btn btn-tertiary btn-xs" data-deny-click-read=true id="questionActionMenu{{ question.id }}" type=button data-toggle=dropdown aria-haspopup=true aria-expanded=false> <i data-deny-click-read=true class="udi udi-ellipsis-v"></i> </button> <ul class="dropdown-menu dropdown-menu-right a11" role=menu aria-labelledby="questionActionMenu{{ question.id }}"> <li role=presentation ng-if=showNewTab> <a role=menuitem tabindex=-1 target=_blank ui-sref="base.dashboard.question-details({id: question.id })" translate> Open in new tab </a> </li> <li role=presentation ng-if="instructorView && me.canEditCourse"> <a role=menuitem data-deny-click-read=true tabindex=-1 href=javascript:void(0) ng-click=toggleReadQuestion($event)> <span translate ng-show=question.is_read> Mark as unread</span> <span translate ng-show=!question.is_read>Mark as read</span> </a> </li> <li role=presentation ng-if=instructorView> <question-follow class=question-follow menu-item=true disable=readOnly ng-if=instructorView ng-show=!questionEditorState.isEditing question=question></question-follow> </li> <li role=presentation ng-if=editQuestionButtonEnabled> <a role=menuitem ng-click=editQuestion($event) tabindex=-1 href=javascript:void(0)> <span translate>Edit</span> </a> </li> <li role=presentation ng-if=deleteQuestionButtonEnabled> <a role=menuitem tabindex=-1 href=javascript:void(0) ng-click=deleteQuestion($event)> <span translate>Delete</span> </a> </li> <li role=presentation class=report-abuse-button ng-if=reportAbuseButtonEnabled> <report-abuse show-label=true show-tooltip=false object-type="\'coursediscussion\'" object-id=question.id tabindex=-1></report-abuse> </li> </ul> </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(i,n)}]),e.exports=i},2223:function(e,t){var i="/ng/apps/course-taking-v4/question-answer/question-details-directive.ng-template.html",n='<div class=question-details ng-cloak><div class="original-question fx fx-lt"> <img ng-src="{{ question.user.image_50x50 }}" ng-class="{\'img-circle\':!question.is_instructor}"/> <div class="question__info a11 fx"> <question-action-menu show-new-tab=showNewTab instructor-view=instructorView on-delete=onDelete question=question me=me class="dib fr"></question-action-menu> <div ng-if=!instructorView ng-show=!questionEditorState.isEditing class="a10 bold">{{ question.title }}</div> <a ng-href="{{ question.user.url }}" target=_blank>{{ question.user.name }}</a> <div ng-if=instructorView> <i translate translate-comment="date that the user posted the question for the first time" ng-if="!question.last_activity || question.last_activity === question.created">Posted {{ question.created | fromNow }}</i> <i translate translate-comment="last time the user updated the question" ng-if="question.last_activity && question.last_activity !== question.created">Updated {{ question.last_activity | fromNow }}</i> </div> <div ng-if=instructorView ng-show=!questionEditorState.isEditing class="question__title a10 bold mt5 mb5">{{ question.title }}</div> <a ng-if="question.related_object._class == \'lecture\' && question.related_object.object_index" ui-sref="base.taking.lecture({id: question.related_object.id})" ng-click=goToLecture(question.related_object) translate> &middot; Lecture {{ question.related_object.object_index }} </a> <a ng-if="question.related_object._class == \'quiz\' && question.related_object.object_index" ui-sref="base.taking.quiz({id: question.related_object.id})" translate> &middot; Quiz {{ question.related_object.object_index }} </a> <a ng-if="question.related_object._class == \'practice\' && question.related_object.object_index" ui-sref="base.taking.practice.start-page({id: question.related_object.id})" translate> &middot; Assignment {{ question.related_object.object_index }} </a> <span ng-if=!instructorView> &middot; {{ question.created | fromNow }} </span> <input ng-model=questionEditorState.title ng-if=questionEditorState.isEditing type=text class="form-control input-sm mb15 mt10" placeholder="{{\'Edit your question title here.\' | translate}}"> <div ng-if=!instructorView ng-show=!questionEditorState.isEditing class=question__body ng-bind-html="question.body | openBlankTarget" prettify> </div> <view-more ng-if=instructorView ng-show=!questionEditorState.isEditing class=question__body text="question.body | openBlankTarget" prettify filter-html=true not-isolate=true view-more-style="\'5-lines\'"></view-more> <div class="question__editor mt15" ng-show=questionEditorState.isEditing ng-cloak> <form-alert ng-if=questionEditorState.formError.getMessage() error=questionEditorState.formError.getCurrent() class="mb5 p10"></form-alert> <ud-wysiwyg request-editor-init=questionEditorState.initialize request-reset-value=questionEditorState.resetValue placeholder-text="{{\'Edit your question here.\' | translate}}" editor-value=questionEditorState.body redactor-theme={{questionEditorState.redactorTheme}}> </ud-wysiwyg> <button ng-click=submitEditQuestion() ng-disabled=questionEditorState.submitDisabled class="btn btn-sm btn-primary" type=button> <span ng-show="questionEditorState.formError.getType() === \'warning\'" translate> Proceed </span> <span ng-show="questionEditorState.formError.getType() !== \'warning\'" translate> Save </span> </button> <button ng-click=cancelEdit() class="btn btn-sm btn-tertiary" type=button translate>Cancel</button> </div> <question-follow disable=readOnly ng-if=!instructorView ng-show=!questionEditorState.isEditing question=question></question-follow> </div> </div> <div class=answer-list> <div class=answers> <div class="answer fx fx-lt" ng-repeat="answer in answers" ng-class="{\'top-answer\': answer.is_top_answer}"> <img ng-class="{\'img-circle\':!answer.is_instructor}" ng-src="{{ answer.user.image_50x50 }}"/> <div class="answer__info fx"> <answer-action-menu class="dib fr"></answer-action-menu> <a ng-href="{{ answer.user.url }}" target=_blank>{{ answer.user.name }}</a> <span class=instructor-tag ng-show=answer.is_instructor translate> &mdash; Instructor </span> <small> &middot; {{ answer.created | fromNow }} </small> <span class=top-answer-badge ng-if=answer.is_top_answer> <i class="udi udi-star"></i> <span translate>Answer</span> </span> <br/> <span ng-if=instructorView class=mb10> <i translate translate-comment="date that the user posted the answer for the first time" ng-if="!answer.last_activity || answer.last_activity === answer.created">Posted {{ answer.created | fromNow }}</i> <i translate translate-comment="last time the user updated the answer" ng-if="answer.last_activity && answer.last_activity !== answer.created">Updated {{ answer.last_activity | fromNow }}</i> </span> <div ng-if="answer.user.id === me.id" class="answer__editor mt15" ng-show=answerEditorStates[answer.id].isEditing> <form-alert ng-if=answerEditorStates[answer.id].formError.getMessage() error=answerEditorStates[answer.id].formError.getCurrent() class="mb5 p10"></form-alert> <ud-wysiwyg request-editor-init=answerEditorStates[answer.id].initialize request-reset-value=answerEditorStates[answer.id].resetValue placeholder-text="{{\'Edit your question here.\' | translate}}" editor-value=answerEditorStates[answer.id].body redactor-theme={{answerEditorStates[answer.id].redactorTheme}}> </ud-wysiwyg> <button ng-click=submitEditAnswer($index) ng-disabled=answerEditorStates[answer.id].submitDisabled class="btn btn-sm btn-primary" type=button> <span ng-show="answerEditorStates[answer.id].formError.getType() === \'warning\'" translate> Proceed </span> <span ng-show="answerEditorStates[answer.id].formError.getType() !== \'warning\'" translate> Save </span> </button> <button ng-click="answerEditorStates[answer.id].isEditing = false" class="btn btn-sm btn-tertiary" type=button translate>Cancel</button> </div> <div ng-if=!instructorView ng-show=!answerEditorStates[answer.id].isEditing class="answer__body a11" ng-bind-html="answer.body | openBlankTarget" prettify> </div> <view-more ng-if=instructorView ng-show=!answerEditorStates[answer.id].isEditing class="answer__body a11" text="answer.body | openBlankTarget" prettify filter-html=true not-isolate=true view-more-style="\'3-lines\'"></view-more> <div class="answer__actions a11"> <answer-upvote disable=readOnly class=mr10 question=question answer=answer></answer-upvote> <mark-as-top-answer answer=answer me=me on-success=markAsTopOnSuccess(answer)></mark-as-top-answer> </div> </div> </div> </div> <div class="fx-c mb10"> <button class="btn btn-primary" ng-click=loadAnswers() ng-disabled=loadingAnswers ng-show=hasMoreAnswers translate>Load more answers</button> </div> <div class=add-answer> <div ng-if="isInstructor && !replyCreateEnabled" class="alert alert-danger"> <h3><i class="udi udi-warning"></i><span translate>Trust &amp; Safety Alert</span></h3> <p translate> Your access to the Q&amp;A replying feature is temporarily suspended. Please contact <a ng-href="{{ supportUrl }}">support</a> for more information. </p> </div> <div ng-if="!isInstructor || replyCreateEnabled"> <div ng-show=!answerFormVisible ng-click="answerFormVisible = !readOnly" class="fx fx-lc"> <img ng-class="{\'img-circle\':!isInstructor}" ng-src="{{ me.image_50x50 }}"/> <input class="ml15 form-control" placeholder="{{\'Add an answer\' | translate}}" ng-focus=onFocus() ng-disabled=readOnly> </div> <answer-form class=answer-form ng-class="{\'visible\': answerFormVisible}" ng-animate-disabled question=question on-submit=submitAddAnswer(answer)></answer-form> </div> </div> </div></div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(i,n)}]),e.exports=i},2224:function(e,t){var i="/ng/apps/course-taking-v4/question-answer/question-follow-directive.ng-template.html",n='<button type=button class="btn btn-default" ng-if="!menuItem && question" ng-disabled=disable ng-class="{\'question-following\': question.is_following}" ng-click=toggleFollow($event)> <span translate class=text-medium-grey ng-if=!question.is_following> Follow Responses </span> <span translate class="text-link-blue bold" ng-if=question.is_following> Following Responses </span> </button> <a href=javascript:void(0) ng-if="menuItem && question" ng-disabled=disable ng-click=toggleFollow($event)> <span translate ng-if=!question.is_following> Follow responses </span> <span translate ng-if=question.is_following> Unfollow responses </span> </a>';window.angular.module("ng").run(["$templateCache",function(e){e.put(i,n)}]),e.exports=i},2244:function(e,t){var i="/ng/directives/common/view-more.ng-template.html",n='<div ng-if=filterHtml class="view-more view-more--{{viewMoreStyle}}"> <div ng-bind-html=text class=view-more__text></div> <div class=view-more__content ng-class="{\'view-more__content--collapsed\':showToggle && isCollapsed}" ng-transclude></div> </div> <div ng-if=!filterHtml class="view-more view-more--{{viewMoreStyle}}"> <div ng-bind-html=text class=view-more__text>{{ text }}</div> <div class=view-more__content ng-class="{\'view-more__content--collapsed\': showToggle && isCollapsed}" ng-transclude></div> </div> <div ng-if=showToggle> <a href class=view-more__button ng-click=showMore($event) ng-show=isCollapsed translate>Show more</a> <a href class=view-more__button ng-click=showLess($event) ng-hide=isCollapsed translate>Show less</a> </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(i,n)}]),e.exports=i},2245:function(e,t){var i="/ng/directives/early-access/early-access-progress.ng-template.html",n='<div class=c_progress--review> <div class=c_progress__header> <span class=ellipsis ng-show=reviewsLeft> <strong>{{ reviewsLeft }}</strong> review{{ reviewsLeft > 1 ? \'s\' : \'\' }} to next reward </span> <strong ng-show=hasPeriodReward> You did it! </strong> <span class="c_progress__icon udi udi-trophy" ng-class="{\'complete\': hasPeriodReward}"></span> </div> <ul class=c_progress__status> <li ng-repeat="bar in [4,3,2,1]" ng-class="{half: barsHalf===bar, full: barsFull===bar}"></li> </ul> <span class=text-medium-grey ng-show="hasPeriodReward && shouldShowReviewMore"> Review more courses for more rewards </span> </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(i,n)}]),e.exports=i},2246:function(e,t){var i="/ng/directives/early-access/early-access-timer.ng-template.html",n="<div ng-show=timeLeft>{{ timeLeft }} to submit your review<div></div></div>";window.angular.module("ng").run(["$templateCache",function(e){e.put(i,n)}]),e.exports=i},2317:function(e,t,i){(function(e){"use strict";e.module("pusher-angular",[]).factory("$pusher",["$rootScope","$channel","$connection",function(t,i,n){function s(e){return this instanceof s?(this._assertValidClient(e),this.client=e,this.connection=n(e.connection,e),void(this.channels={})):new s(e)}return s.prototype={subscribe:function(e){var t=this.client.channel(e);return void 0===t&&(t=this.client.subscribe(e)),t=i(t,this),this.channels[e]=t,t},unsubscribe:function(e){this.client.channel(e)&&(this.client.unsubscribe(e),this.channels[e]&&delete this.channels[e])},bind:function(i,n,s,r){var o=e.isDefined(r)&&!r,a=function(e){n(e),o||t.$digest()};return this.client.bind(i,a,s),a},bind_all:function(i,n){var s=e.isDefined(n)&&!n;this.client.bind_all(function(e,n){i(e,n),s||t.$digest()})},unbind:function(e,t,i){this.client.unbind(e,t,i)},disconnect:function(){this.client.disconnect()},channel:function(e){return this.channels[e]},allChannels:function(){return this.channels},_assertValidClient:function(t){if(!e.isObject(t)||!e.isObject(t.connection)||"function"!=typeof t.channel)throw new Error("Invalid Pusher client object")}},s}]).factory("$channel",["$rootScope","$members",function(t,i){function n(e){if(e.indexOf("presence-")==-1&&e.indexOf("private-")==-1)throw new Error("Presence or private channel required")}function s(e,t){return this instanceof s?(this._assertValidChannel(e),this.baseChannel=e,this.client=t,this.name=e.name,void(e.name.indexOf("presence")==-1?this.members=function(){throw new Error("Members object only exists for presence channels")}:this.members=i(e.members,e))):new s(e,t)}return s.prototype={bind:function(i,n,s,r){var o=e.isDefined(r)&&!r,a=function(e){n(e),o||t.$digest()};return this.baseChannel.bind(i,a,s),a},unbind:function(e,t,i){this.baseChannel.unbind(e,t,i)},bind_all:function(i,n){var s=e.isDefined(n)&&!n;this.baseChannel.bind_all(function(e,n){i(e,n),s||t.$digest()})},trigger:function(e,t){if(n(this.name),e.indexOf("client-")==-1)throw new Error("Event name requires 'client-' prefix");return this.baseChannel.trigger(e,t)},_assertValidChannel:function(t){if(!e.isObject(t)||"string"!=typeof t.name)throw new Error("Invalid Pusher channel object")}},s}]).factory("$members",["$rootScope",function(t){function i(e,n){if(!(this instanceof i))return new i(e,n);var s=this;this._assertValidMembers(e),this.baseMembers=e,this.baseChannel=n,this.me={},this.count=0,this.members={},n.bind("pusher:subscription_succeeded",function(e){s.me=e.me,s.count=e.count,s.members=e.members,t.$digest()}),n.bind("pusher:member_added",function(e){s.count++,e.info?s.members[e.id.toString()]=e.info:s.members[e.id.toString()]=null,t.$digest()}),n.bind("pusher:member_removed",function(e){s.count--,delete s.members[e.id.toString()],t.$digest()})}return i.prototype={get:function(e){return this.baseMembers.get(e)},each:function(e){this.baseMembers.each(function(i){e(i),t.$digest()})},_assertValidMembers:function(t){if(!e.isObject(t)||"object"!=typeof t.me)throw new Error("Invalid Pusher channel members object")}},i}]).factory("$connection",["$rootScope",function(t){function i(e,t){return this instanceof i?(this._assertValidConnection(e),this.baseConnection=e,void(this.baseClient=t)):new i(e,t)}return i.prototype={bind:function(i,n,s,r){var o=e.isDefined(r)&&!r;this.baseConnection.bind(i,function(e){n(e),o||t.$digest()},s)},bind_all:function(i,n){var s=e.isDefined(n)&&!n;this.baseConnection.bind_all(function(e,n){i(e,n),s||t.$digest()})},_assertValidConnection:function(t){if(!e.isObject(t))throw new Error("Invalid Pusher connection object")}},i}])}).call(t,i(7))},2318:function(e,t,i){var n,s;/*!
	 * Pusher JavaScript Library v3.0.0
	 * http://pusher.com/
	 *
	 * Copyright 2014, Pusher
	 * Released under the MIT licence.
	 */
!function(i,r){n=[],s=function(){return i.Pusher=r()}.apply(t,n),!(void 0!==s&&(e.exports=s))}(this,function(){return function(){function e(t,i){(null===t||void 0===t)&&e.warn("Warning","You must pass your app key when you instantiate Pusher."),i=i||{};var n=this;this.key=t,this.config=e.Util.extend(e.getGlobalConfig(),i.cluster?e.getClusterConfig(i.cluster):{},i),this.channels=new e.Channels,this.global_emitter=new e.EventsDispatcher,this.sessionID=Math.floor(1e9*Math.random()),this.timeline=new e.Timeline(this.key,this.sessionID,{cluster:this.config.cluster,features:e.Util.getClientFeatures(),params:this.config.timelineParams||{},limit:50,level:e.Timeline.INFO,version:e.VERSION}),this.config.disableStats||(this.timelineSender=new e.TimelineSender(this.timeline,{host:this.config.statsHost,path:"/timeline/v2/jsonp"})),this.connection=new e.ConnectionManager(this.key,e.Util.extend({getStrategy:function(t){return t=e.Util.extend({},n.config,t),e.StrategyBuilder.build(e.getDefaultStrategy(t),t)},timeline:this.timeline,activityTimeout:this.config.activity_timeout,pongTimeout:this.config.pong_timeout,unavailableTimeout:this.config.unavailable_timeout},this.config,{encrypted:this.isEncrypted()})),this.connection.bind("connected",function(){n.subscribeAll(),n.timelineSender&&n.timelineSender.send(n.connection.isEncrypted())}),this.connection.bind("message",function(e){var t=0===e.event.indexOf("pusher_internal:");if(e.channel){var i=n.channel(e.channel);i&&i.handleEvent(e.event,e.data)}t||n.global_emitter.emit(e.event,e.data)}),this.connection.bind("disconnected",function(){n.channels.disconnect()}),this.connection.bind("error",function(t){e.warn("Error",t)}),e.instances.push(this),this.timeline.info({instances:e.instances.length}),e.isReady&&n.connect()}var t=e.prototype;e.instances=[],e.isReady=!1,e.debug=function(){e.log&&e.log(e.Util.stringify.apply(this,arguments))},e.warn=function(){var t=e.Util.stringify.apply(this,arguments);window.console&&(window.console.warn?window.console.warn(t):window.console.log&&window.console.log(t)),e.log&&e.log(t)},e.ready=function(){e.isReady=!0;for(var t=0,i=e.instances.length;t<i;t++)e.instances[t].connect()},t.channel=function(e){return this.channels.find(e)},t.allChannels=function(){return this.channels.all()},t.connect=function(){if(this.connection.connect(),this.timelineSender&&!this.timelineSenderTimer){var t=this.connection.isEncrypted(),i=this.timelineSender;this.timelineSenderTimer=new e.PeriodicTimer(6e4,function(){i.send(t)})}},t.disconnect=function(){this.connection.disconnect(),this.timelineSenderTimer&&(this.timelineSenderTimer.ensureAborted(),this.timelineSenderTimer=null)},t.bind=function(e,t){return this.global_emitter.bind(e,t),this},t.bind_all=function(e){return this.global_emitter.bind_all(e),this},t.subscribeAll=function(){for(var e in this.channels.channels)this.channels.channels.hasOwnProperty(e)&&this.subscribe(e)},t.subscribe=function(e){return e=this.channels.add(e,this),"connected"===this.connection.state&&e.subscribe(),e},t.unsubscribe=function(e){(e=this.channels.remove(e))&&"connected"===this.connection.state&&e.unsubscribe()},t.send_event=function(e,t,i){return this.connection.send_event(e,t,i)},t.isEncrypted=function(){return"https:"===e.Util.getDocument().location.protocol||Boolean(this.config.encrypted)},e.HTTP={},this.Pusher=e}.call(this),function(){function e(e){window.clearTimeout(e)}function t(e){window.clearInterval(e)}function i(e,t,i,n){var s=this;this.clear=t,this.timer=e(function(){null!==s.timer&&(s.timer=n(s.timer))},i)}var n=i.prototype;n.isRunning=function(){return null!==this.timer},n.ensureAborted=function(){this.timer&&(this.clear(this.timer),this.timer=null)},Pusher.Timer=function(t,n){return new i(setTimeout,e,t,function(e){return n(),null})},Pusher.PeriodicTimer=function(e,n){return new i(setInterval,t,e,function(e){return n(),e})}}.call(this),function(){Pusher.Util={now:function(){return Date.now?Date.now():(new Date).valueOf()},defer:function(e){return new Pusher.Timer(0,e)},extend:function(e){for(var t=1;t<arguments.length;t++){var i,n=arguments[t];for(i in n)e[i]=n[i]&&n[i].constructor&&n[i].constructor===Object?Pusher.Util.extend(e[i]||{},n[i]):n[i]}return e},stringify:function(){for(var e=["Pusher"],t=0;t<arguments.length;t++)"string"==typeof arguments[t]?e.push(arguments[t]):void 0===window.JSON?e.push(arguments[t].toString()):e.push(JSON.stringify(arguments[t]));return e.join(" : ")},arrayIndexOf:function(e,t){var i=Array.prototype.indexOf;if(null===e)return-1;if(i&&e.indexOf===i)return e.indexOf(t);for(var i=0,n=e.length;i<n;i++)if(e[i]===t)return i;return-1},objectApply:function(e,t){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t(e[i],i,e)},keys:function(e){var t=[];return Pusher.Util.objectApply(e,function(e,i){t.push(i)}),t},values:function(e){var t=[];return Pusher.Util.objectApply(e,function(e){t.push(e)}),t},apply:function(e,t,i){for(var n=0;n<e.length;n++)t.call(i||window,e[n],n,e)},map:function(e,t){for(var i=[],n=0;n<e.length;n++)i.push(t(e[n],n,e,i));return i},mapObject:function(e,t){var i={};return Pusher.Util.objectApply(e,function(e,n){i[n]=t(e)}),i},filter:function(e,t){t=t||function(e){return!!e};for(var i=[],n=0;n<e.length;n++)t(e[n],n,e,i)&&i.push(e[n]);return i},filterObject:function(e,t){var i={};return Pusher.Util.objectApply(e,function(n,s){(t&&t(n,s,e,i)||Boolean(n))&&(i[s]=n)}),i},flatten:function(e){var t=[];return Pusher.Util.objectApply(e,function(e,i){t.push([i,e])}),t},any:function(e,t){for(var i=0;i<e.length;i++)if(t(e[i],i,e))return!0;return!1},all:function(e,t){for(var i=0;i<e.length;i++)if(!t(e[i],i,e))return!1;return!0},method:function(e){var t=Array.prototype.slice.call(arguments,1);return function(i){return i[e].apply(i,t.concat(arguments))}},getWindow:function(){return window},getDocument:function(){return document},getLocalStorage:function(){try{return window.localStorage}catch(e){}},getClientFeatures:function(){return Pusher.Util.keys(Pusher.Util.filterObject({ws:Pusher.WSTransport},function(e){return e.isSupported({})}))},addWindowListener:function(e,t){var i=Pusher.Util.getWindow();void 0!==i.addEventListener?i.addEventListener(e,t,!1):i.attachEvent("on"+e,t)},removeWindowListener:function(e,t){var i=Pusher.Util.getWindow();void 0!==i.addEventListener?i.removeEventListener(e,t,!1):i.detachEvent("on"+e,t)},isXHRSupported:function(){var e=window.XMLHttpRequest;return Boolean(e)&&void 0!==(new e).withCredentials},isXDRSupported:function(e){e=e?"https:":"http:";var t=Pusher.Util.getDocument().location.protocol;return Boolean(window.XDomainRequest)&&t===e}}}.call(this),function(){Pusher.VERSION="3.0.0",Pusher.PROTOCOL=7,Pusher.host="ws.pusherapp.com",Pusher.ws_port=80,Pusher.wss_port=443,Pusher.sockjs_host="sockjs.pusher.com",Pusher.sockjs_http_port=80,Pusher.sockjs_https_port=443,Pusher.sockjs_path="/pusher",Pusher.stats_host="stats.pusher.com",Pusher.channel_auth_endpoint="/pusher/auth",Pusher.channel_auth_transport="ajax",Pusher.activity_timeout=12e4,Pusher.pong_timeout=3e4,Pusher.unavailable_timeout=1e4,Pusher.cdn_http="http://js.pusher.com/",Pusher.cdn_https="https://js.pusher.com/",Pusher.dependency_suffix=".min",Pusher.getDefaultStrategy=function(e){return[[":def","ws_options",{hostUnencrypted:e.wsHost+":"+e.wsPort,hostEncrypted:e.wsHost+":"+e.wssPort}],[":def","wss_options",[":extend",":ws_options",{encrypted:!0}]],[":def","sockjs_options",{hostUnencrypted:e.httpHost+":"+e.httpPort,hostEncrypted:e.httpHost+":"+e.httpsPort,httpPath:e.httpPath}],[":def","timeouts",{loop:!0,timeout:15e3,timeoutLimit:6e4}],[":def","ws_manager",[":transport_manager",{lives:2,minPingDelay:1e4,maxPingDelay:e.activity_timeout}]],[":def","streaming_manager",[":transport_manager",{lives:2,minPingDelay:1e4,maxPingDelay:e.activity_timeout}]],[":def_transport","ws","ws",3,":ws_options",":ws_manager"],[":def_transport","wss","ws",3,":wss_options",":ws_manager"],[":def_transport","sockjs","sockjs",1,":sockjs_options"],[":def_transport","xhr_streaming","xhr_streaming",1,":sockjs_options",":streaming_manager"],[":def_transport","xdr_streaming","xdr_streaming",1,":sockjs_options",":streaming_manager"],[":def_transport","xhr_polling","xhr_polling",1,":sockjs_options"],[":def_transport","xdr_polling","xdr_polling",1,":sockjs_options"],[":def","ws_loop",[":sequential",":timeouts",":ws"]],[":def","wss_loop",[":sequential",":timeouts",":wss"]],[":def","sockjs_loop",[":sequential",":timeouts",":sockjs"]],[":def","streaming_loop",[":sequential",":timeouts",[":if",[":is_supported",":xhr_streaming"],":xhr_streaming",":xdr_streaming"]]],[":def","polling_loop",[":sequential",":timeouts",[":if",[":is_supported",":xhr_polling"],":xhr_polling",":xdr_polling"]]],[":def","http_loop",[":if",[":is_supported",":streaming_loop"],[":best_connected_ever",":streaming_loop",[":delayed",4e3,[":polling_loop"]]],[":polling_loop"]]],[":def","http_fallback_loop",[":if",[":is_supported",":http_loop"],[":http_loop"],[":sockjs_loop"]]],[":def","strategy",[":cached",18e5,[":first_connected",[":if",[":is_supported",":ws"],e.encrypted?[":best_connected_ever",":ws_loop",[":delayed",2e3,[":http_fallback_loop"]]]:[":best_connected_ever",":ws_loop",[":delayed",2e3,[":wss_loop"]],[":delayed",5e3,[":http_fallback_loop"]]],":http_fallback_loop"]]]]]}}.call(this),function(){Pusher.getGlobalConfig=function(){return{wsHost:Pusher.host,wsPort:Pusher.ws_port,wssPort:Pusher.wss_port,httpHost:Pusher.sockjs_host,httpPort:Pusher.sockjs_http_port,httpsPort:Pusher.sockjs_https_port,httpPath:Pusher.sockjs_path,statsHost:Pusher.stats_host,authEndpoint:Pusher.channel_auth_endpoint,authTransport:Pusher.channel_auth_transport,activity_timeout:Pusher.activity_timeout,pong_timeout:Pusher.pong_timeout,unavailable_timeout:Pusher.unavailable_timeout}},Pusher.getClusterConfig=function(e){return{wsHost:"ws-"+e+".pusher.com",httpHost:"sockjs-"+e+".pusher.com"}}}.call(this),function(){function e(e){var t=function(t){Error.call(this,t),this.name=e};return Pusher.Util.extend(t.prototype,Error.prototype),t}Pusher.Errors={BadEventName:e("BadEventName"),RequestTimedOut:e("RequestTimedOut"),TransportPriorityTooLow:e("TransportPriorityTooLow"),TransportClosed:e("TransportClosed"),UnsupportedTransport:e("UnsupportedTransport"),UnsupportedStrategy:e("UnsupportedStrategy")}}.call(this),function(){function e(e){this.callbacks=new t,this.global_callbacks=[],this.failThrough=e}function t(){this._callbacks={}}var i=e.prototype;i.bind=function(e,t,i){return this.callbacks.add(e,t,i),this},i.bind_all=function(e){return this.global_callbacks.push(e),this},i.unbind=function(e,t,i){return this.callbacks.remove(e,t,i),this},i.unbind_all=function(e,t){return this.callbacks.remove(e,t),this},i.emit=function(e,t){var i;for(i=0;i<this.global_callbacks.length;i++)this.global_callbacks[i](e,t);var n=this.callbacks.get(e);if(n&&0<n.length)for(i=0;i<n.length;i++)n[i].fn.call(n[i].context||window,t);else this.failThrough&&this.failThrough(e,t);return this},t.prototype.get=function(e){return this._callbacks["_"+e]},t.prototype.add=function(e,t,i){e="_"+e,this._callbacks[e]=this._callbacks[e]||[],this._callbacks[e].push({fn:t,context:i})},t.prototype.remove=function(e,t,i){e||t||i?(e=e?["_"+e]:Pusher.Util.keys(this._callbacks),t||i?Pusher.Util.apply(e,function(e){this._callbacks[e]=Pusher.Util.filter(this._callbacks[e]||[],function(e){return t&&t!==e.fn||i&&i!==e.context}),0===this._callbacks[e].length&&delete this._callbacks[e]},this):Pusher.Util.apply(e,function(e){delete this._callbacks[e]},this)):this._callbacks={}},Pusher.EventsDispatcher=e}.call(this),function(){function e(e,t){this.lastId=0,this.prefix=e,this.name=t}var t=e.prototype;t.create=function(e){this.lastId++;var t=this.lastId,i=this.prefix+t,n=this.name+"["+t+"]",s=!1,r=function(){s||(e.apply(null,arguments),s=!0)};return this[t]=r,{number:t,id:i,name:n,callback:r}},t.remove=function(e){delete this[e.number]},Pusher.ScriptReceiverFactory=e,Pusher.ScriptReceivers=new e("_pusher_script_","Pusher.ScriptReceivers")}.call(this),function(){function e(e){this.src=e}var t=e.prototype;t.send=function(e){var t=this,i="Error loading "+t.src;t.script=document.createElement("script"),t.script.id=e.id,t.script.src=t.src,t.script.type="text/javascript",t.script.charset="UTF-8",t.script.addEventListener?(t.script.onerror=function(){e.callback(i)},t.script.onload=function(){e.callback(null)}):t.script.onreadystatechange=function(){("loaded"===t.script.readyState||"complete"===t.script.readyState)&&e.callback(null)},void 0===t.script.async&&document.attachEvent&&/opera/i.test(navigator.userAgent)?(t.errorScript=document.createElement("script"),t.errorScript.id=e.id+"_error",t.errorScript.text=e.name+"('"+i+"');",t.script.async=t.errorScript.async=!1):t.script.async=!0;var n=document.getElementsByTagName("head")[0];n.insertBefore(t.script,n.firstChild),t.errorScript&&n.insertBefore(t.errorScript,t.script.nextSibling)},t.cleanup=function(){this.script&&(this.script.onload=this.script.onerror=null,this.script.onreadystatechange=null),this.script&&this.script.parentNode&&this.script.parentNode.removeChild(this.script),this.errorScript&&this.errorScript.parentNode&&this.errorScript.parentNode.removeChild(this.errorScript),this.errorScript=this.script=null},Pusher.ScriptRequest=e}.call(this),function(){function e(e){this.options=e,this.receivers=e.receivers||Pusher.ScriptReceivers,this.loading={}}var t=e.prototype;t.load=function(e,t,i){var n=this;if(n.loading[e]&&0<n.loading[e].length)n.loading[e].push(i);else{n.loading[e]=[i];var s=new Pusher.ScriptRequest(n.getPath(e,t)),r=n.receivers.create(function(t){if(n.receivers.remove(r),n.loading[e]){var i=n.loading[e];delete n.loading[e];for(var o=function(e){e||s.cleanup()},a=0;a<i.length;a++)i[a](t,o)}});s.send(r)}},t.getRoot=function(e){var t=Pusher.Util.getDocument().location.protocol;return(e&&e.encrypted||"https:"===t?this.options.cdn_https:this.options.cdn_http).replace(/\/*$/,"")+"/"+this.options.version},t.getPath=function(e,t){return this.getRoot(t)+"/"+e+this.options.suffix+".js"},Pusher.DependencyLoader=e}.call(this),function(){function e(){Pusher.ready()}function t(e){document.body?e():setTimeout(function(){t(e)},0)}function i(){t(e)}Pusher.DependenciesReceivers=new Pusher.ScriptReceiverFactory("_pusher_dependencies","Pusher.DependenciesReceivers"),Pusher.Dependencies=new Pusher.DependencyLoader({cdn_http:Pusher.cdn_http,cdn_https:Pusher.cdn_https,version:Pusher.VERSION,suffix:Pusher.dependency_suffix,receivers:Pusher.DependenciesReceivers}),window.JSON?i():Pusher.Dependencies.load("json2",{},i)}(),function(){for(var e=String.fromCharCode,t=0;64>t;t++)"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(t);var i=function(t){var i=t.charCodeAt(0);return 128>i?t:2048>i?e(192|i>>>6)+e(128|63&i):e(224|i>>>12&15)+e(128|i>>>6&63)+e(128|63&i)},n=function(e){var t=[0,2,1][e.length%3];return e=e.charCodeAt(0)<<16|(1<e.length?e.charCodeAt(1):0)<<8|(2<e.length?e.charCodeAt(2):0),["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(e>>>18),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(e>>>12&63),2<=t?"=":"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(e>>>6&63),1<=t?"=":"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(63&e)].join("")},s=window.btoa||function(e){return e.replace(/[\s\S]{1,3}/g,n)};Pusher.Base64={encode:function(e){return s(e.replace(/[^\x00-\x7F]/g,i))}}}.call(this),function(){function e(e,t){this.url=e,this.data=t}function t(e){return Pusher.Util.mapObject(e,function(e){return"object"==typeof e&&(e=JSON.stringify(e)),encodeURIComponent(Pusher.Base64.encode(e.toString()))})}var i=e.prototype;i.send=function(e){if(!this.request){var i=Pusher.Util.filterObject(this.data,function(e){return void 0!==e}),i=Pusher.Util.map(Pusher.Util.flatten(t(i)),Pusher.Util.method("join","=")).join("&");this.request=new Pusher.ScriptRequest(this.url+"/"+e.number+"?"+i),this.request.send(e)}},i.cleanup=function(){this.request&&this.request.cleanup()},Pusher.JSONPRequest=e}.call(this),function(){function e(e,t,i){this.key=e,this.session=t,this.events=[],this.options=i||{},this.uniqueID=this.sent=0}var t=e.prototype;e.ERROR=3,e.INFO=6,e.DEBUG=7,t.log=function(e,t){e<=this.options.level&&(this.events.push(Pusher.Util.extend({},t,{timestamp:Pusher.Util.now()})),this.options.limit&&this.events.length>this.options.limit&&this.events.shift())},t.error=function(t){this.log(e.ERROR,t)},t.info=function(t){this.log(e.INFO,t)},t.debug=function(t){this.log(e.DEBUG,t)},t.isEmpty=function(){return 0===this.events.length},t.send=function(e,t){var i=this,n=Pusher.Util.extend({session:i.session,bundle:i.sent+1,key:i.key,lib:"js",version:i.options.version,cluster:i.options.cluster,features:i.options.features,timeline:i.events},i.options.params);return i.events=[],e(n,function(e,n){e||i.sent++,t&&t(e,n)}),!0},t.generateUniqueID=function(){return this.uniqueID++,this.uniqueID},Pusher.Timeline=e}.call(this),function(){function e(e,t){this.timeline=e,this.options=t||{}}e.prototype.send=function(e,t){var i=this;i.timeline.isEmpty()||i.timeline.send(function(t,n){var s=new Pusher.JSONPRequest("http"+(e?"s":"")+"://"+(i.host||i.options.host)+i.options.path,t),r=Pusher.ScriptReceivers.create(function(e,t){Pusher.ScriptReceivers.remove(r),s.cleanup(),t&&t.host&&(i.host=t.host),n&&n(e,t)});s.send(r)},t)},Pusher.TimelineSender=e}.call(this),function(){function e(e){this.strategies=e}function t(e,t,i){var s=Pusher.Util.map(e,function(e,n,s,r){return e.connect(t,i(n,r))});return{abort:function(){Pusher.Util.apply(s,n)},forceMinPriority:function(e){Pusher.Util.apply(s,function(t){t.forceMinPriority(e)})}}}function i(e){return Pusher.Util.all(e,function(e){return Boolean(e.error)})}function n(e){!e.error&&!e.aborted&&(e.abort(),e.aborted=!0)}var s=e.prototype;s.isSupported=function(){return Pusher.Util.any(this.strategies,Pusher.Util.method("isSupported"))},s.connect=function(e,n){return t(this.strategies,e,function(e,t){return function(s,r){(t[e].error=s)?i(t)&&n(!0):(Pusher.Util.apply(t,function(e){e.forceMinPriority(r.transport.priority)}),n(null,r))}})},Pusher.BestConnectedEverStrategy=e}.call(this),function(){function e(e,t,i){this.strategy=e,this.transports=t,this.ttl=i.ttl||18e5,this.encrypted=i.encrypted,this.timeline=i.timeline}function t(e){return"pusherTransport"+(e?"Encrypted":"Unencrypted")}function i(e){var i=Pusher.Util.getLocalStorage();if(i)try{var s=i[t(e)];if(s)return JSON.parse(s)}catch(r){n(e)}return null}function n(e){var i=Pusher.Util.getLocalStorage();if(i)try{delete i[t(e)]}catch(n){}}var s=e.prototype;s.isSupported=function(){return this.strategy.isSupported()},s.connect=function(e,s){var r=this.encrypted,o=i(r),a=[this.strategy];if(o&&o.timestamp+this.ttl>=Pusher.Util.now()){var l=this.transports[o.transport];l&&(this.timeline.info({cached:!0,transport:o.transport,latency:o.latency}),a.push(new Pusher.SequentialStrategy([l],{timeout:2*o.latency+1e3,failFast:!0})))}var c=Pusher.Util.now(),u=a.pop().connect(e,function d(i,o){if(i)n(r),0<a.length?(c=Pusher.Util.now(),u=a.pop().connect(e,d)):s(i);else{var l=o.transport.name,h=Pusher.Util.now()-c,p=Pusher.Util.getLocalStorage();if(p)try{p[t(r)]=JSON.stringify({timestamp:Pusher.Util.now(),transport:l,latency:h})}catch(f){}s(null,o)}});return{abort:function(){u.abort()},forceMinPriority:function(t){e=t,u&&u.forceMinPriority(t)}}},Pusher.CachedStrategy=e}.call(this),function(){function e(e,t){this.strategy=e,this.options={delay:t.delay}}var t=e.prototype;t.isSupported=function(){return this.strategy.isSupported()},t.connect=function(e,t){var i,n=this.strategy,s=new Pusher.Timer(this.options.delay,function(){i=n.connect(e,t)});return{abort:function(){s.ensureAborted(),i&&i.abort()},forceMinPriority:function(t){e=t,i&&i.forceMinPriority(t)}}},Pusher.DelayedStrategy=e}.call(this),function(){function e(e){this.strategy=e}var t=e.prototype;t.isSupported=function(){return this.strategy.isSupported()},t.connect=function(e,t){var i=this.strategy.connect(e,function(e,n){n&&i.abort(),t(e,n)});return i},Pusher.FirstConnectedStrategy=e}.call(this),function(){function e(e,t,i){this.test=e,this.trueBranch=t,this.falseBranch=i}var t=e.prototype;t.isSupported=function(){return(this.test()?this.trueBranch:this.falseBranch).isSupported()},t.connect=function(e,t){return(this.test()?this.trueBranch:this.falseBranch).connect(e,t)},Pusher.IfStrategy=e}.call(this),function(){function e(e,t){this.strategies=e,this.loop=Boolean(t.loop),this.failFast=Boolean(t.failFast),this.timeout=t.timeout,this.timeoutLimit=t.timeoutLimit}var t=e.prototype;t.isSupported=function(){return Pusher.Util.any(this.strategies,Pusher.Util.method("isSupported"))},t.connect=function(e,t){var i=this,n=this.strategies,s=0,r=this.timeout,o=null,a=function(l,c){c?t(null,c):(s+=1,i.loop&&(s%=n.length),s<n.length?(r&&(r*=2,i.timeoutLimit&&(r=Math.min(r,i.timeoutLimit))),o=i.tryStrategy(n[s],e,{timeout:r,failFast:i.failFast},a)):t(!0))},o=this.tryStrategy(n[s],e,{timeout:r,failFast:this.failFast},a);return{abort:function(){o.abort()},forceMinPriority:function(t){e=t,o&&o.forceMinPriority(t)}}},t.tryStrategy=function(e,t,i,n){var s=null,r=null;return 0<i.timeout&&(s=new Pusher.Timer(i.timeout,function(){r.abort(),n(!0)})),r=e.connect(t,function(e,t){e&&s&&s.isRunning()&&!i.failFast||(s&&s.ensureAborted(),n(e,t))}),{abort:function(){s&&s.ensureAborted(),r.abort()},forceMinPriority:function(e){r.forceMinPriority(e)}}},Pusher.SequentialStrategy=e}.call(this),function(){function e(e,t,i,n){this.name=e,this.priority=t,this.transport=i,this.options=n||{}}function t(e,t){return Pusher.Util.defer(function(){t(e)}),{abort:function(){},forceMinPriority:function(){}}}var i=e.prototype;i.isSupported=function(){return this.transport.isSupported({encrypted:this.options.encrypted})},i.connect=function(e,i){if(!this.isSupported())return t(new Pusher.Errors.UnsupportedStrategy,i);if(this.priority<e)return t(new Pusher.Errors.TransportPriorityTooLow,i);var n=this,s=!1,r=this.transport.createConnection(this.name,this.priority,this.options.key,this.options),o=null,a=function(){r.unbind("initialized",a),r.connect()},l=function(){o=new Pusher.Handshake(r,function(e){s=!0,d(),i(null,e)})},c=function(e){d(),i(e)},u=function(){d(),i(new Pusher.Errors.TransportClosed(r))},d=function(){r.unbind("initialized",a),r.unbind("open",l),r.unbind("error",c),r.unbind("closed",u)};return r.bind("initialized",a),r.bind("open",l),r.bind("error",c),r.bind("closed",u),r.initialize(),{abort:function(){s||(d(),o?o.close():r.close())},forceMinPriority:function(e){s||n.priority<e&&(o?o.close():r.close())}}},Pusher.TransportStrategy=e}.call(this),function(){function e(e,t,i){return e+(t.encrypted?"s":"")+"://"+(t.encrypted?t.hostEncrypted:t.hostUnencrypted)+i}function t(e,t){return"/app/"+e+("?protocol="+Pusher.PROTOCOL+"&client=js&version="+Pusher.VERSION+(t?"&"+t:""))}Pusher.URLSchemes={ws:{getInitial:function(i,n){return e("ws",n,t(i,"flash=false"))}},sockjs:{getInitial:function(t,i){return e("http",i,i.httpPath||"/pusher","")},getPath:function(e,i){return t(e)}},http:{getInitial:function(i,n){var s=(n.httpPath||"/pusher")+t(i);return e("http",n,s)}}}}.call(this),function(){function e(e,t,i,n,s){Pusher.EventsDispatcher.call(this),this.hooks=e,this.name=t,this.priority=i,this.key=n,this.options=s,this.state="new",this.timeline=s.timeline,this.activityTimeout=s.activityTimeout,this.id=this.timeline.generateUniqueID()}var t=e.prototype;Pusher.Util.extend(t,Pusher.EventsDispatcher.prototype),t.handlesActivityChecks=function(){return Boolean(this.hooks.handlesActivityChecks)},t.supportsPing=function(){return Boolean(this.hooks.supportsPing)},t.initialize=function(){var e=this;e.timeline.info(e.buildTimelineMessage({transport:e.name+(e.options.encrypted?"s":"")})),e.hooks.isInitialized()?e.changeState("initialized"):e.hooks.file?(e.changeState("initializing"),Pusher.Dependencies.load(e.hooks.file,{encrypted:e.options.encrypted},function(t,i){e.hooks.isInitialized()?(e.changeState("initialized"),i(!0)):(t&&e.onError(t),e.onClose(),i(!1))})):e.onClose()},t.connect=function(){var e=this;if(e.socket||"initialized"!==e.state)return!1;var t=e.hooks.urls.getInitial(e.key,e.options);try{e.socket=e.hooks.getSocket(t,e.options)}catch(i){return Pusher.Util.defer(function(){e.onError(i),e.changeState("closed")}),!1}return e.bindListeners(),Pusher.debug("Connecting",{transport:e.name,url:t}),e.changeState("connecting"),!0},t.close=function(){return!!this.socket&&(this.socket.close(),!0)},t.send=function(e){var t=this;return"open"===t.state&&(Pusher.Util.defer(function(){t.socket&&t.socket.send(e)}),!0)},t.ping=function(){"open"===this.state&&this.supportsPing()&&this.socket.ping()},t.onOpen=function(){this.hooks.beforeOpen&&this.hooks.beforeOpen(this.socket,this.hooks.urls.getPath(this.key,this.options)),this.changeState("open"),this.socket.onopen=void 0},t.onError=function(e){this.emit("error",{type:"WebSocketError",error:e}),this.timeline.error(this.buildTimelineMessage({error:e.toString()}))},t.onClose=function(e){e?this.changeState("closed",{code:e.code,reason:e.reason,wasClean:e.wasClean}):this.changeState("closed"),this.unbindListeners(),this.socket=void 0},t.onMessage=function(e){this.emit("message",e)},t.onActivity=function(){this.emit("activity")},t.bindListeners=function(){var e=this;e.socket.onopen=function(){e.onOpen()},e.socket.onerror=function(t){e.onError(t)},e.socket.onclose=function(t){e.onClose(t)},e.socket.onmessage=function(t){e.onMessage(t)},e.supportsPing()&&(e.socket.onactivity=function(){e.onActivity()})},t.unbindListeners=function(){this.socket&&(this.socket.onopen=void 0,this.socket.onerror=void 0,this.socket.onclose=void 0,this.socket.onmessage=void 0,this.supportsPing()&&(this.socket.onactivity=void 0))},t.changeState=function(e,t){this.state=e,this.timeline.info(this.buildTimelineMessage({state:e,params:t})),this.emit(e,t)},t.buildTimelineMessage=function(e){return Pusher.Util.extend({cid:this.id},e)},Pusher.TransportConnection=e}.call(this),function(){function e(e){this.hooks=e}var t=e.prototype;t.isSupported=function(e){return this.hooks.isSupported(e)},t.createConnection=function(e,t,i,n){return new Pusher.TransportConnection(this.hooks,e,t,i,n)},Pusher.Transport=e}.call(this),function(){Pusher.WSTransport=new Pusher.Transport({urls:Pusher.URLSchemes.ws,handlesActivityChecks:!1,supportsPing:!1,isInitialized:function(){return Boolean(window.WebSocket||window.MozWebSocket)},isSupported:function(){return Boolean(window.WebSocket||window.MozWebSocket)},getSocket:function(e){return new(window.WebSocket||window.MozWebSocket)(e)}}),Pusher.SockJSTransport=new Pusher.Transport({file:"sockjs",urls:Pusher.URLSchemes.sockjs,handlesActivityChecks:!0,supportsPing:!1,isSupported:function(){return!0},isInitialized:function(){return void 0!==window.SockJS},getSocket:function(e,t){return new SockJS(e,null,{js_path:Pusher.Dependencies.getPath("sockjs",{encrypted:t.encrypted}),ignore_null_origin:t.ignoreNullOrigin})},beforeOpen:function(e,t){e.send(JSON.stringify({path:t}))}});var e={urls:Pusher.URLSchemes.http,handlesActivityChecks:!1,supportsPing:!0,isInitialized:function(){return Boolean(Pusher.HTTP.Socket)}},t=Pusher.Util.extend({getSocket:function(e){return Pusher.HTTP.getStreamingSocket(e)}},e),e=Pusher.Util.extend({getSocket:function(e){return Pusher.HTTP.getPollingSocket(e)}},e),i={file:"xhr",isSupported:Pusher.Util.isXHRSupported},n={file:"xdr",isSupported:function(e){return Pusher.Util.isXDRSupported(e.encrypted)}};Pusher.XHRStreamingTransport=new Pusher.Transport(Pusher.Util.extend({},t,i)),Pusher.XDRStreamingTransport=new Pusher.Transport(Pusher.Util.extend({},t,n)),Pusher.XHRPollingTransport=new Pusher.Transport(Pusher.Util.extend({},e,i)),Pusher.XDRPollingTransport=new Pusher.Transport(Pusher.Util.extend({},e,n))}.call(this),function(){function e(e,t,i){this.manager=e,this.transport=t,this.minPingDelay=i.minPingDelay,this.maxPingDelay=i.maxPingDelay,this.pingDelay=void 0}var t=e.prototype;t.createConnection=function(e,t,i,n){var s=this;n=Pusher.Util.extend({},n,{activityTimeout:s.pingDelay});var r=s.transport.createConnection(e,t,i,n),o=null,a=function(){r.unbind("open",a),r.bind("closed",l),o=Pusher.Util.now()},l=function(e){r.unbind("closed",l),1002===e.code||1003===e.code?s.manager.reportDeath():!e.wasClean&&o&&(e=Pusher.Util.now()-o,e<2*s.maxPingDelay&&(s.manager.reportDeath(),s.pingDelay=Math.max(e/2,s.minPingDelay)))};return r.bind("open",a),r},t.isSupported=function(e){return this.manager.isAlive()&&this.transport.isSupported(e)},Pusher.AssistantToTheTransportManager=e}.call(this),function(){function e(e){this.options=e||{},this.livesLeft=this.options.lives||1/0}var t=e.prototype;t.getAssistant=function(e){return new Pusher.AssistantToTheTransportManager(this,e,{minPingDelay:this.options.minPingDelay,maxPingDelay:this.options.maxPingDelay})},t.isAlive=function(){return 0<this.livesLeft},t.reportDeath=function(){this.livesLeft-=1},Pusher.TransportManager=e}.call(this),function(){function e(e){return function(t){return[e.apply(this,arguments),t]}}function t(e,i){if(0===e.length)return[[],i];var s=n(e[0],i),r=t(e.slice(1),s[1]);return[[s[0]].concat(r[0]),r[1]]}function i(e,i){if("string"==typeof e[0]&&":"===e[0].charAt(0)){var s=i[e[0].slice(1)];if(1<e.length){if("function"!=typeof s)throw"Calling non-function "+e[0];var r=[Pusher.Util.extend({},i)].concat(Pusher.Util.map(e.slice(1),function(e){return n(e,Pusher.Util.extend({},i))[0]}));return s.apply(this,r)}return[s,i]}return t(e,i)}function n(e,t){if("string"==typeof e){var n;if("string"==typeof e&&":"===e.charAt(0)){if(n=t[e.slice(1)],void 0===n)throw"Undefined symbol "+e;n=[n,t]}else n=[e,t];return n}return"object"==typeof e&&e instanceof Array&&0<e.length?i(e,t):[e,t]}var s={ws:Pusher.WSTransport,sockjs:Pusher.SockJSTransport,xhr_streaming:Pusher.XHRStreamingTransport,xdr_streaming:Pusher.XDRStreamingTransport,xhr_polling:Pusher.XHRPollingTransport,xdr_polling:Pusher.XDRPollingTransport},r={isSupported:function(){return!1},connect:function(e,t){var i=Pusher.Util.defer(function(){t(new Pusher.Errors.UnsupportedStrategy)});return{abort:function(){i.ensureAborted()},forceMinPriority:function(){}}}},o={extend:function(e,t,i){return[Pusher.Util.extend({},t,i),e]},def:function(e,t,i){if(void 0!==e[t])throw"Redefining symbol "+t;return e[t]=i,[void 0,e]},def_transport:function(e,t,i,n,o,a){var l=s[i];if(!l)throw new Pusher.Errors.UnsupportedTransport(i);return i=e.enabledTransports&&-1===Pusher.Util.arrayIndexOf(e.enabledTransports,t)||e.disabledTransports&&-1!==Pusher.Util.arrayIndexOf(e.disabledTransports,t)?r:new Pusher.TransportStrategy(t,n,a?a.getAssistant(l):l,Pusher.Util.extend({key:e.key,encrypted:e.encrypted,timeline:e.timeline,ignoreNullOrigin:e.ignoreNullOrigin},o)),n=e.def(e,t,i)[1],n.transports=e.transports||{},n.transports[t]=i,[void 0,n]},transport_manager:e(function(e,t){return new Pusher.TransportManager(t)}),sequential:e(function(e,t){var i=Array.prototype.slice.call(arguments,2);return new Pusher.SequentialStrategy(i,t)}),cached:e(function(e,t,i){return new Pusher.CachedStrategy(i,e.transports,{ttl:t,timeline:e.timeline,encrypted:e.encrypted})}),first_connected:e(function(e,t){return new Pusher.FirstConnectedStrategy(t)}),best_connected_ever:e(function(){var e=Array.prototype.slice.call(arguments,1);return new Pusher.BestConnectedEverStrategy(e)}),delayed:e(function(e,t,i){return new Pusher.DelayedStrategy(i,{delay:t})}),"if":e(function(e,t,i,n){return new Pusher.IfStrategy(t,i,n)}),is_supported:e(function(e,t){return function(){return t.isSupported()}})};Pusher.StrategyBuilder={build:function(e,t){var i=Pusher.Util.extend({},o,t);return n(e,i)[1].strategy}}}.call(this),function(){Pusher.Protocol={decodeMessage:function(e){try{var t=JSON.parse(e.data);if("string"==typeof t.data)try{t.data=JSON.parse(t.data)}catch(i){if(!(i instanceof SyntaxError))throw i;
}return t}catch(n){throw{type:"MessageParseError",error:n,data:e.data}}},encodeMessage:function(e){return JSON.stringify(e)},processHandshake:function(e){if(e=this.decodeMessage(e),"pusher:connection_established"===e.event){if(!e.data.activity_timeout)throw"No activity timeout specified in handshake";return{action:"connected",id:e.data.socket_id,activityTimeout:1e3*e.data.activity_timeout}}if("pusher:error"===e.event)return{action:this.getCloseAction(e.data),error:this.getCloseError(e.data)};throw"Invalid handshake"},getCloseAction:function(e){return 4e3>e.code?1002<=e.code&&1004>=e.code?"backoff":null:4e3===e.code?"ssl_only":4100>e.code?"refused":4200>e.code?"backoff":4300>e.code?"retry":"refused"},getCloseError:function(e){return 1e3!==e.code&&1001!==e.code?{type:"PusherError",data:{code:e.code,message:e.reason||e.message}}:null}}}.call(this),function(){function e(e,t){Pusher.EventsDispatcher.call(this),this.id=e,this.transport=t,this.activityTimeout=t.activityTimeout,this.bindListeners()}var t=e.prototype;Pusher.Util.extend(t,Pusher.EventsDispatcher.prototype),t.handlesActivityChecks=function(){return this.transport.handlesActivityChecks()},t.send=function(e){return this.transport.send(e)},t.send_event=function(e,t,i){return e={event:e,data:t},i&&(e.channel=i),Pusher.debug("Event sent",e),this.send(Pusher.Protocol.encodeMessage(e))},t.ping=function(){this.transport.supportsPing()?this.transport.ping():this.send_event("pusher:ping",{})},t.close=function(){this.transport.close()},t.bindListeners=function(){var e=this,t={message:function(t){var i;try{i=Pusher.Protocol.decodeMessage(t)}catch(n){e.emit("error",{type:"MessageParseError",error:n,data:t.data})}if(void 0!==i){switch(Pusher.debug("Event recd",i),i.event){case"pusher:error":e.emit("error",{type:"PusherError",data:i.data});break;case"pusher:ping":e.emit("ping");break;case"pusher:pong":e.emit("pong")}e.emit("message",i)}},activity:function(){e.emit("activity")},error:function(t){e.emit("error",{type:"WebSocketError",error:t})},closed:function(t){i(),t&&t.code&&e.handleCloseEvent(t),e.transport=null,e.emit("closed")}},i=function(){Pusher.Util.objectApply(t,function(t,i){e.transport.unbind(i,t)})};Pusher.Util.objectApply(t,function(t,i){e.transport.bind(i,t)})},t.handleCloseEvent=function(e){var t=Pusher.Protocol.getCloseAction(e);(e=Pusher.Protocol.getCloseError(e))&&this.emit("error",e),t&&this.emit(t)},Pusher.Connection=e}.call(this),function(){function e(e,t){this.transport=e,this.callback=t,this.bindListeners()}var t=e.prototype;t.close=function(){this.unbindListeners(),this.transport.close()},t.bindListeners=function(){var e=this;e.onMessage=function(t){e.unbindListeners();try{var i=Pusher.Protocol.processHandshake(t);"connected"===i.action?e.finish("connected",{connection:new Pusher.Connection(i.id,e.transport),activityTimeout:i.activityTimeout}):(e.finish(i.action,{error:i.error}),e.transport.close())}catch(n){e.finish("error",{error:n}),e.transport.close()}},e.onClosed=function(t){e.unbindListeners();var i=Pusher.Protocol.getCloseAction(t)||"backoff";t=Pusher.Protocol.getCloseError(t),e.finish(i,{error:t})},e.transport.bind("message",e.onMessage),e.transport.bind("closed",e.onClosed)},t.unbindListeners=function(){this.transport.unbind("message",this.onMessage),this.transport.unbind("closed",this.onClosed)},t.finish=function(e,t){this.callback(Pusher.Util.extend({transport:this.transport,action:e},t))},Pusher.Handshake=e}.call(this),function(){function e(e,t){Pusher.EventsDispatcher.call(this),this.key=e,this.options=t||{},this.state="initialized",this.connection=null,this.encrypted=!!t.encrypted,this.timeline=this.options.timeline,this.connectionCallbacks=this.buildConnectionCallbacks(),this.errorCallbacks=this.buildErrorCallbacks(),this.handshakeCallbacks=this.buildHandshakeCallbacks(this.errorCallbacks);var i=this;Pusher.Network.bind("online",function(){i.timeline.info({netinfo:"online"}),("connecting"===i.state||"unavailable"===i.state)&&i.retryIn(0)}),Pusher.Network.bind("offline",function(){i.timeline.info({netinfo:"offline"}),i.connection&&i.sendActivityCheck()}),this.updateStrategy()}var t=e.prototype;Pusher.Util.extend(t,Pusher.EventsDispatcher.prototype),t.connect=function(){!this.connection&&!this.runner&&(this.strategy.isSupported()?(this.updateState("connecting"),this.startConnecting(),this.setUnavailableTimer()):this.updateState("failed"))},t.send=function(e){return!!this.connection&&this.connection.send(e)},t.send_event=function(e,t,i){return!!this.connection&&this.connection.send_event(e,t,i)},t.disconnect=function(){this.disconnectInternally(),this.updateState("disconnected")},t.isEncrypted=function(){return this.encrypted},t.startConnecting=function(){var e=this,t=function(i,n){i?e.runner=e.strategy.connect(0,t):"error"===n.action?(e.emit("error",{type:"HandshakeError",error:n.error}),e.timeline.error({handshakeError:n.error})):(e.abortConnecting(),e.handshakeCallbacks[n.action](n))};e.runner=e.strategy.connect(0,t)},t.abortConnecting=function(){this.runner&&(this.runner.abort(),this.runner=null)},t.disconnectInternally=function(){this.abortConnecting(),this.clearRetryTimer(),this.clearUnavailableTimer(),this.connection&&this.abandonConnection().close()},t.updateStrategy=function(){this.strategy=this.options.getStrategy({key:this.key,timeline:this.timeline,encrypted:this.encrypted})},t.retryIn=function(e){var t=this;t.timeline.info({action:"retry",delay:e}),0<e&&t.emit("connecting_in",Math.round(e/1e3)),t.retryTimer=new Pusher.Timer(e||0,function(){t.disconnectInternally(),t.connect()})},t.clearRetryTimer=function(){this.retryTimer&&(this.retryTimer.ensureAborted(),this.retryTimer=null)},t.setUnavailableTimer=function(){var e=this;e.unavailableTimer=new Pusher.Timer(e.options.unavailableTimeout,function(){e.updateState("unavailable")})},t.clearUnavailableTimer=function(){this.unavailableTimer&&this.unavailableTimer.ensureAborted()},t.sendActivityCheck=function(){var e=this;e.stopActivityCheck(),e.connection.ping(),e.activityTimer=new Pusher.Timer(e.options.pongTimeout,function(){e.timeline.error({pong_timed_out:e.options.pongTimeout}),e.retryIn(0)})},t.resetActivityCheck=function(){var e=this;e.stopActivityCheck(),e.connection.handlesActivityChecks()||(e.activityTimer=new Pusher.Timer(e.activityTimeout,function(){e.sendActivityCheck()}))},t.stopActivityCheck=function(){this.activityTimer&&this.activityTimer.ensureAborted()},t.buildConnectionCallbacks=function(){var e=this;return{message:function(t){e.resetActivityCheck(),e.emit("message",t)},ping:function(){e.send_event("pusher:pong",{})},activity:function(){e.resetActivityCheck()},error:function(t){e.emit("error",{type:"WebSocketError",error:t})},closed:function(){e.abandonConnection(),e.shouldRetry()&&e.retryIn(1e3)}}},t.buildHandshakeCallbacks=function(e){var t=this;return Pusher.Util.extend({},e,{connected:function(e){t.activityTimeout=Math.min(t.options.activityTimeout,e.activityTimeout,e.connection.activityTimeout||1/0),t.clearUnavailableTimer(),t.setConnection(e.connection),t.socket_id=t.connection.id,t.updateState("connected",{socket_id:t.socket_id})}})},t.buildErrorCallbacks=function(){function e(e){return function(i){i.error&&t.emit("error",{type:"WebSocketError",error:i.error}),e(i)}}var t=this;return{ssl_only:e(function(){t.encrypted=!0,t.updateStrategy(),t.retryIn(0)}),refused:e(function(){t.disconnect()}),backoff:e(function(){t.retryIn(1e3)}),retry:e(function(){t.retryIn(0)})}},t.setConnection=function(e){this.connection=e;for(var t in this.connectionCallbacks)this.connection.bind(t,this.connectionCallbacks[t]);this.resetActivityCheck()},t.abandonConnection=function(){if(this.connection){this.stopActivityCheck();for(var e in this.connectionCallbacks)this.connection.unbind(e,this.connectionCallbacks[e]);return e=this.connection,this.connection=null,e}},t.updateState=function(e,t){var i=this.state;this.state=e,i!==e&&(Pusher.debug("State changed",i+" -> "+e),this.timeline.info({state:e,params:t}),this.emit("state_change",{previous:i,current:e}),this.emit(e,t))},t.shouldRetry=function(){return"connecting"===this.state||"connected"===this.state},Pusher.ConnectionManager=e}.call(this),function(){function e(){Pusher.EventsDispatcher.call(this);var e=this;void 0!==window.addEventListener&&(window.addEventListener("online",function(){e.emit("online")},!1),window.addEventListener("offline",function(){e.emit("offline")},!1))}Pusher.Util.extend(e.prototype,Pusher.EventsDispatcher.prototype),e.prototype.isOnline=function(){return void 0===window.navigator.onLine||window.navigator.onLine},Pusher.NetInfo=e,Pusher.Network=new e}.call(this),function(){function e(){this.reset()}var t=e.prototype;t.get=function(e){return Object.prototype.hasOwnProperty.call(this.members,e)?{id:e,info:this.members[e]}:null},t.each=function(e){var t=this;Pusher.Util.objectApply(t.members,function(i,n){e(t.get(n))})},t.setMyID=function(e){this.myID=e},t.onSubscription=function(e){this.members=e.presence.hash,this.count=e.presence.count,this.me=this.get(this.myID)},t.addMember=function(e){return null===this.get(e.user_id)&&this.count++,this.members[e.user_id]=e.user_info,this.get(e.user_id)},t.removeMember=function(e){var t=this.get(e.user_id);return t&&(delete this.members[e.user_id],this.count--),t},t.reset=function(){this.members={},this.count=0,this.me=this.myID=null},Pusher.Members=e}.call(this),function(){function e(e,t){Pusher.EventsDispatcher.call(this,function(t,i){Pusher.debug("No callbacks on "+e+" for "+t)}),this.name=e,this.pusher=t,this.subscribed=!1}var t=e.prototype;Pusher.Util.extend(t,Pusher.EventsDispatcher.prototype),t.authorize=function(e,t){return t(!1,{})},t.trigger=function(e,t){if(0!==e.indexOf("client-"))throw new Pusher.Errors.BadEventName("Event '"+e+"' does not start with 'client-'");return this.pusher.send_event(e,t,this.name)},t.disconnect=function(){this.subscribed=!1},t.handleEvent=function(e,t){0===e.indexOf("pusher_internal:")?"pusher_internal:subscription_succeeded"===e&&(this.subscribed=!0,this.emit("pusher:subscription_succeeded",t)):this.emit(e,t)},t.subscribe=function(){var e=this;e.authorize(e.pusher.connection.socket_id,function(t,i){t?e.handleEvent("pusher:subscription_error",i):e.pusher.send_event("pusher:subscribe",{auth:i.auth,channel_data:i.channel_data,channel:e.name})})},t.unsubscribe=function(){this.pusher.send_event("pusher:unsubscribe",{channel:this.name})},Pusher.Channel=e}.call(this),function(){function e(e,t){Pusher.Channel.call(this,e,t)}var t=e.prototype;Pusher.Util.extend(t,Pusher.Channel.prototype),t.authorize=function(e,t){return new Pusher.Channel.Authorizer(this,this.pusher.config).authorize(e,t)},Pusher.PrivateChannel=e}.call(this),function(){function e(e,t){Pusher.PrivateChannel.call(this,e,t),this.members=new Pusher.Members}var t=e.prototype;Pusher.Util.extend(t,Pusher.PrivateChannel.prototype),t.authorize=function(e,t){var i=this;Pusher.PrivateChannel.prototype.authorize.call(i,e,function(e,n){if(!e){if(void 0===n.channel_data)return Pusher.warn("Invalid auth response for channel '"+i.name+"', expected 'channel_data' field"),void t("Invalid auth response");var s=JSON.parse(n.channel_data);i.members.setMyID(s.user_id)}t(e,n)})},t.handleEvent=function(e,t){switch(e){case"pusher_internal:subscription_succeeded":this.members.onSubscription(t),this.subscribed=!0,this.emit("pusher:subscription_succeeded",this.members);break;case"pusher_internal:member_added":var i=this.members.addMember(t);this.emit("pusher:member_added",i);break;case"pusher_internal:member_removed":(i=this.members.removeMember(t))&&this.emit("pusher:member_removed",i);break;default:Pusher.PrivateChannel.prototype.handleEvent.call(this,e,t)}},t.disconnect=function(){this.members.reset(),Pusher.PrivateChannel.prototype.disconnect.call(this)},Pusher.PresenceChannel=e}.call(this),function(){function e(){this.channels={}}var t=e.prototype;t.add=function(e,t){if(!this.channels[e]){var i,n=this.channels;i=0===e.indexOf("private-")?new Pusher.PrivateChannel(e,t):0===e.indexOf("presence-")?new Pusher.PresenceChannel(e,t):new Pusher.Channel(e,t),n[e]=i}return this.channels[e]},t.all=function(e){return Pusher.Util.values(this.channels)},t.find=function(e){return this.channels[e]},t.remove=function(e){var t=this.channels[e];return delete this.channels[e],t},t.disconnect=function(){Pusher.Util.objectApply(this.channels,function(e){e.disconnect()})},Pusher.Channels=e}.call(this),function(){Pusher.Channel.Authorizer=function(e,t){this.channel=e,this.type=t.authTransport,this.options=t,this.authOptions=(t||{}).auth||{}},Pusher.Channel.Authorizer.prototype={composeQuery:function(e){e="socket_id="+encodeURIComponent(e)+"&channel_name="+encodeURIComponent(this.channel.name);for(var t in this.authOptions.params)e+="&"+encodeURIComponent(t)+"="+encodeURIComponent(this.authOptions.params[t]);return e},authorize:function(e,t){return Pusher.authorizers[this.type].call(this,e,t)}};var e=1;Pusher.auth_callbacks={},Pusher.authorizers={ajax:function(e,t){var i;i=Pusher.XHR?new Pusher.XHR:window.XMLHttpRequest?new window.XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),i.open("POST",this.options.authEndpoint,!0),i.setRequestHeader("Content-Type","application/x-www-form-urlencoded");for(var n in this.authOptions.headers)i.setRequestHeader(n,this.authOptions.headers[n]);return i.onreadystatechange=function(){if(4===i.readyState)if(200===i.status){var e,n=!1;try{e=JSON.parse(i.responseText),n=!0}catch(s){t(!0,"JSON returned from webapp was invalid, yet status code was 200. Data was: "+i.responseText)}n&&t(!1,e)}else Pusher.warn("Couldn't get auth info from your webapp",i.status),t(!0,i.status)},i.send(this.composeQuery(e)),i},jsonp:function(t,i){void 0!==this.authOptions.headers&&Pusher.warn("Warn","To send headers with the auth request, you must use AJAX, rather than JSONP.");var n=e.toString();e++;var s=Pusher.Util.getDocument(),r=s.createElement("script");Pusher.auth_callbacks[n]=function(e){i(!1,e)},r.src=this.options.authEndpoint+"?callback="+encodeURIComponent("Pusher.auth_callbacks['"+n+"']")+"&"+this.composeQuery(t),n=s.getElementsByTagName("head")[0]||s.documentElement,n.insertBefore(r,n.firstChild)}}}.call(this),Pusher})},2326:function(e,t,i){var n,s;n=[i(7),i(567),i(1853),i(1722)],s=function(e,t,i,n){function s(t,i,n,s,r){this._lectureRequests={},this.lectureBookmarks={},this.reverseIndex={},this.getCourseBookmarks=function(e){if("undefined"==typeof this._courseRequest){var t={page_size:100,courseId:e,"fields[lecture]":"id","fields[note]":"@default,lecture,created"};this._courseRequest=this._getBookmarks(i,t)}return this._courseRequest},this.getLectureBookmarks=function(e,i){return"undefined"==typeof this._lectureRequests[i]&&(this._lectureRequests[i]=t.all([this._getLectureNotes(e,i),this._getLectureSocialBookmarks(e,i)])),this._lectureRequests[i]},this._getLectureNotes=function(e,t){var i={page_size:100,courseId:e,lectureId:t,"fields[note]":"@default,created"};return this._getBookmarks(n,i)},this._getLectureSocialBookmarks=function(e,t){var i={page_size:100,courseId:e,lectureId:t,"fields[social_bookmark]":"@default,lecture"};return this._getBookmarks(s,i)},this._getBookmarks=function(i,n){var s=this;return i.get(n).$promise.then(function(r){s._pushBookmarks(r.results,n.lectureId);for(var o=2,a=r.results.length,l=Math.ceil(r.count/a),c=[];o<=l;)c.push(i.get(e.extend({},n,{page:o,page_size:a})).$promise.then(function(e){s._pushBookmarks(e.results,n.lectureId)},e.noop)),o+=1;return t.all(c)})},this._pushBookmarks=function(t,i){var n=this;e.forEach(t,function(e){n._pushBookmark(e,i||e.lecture.id)})},this._pushBookmark=function(e,t){return"undefined"==typeof this.lectureBookmarks[t]&&(this.lectureBookmarks[t]=[]),"undefined"==typeof this.reverseIndex[e.id]?(this.reverseIndex[e.id]=this.lectureBookmarks[t].length,this.lectureBookmarks[t].push(e)):this.lectureBookmarks[t][this.reverseIndex[e.id]]=e,e},this.createBookmark=function(e,t,i){var s=this;return n.save({courseId:e,lectureId:t},{body:i.content,position:Math.floor(i.time)}).$promise.then(function(e){return s._pushBookmark(e,t)})},this.updateBookmark=function(e,t,i){var s=this;return n.update({courseId:e,lectureId:t,id:i.id},{body:i.content,position:Math.floor(i.time)}).$promise.then(function(e){return s._pushBookmark(e,t)})},this.deleteBookmark=function(t,i,s){var r=this;s.id&&n.remove({courseId:t,lectureId:i,id:s.id}).$promise.then(function(){"undefined"!=typeof r.lectureBookmarks[i]&&"undefined"!=typeof r.reverseIndex[s.id]&&(r.lectureBookmarks[i].splice(r.reverseIndex[s.id],1),delete r.reverseIndex[s.id],e.forEach(r.lectureBookmarks[i],function(e,t){r.reverseIndex[e.id]=t}))})}}var r=e.module("ng/apps/course-taking-v4/bookmarks/bookmark.ng-service",[t.name,i.name]).service("Bookmark",s);return s.$inject=["$q","CourseNote","LectureNote","LectureSocialBookmark","SocialBookmark"],r}.apply(t,n),!(void 0!==s&&(e.exports=s))},2327:function(e,t,i){var n,s;n=[i(7),i(135)],s=function(e,t){function i(e){var t=function(t){switch(this.id=t.id,this.type=t._class,this.isLocked=!1,this.type){case"lecture":this.localizedType=e.getString("Lecture");break;case"quiz":this.quizType=t.type,"coding-exercise"===this.quizType?this.localizedType=e.getString("Coding Exercise"):"practice-test"===this.quizType?this.localizedType=e.getString("Practice Test"):this.localizedType=e.getString("Quiz");break;case"chapter":this.localizedType=e.getString("Section");break;case"practice":this.localizedType=e.getString("Assignment");break;default:this.localizedType=this.type}this.assetType=t.asset&&t.asset.asset_type,this.isPublished=t.is_published,this.objectIndex=t.object_index,this.progressStatus=t.progress_status,this.sortOrder=t.sort_order,"Video"===this.assetType||"Audio"===this.assetType||"VideoMashup"===this.assetType?this.length=t.asset.length||0:this.length=t.length,this.title=t.title,this.current=!1,this.supplementaryAssets=t.supplementary_assets||[],this.data=t,this.isSupported=function(){if("chapter"===this.type)return!0;var e=["Audio","Video","VideoMashup","Article","Presentation"];return!("lecture"!==this.type||!this.data.asset||e.indexOf(this.data.asset.asset_type)===-1)},this.isCompleted=function(){switch(this.type){case"lecture":case"quiz":return"completed"===this.progressStatus;default:return!1}},this.getIconCssClass=function(){if(this.isLocked)return"udi udi-lock";var e="";"lecture"===this.type?e=this.assetType:"quiz"==this.type&&(e=this.quizType);var t={Audio:"udi udi-play",Video:"udi udi-play",VideoMashup:"udi udi-play",Article:"udi udi-article",Presentation:"udi udi-presentation","simple-quiz":"udi udi-activity","practice-test":"udi udi-activity","coding-exercise":"udi udi-curly-braces-bold"};return t[e]||"udi udi-ellipsis-h"},this.getTranslatedEnum=function(t){var i={sectionNumber:t,itemNumber:this.objectIndex};return"lecture"===this.type?e.getString("Section {{ sectionNumber }}, Lecture {{ itemNumber }}",i):"quiz"===this.type?"coding-exercise"===this.quizType?e.getString("Section {{ sectionNumber }}, Coding Exercise {{ itemNumber }}",i):e.getString("Section {{ sectionNumber }}, Quiz {{ itemNumber }}",i):"practice"===this.type?e.getString("Section {{ sectionNumber }}, Assignment {{ itemNumber }}",i):""},this.getTranslatedTitle=function(){return"lecture"===this.type?this.objectIndex+". "+this.title:this.localizedType+" "+this.objectIndex+": "+this.title}};return t}var n=e.module("ng/apps/course-taking-v4/curriculum/curriculum-item.ng-factory",[t.name]).factory("CurriculumItem",i);return i.$inject=["gettextCatalog"],n}.apply(t,n),!(void 0!==s&&(e.exports=s))},2328:function(e,t,i){"use strict";function n(){return{restrict:"E",scope:{readOnly:"=",lecture:"=",quiz:"=",practice:"="},controller:s,templateUrl:x["default"]}}function s(e,t,i,n,s){function r(){e.isPanelOpen?l():a()}function a(){e.isPanelOpen||(e.isPanelOpen=!0,t.$broadcast("questionspanelopened"))}function l(){e.isPanelOpen&&(e.isPanelOpen=!1,t.$broadcast("questionspanelclosed"))}function c(){l(),i(d,500)}function u(){e.questions.isDetailsOpen=!1,e.questions.activeQuestion=null}function d(){e.editorState=o["default"].copy(h),e.questions=s.init(),e.lecture&&e.lecture.id?(e.questions.params.lecture_id=e.lecture.id,e.questions.params.related_object_type="lecture",e.questions.params.related_object_id=e.lecture.id):e.quiz&&e.quiz.id?(e.questions.params.quiz_id=e.quiz.id,e.questions.params.related_object_type="quiz",e.questions.params.related_object_id=e.quiz.id):e.practice&&e.practice.id&&(e.questions.params.practice_id=e.practice.id,e.questions.params.related_object_type="practice",e.questions.params.related_object_id=e.practice.id),e.questions.params.ordering="-is_me,-created",e.questions.loadQuestions()}var h={title:"",initialize:!0,isEditing:!1,resetValue:!1,submitDisabled:!1,redactorTheme:"simple-image-link-source",body:"",formError:new n};e.isPanelOpen=!1,e.displayType="questionsPanel",d(),e.back=u,e.toggle=r,e.open=a,e.minimize=l,e.close=this.close=c,e.$on("questionspanelopen",e.open),e.$on("hotkeytogglebrowsequestions",e.toggle),e.$on("hotkeyclose",e.close),e.$on("$destroy",function(){s.init()})}Object.defineProperty(t,"__esModule",{value:!0});var r=i(7),o=babelHelpers.interopRequireDefault(r),a=i(1817),l=babelHelpers.interopRequireDefault(a),c=i(1720),u=babelHelpers.interopRequireDefault(c),d=i(1752),h=babelHelpers.interopRequireDefault(d),p=i(40),f=babelHelpers.interopRequireDefault(p),g=i(1823),m=babelHelpers.interopRequireDefault(g),v=i(2494),b=babelHelpers.interopRequireDefault(v),w=i(1942),y=babelHelpers.interopRequireDefault(w),A=i(2495),k=babelHelpers.interopRequireDefault(A),C=i(3009),x=babelHelpers.interopRequireDefault(C),_=i(2496),S=babelHelpers.interopRequireDefault(_),E=o["default"].module("ng/apps/course-taking-v4/question-answer/questions-panel.ng-directive",[u["default"].name,f["default"].name,l["default"].name,h["default"].name,S["default"].name,b["default"].name,k["default"].name,y["default"].name,m["default"].name]).directive("questionsPanel",n);s.$inject=["$scope","$rootScope","$timeout","FormError","QuestionAnswer"],t["default"]=E},2329:function(e,t,i){"use strict";function n(e,t){return{scope:{quiz:"=",question:"="},restrict:"E",link:function(i){i.lecture=i.question.related_lectures[0],i.relatedLectureType=null,i.video_lecture=null,i.toggleRelatedLecture=function(){i.relatedLectureType?i.relatedLectureType=null:i.video_lecture||"Video"!=i.lecture.asset.asset_type&&"VideoMashup"!=i.lecture.asset.asset_type?i.showRelatedLecture():t.get({id:i.lecture.id,courseId:i.quiz.course.id,"fields[lecture]":"@default,object_index,view_html",page_config:"embed",tracking_tag:"quiz_related_lecture"}).$promise.then(function(e){i.video_lecture=e,i.showRelatedLecture()})},i.showRelatedLecture=function(){i.video_lecture?i.relatedLectureType=i.video_lecture.asset.asset_type:e.open(i.lecture.url,"_blank"),i.$emit("seenRelatedLecture")},i.$watch("question",function(){i.relatedLectureType=null,i.lecture=i.question.related_lectures[0]})},templateUrl:p["default"]}}Object.defineProperty(t,"__esModule",{value:!0});var s=i(7),r=babelHelpers.interopRequireDefault(s),o=i(1853),a=babelHelpers.interopRequireDefault(o),l=i(40),c=babelHelpers.interopRequireDefault(l),u=i(1939),d=babelHelpers.interopRequireDefault(u),h=i(3032),p=babelHelpers.interopRequireDefault(h);t["default"]=r["default"].module("ng/apps/course-taking-v4/quiz-view/related-lecture.ng-directive",[c["default"].name,d["default"].name,a["default"].name]).directive("relatedLecture",["$window","SubscribedLecture",n])},2330:function(e,t,i){var n,s;n=[i(7),i(1822),i(1750),i(1830),i(41)],s=function(e,t,i,n,s){function r(e,t,i,n,r,o){this._askFeedbackAtSecondsCompleted=null,this._initialInterval=720,this._delayInterval=3600,this._midPointPassed=!1,this.courseReview=new r,this.reviewLocations={courseTakingInitial:"course_taking__initial",courseTakingInitialEnd:"course_taking__initial--end",courseTakingMiddle:"course_taking__middle",courseTakingFinal:"course_taking__final"},this.doesReviewExist=function(){return!!this.courseReview.rating},this.initService=function(){var e=this;o.loadForCourseIdAndUserId(i.courseId,s.id).then(function(t){e.courseReview.set(t)}),i.ensureCurriculumLoaded().then(function(){var t=i.totalVideoLength,n=i.getCompletedVideoLength();if(t/2<=n&&(e._midPointPassed=!0),null===e._askFeedbackAtSecondsCompleted){var s=Math.floor((n-e._initialInterval)/e._delayInterval)+1;e._askFeedbackAtSecondsCompleted=e._initialInterval+s*e._delayInterval}})},this.canShowReviewScreen=function(t){if(n.isInstructor()||n.isFreePreviewer()||e.areReviewsDisabled||n.isEarlyAccess())return!1;var s=this.doesReviewExist(),r=i.totalVideoLength,o=i.getCompletedVideoLength(),a=!i.getNextCurriculumItem(t),l=this._getReviewLocation(s,r,o,a);return!!l&&(this.courseReview.reset(),this.courseReview.location=l,!0)},this._getReviewLocation=function(e,i,n,s){var r=t.search();if(r.review_prompt_id)return r.review_prompt_id;if(s){if(e){if(i>this._delayInterval)return this.reviewLocations.courseTakingFinal}else if(i<this._delayInterval)return this.reviewLocations.courseTakingInitialEnd;return null}return i>=7200&&i/2<=n&&!this._midPointPassed?(this._midPointPassed=!0,e?this.reviewLocations.courseTakingMiddle:null):n>=this._askFeedbackAtSecondsCompleted&&!e?(this._askFeedbackAtSecondsCompleted=n+this._delayInterval,this.reviewLocations.courseTakingInitial):null}}var o=e.module("ng/apps/course-taking-v4/review/review-prompt.ng-service",[t.name,i.name,n.name]).service("reviewPromptService",r);return r.$inject=["$rootScope","$location","Curriculum","ViewMode","CourseReviewStateFactory","courseReviewService"],o}.apply(t,n),!(void 0!==s&&(e.exports=s))},2331:function(e,t,i){var n,s;n=[i(7),i(40),i(2332),i(2520)],s=function(e,t,i,n){return e.module("ng/apps/course-taking-v4/sidenav/module",[t.name,i.name,n["default"].name])}.apply(t,n),!(void 0!==s&&(e.exports=s))},2332:function(e,t,i){var n,s;n=[i(7),i(40)],s=function(e,t){function i(){function e(e,t){return s[e]=t,i}function t(e){return s[e]}function i(e){delete s[e]}function n(){for(var e in s)s[e].close()}var s={};this.register=e,this.get=t,this.closeAll=n}var n=e.module("ng/apps/course-taking-v4/sidenav/sidenav.ng-service",[t.name]).service("SidenavService",i);return n}.apply(t,n),!(void 0!==s&&(e.exports=s))},2333:function(e,t,i){var n,s;n=[i(7),i(1722)],s=function(e,t){function i(){return{restrict:"A",scope:{},link:function(e,i,n){function s(){n.trackingCategory&&n.trackingAction&&t.track("coursetaking",n.trackingCategory,n.trackingAction)}i.on("click",s),e.$on("$destroy",function(){i.off("click",s)})}}}var n=e.module("ng/apps/course-taking-v4/tracking.ng-directive",[]).directive("courseTakingTracking",i);return n}.apply(t,n),!(void 0!==s&&(e.exports=s))},2334:function(e,t,i){var n,s;n=[i(7),i(198),i(26)],s=function(e,t,i){function n(t){function n(e,n){var s=this,r=null,o=800;this._isEnabled=!t.isMobileBrowser();var a=!1,l=!1,c={x:null,y:null};this.setActive=function(){this._isEnabled&&(this.cancelInactiveTimeout(),n.removeClass("user-inactive"),n.addClass("user-active"))},this.setInactiveAfterTimeout=function(e){if(this._isEnabled&&!l)return e=e||o,r=setTimeout(function(){n.addClass("user-inactive"),n.removeClass("user-active")},e),l=!0,r},this.mouseMoveCallback=function(e){this.setActive(),this.setInactiveAfterTimeout(e)},this.addMouseMoveEvent=function(e){a||(n.on("mousemove",i.throttle(function(t){var i={x:t.clientX,y:t.clientY};c.x===i.x&&c.y===i.y||s.mouseMoveCallback(e),c=i},300,{trailing:!1})),a=!0)},this.removeMouseMoveEvent=function(){s.cancelInactiveTimeout(),n.off("mousemove"),a=!1},this.cancelInactiveTimeout=function(){clearTimeout(r),l=!1}}return n.$inject=["$scope","$element"],{restrict:"A",require:"userActivityCheck",controller:n,link:function(t,i,n,s){!e.isUndefined(n.userActivityCheckEnabled)&&s._isEnabled&&(s._isEnabled=!!t.$eval(n.userActivityCheckEnabled)),s._isEnabled&&(i.addClass("user-activity-check"),i.addClass("user-active"),s.setInactiveAfterTimeout(4e3),s.addMouseMoveEvent(),t.$on("useractive",function(){s.mouseMoveCallback()}),t.$on("$destroy",function(){s.removeMouseMoveEvent()}))}}}var s=e.module("ng/apps/course-taking-v4/user-activity-check/user-activity-check.ng-directive",[t.name]).directive("userActivityCheck",n);return n.$inject=["Mobile"],s}.apply(t,n),!(void 0!==s&&(e.exports=s))},2363:function(e,t,i){var n,s;n=[i(7)],s=function(e){return e.module("ng/directives/common/autofocus.ng-directive",[]).directive("autofocus",["$timeout",function(e){return{restrict:"A",link:function(t,i){e(function(){i[0].focus()},500)}}}])}.apply(t,n),!(void 0!==s&&(e.exports=s))},2402:function(e,t,i){i(2403),e.exports="LocalStorageModule"},2403:function(e,t,i){(function(e){var t=e.isDefined,i=e.isUndefined,n=e.isNumber,s=e.isObject,r=e.isArray,o=e.extend,a=e.toJson;e.module("LocalStorageModule",[]).provider("localStorageService",function(){this.prefix="ls",this.storageType="localStorage",this.cookie={expiry:30,path:"/"},this.notify={setItem:!0,removeItem:!1},this.setPrefix=function(e){return this.prefix=e,this},this.setStorageType=function(e){return this.storageType=e,this},this.setStorageCookie=function(e,t){return this.cookie.expiry=e,this.cookie.path=t,this},this.setStorageCookieDomain=function(e){return this.cookie.domain=e,this},this.setNotify=function(e,t){return this.notify={setItem:e,removeItem:t},this},this.$get=["$rootScope","$window","$document","$parse",function(e,l,c,u){var d,h=this,p=h.prefix,f=h.cookie,g=h.notify,m=h.storageType;c?c[0]&&(c=c[0]):c=document,"."!==p.substr(-1)&&(p=p?p+".":"");var v=function(e){return p+e},b=function(){try{var t=m in l&&null!==l[m],i=v("__"+Math.round(1e7*Math.random()));return t&&(d=l[m],d.setItem(i,""),d.removeItem(i)),t}catch(n){return m="cookie",e.$broadcast("LocalStorageModule.notification.error",n.message),!1}}(),w=function(t,n){if(n=i(n)?null:a(n),!b||"cookie"===h.storageType)return b||e.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),g.setItem&&e.$broadcast("LocalStorageModule.notification.setitem",{key:t,newvalue:n,storageType:"cookie"}),_(t,n);try{d&&d.setItem(v(t),n),g.setItem&&e.$broadcast("LocalStorageModule.notification.setitem",{key:t,newvalue:n,storageType:h.storageType})}catch(s){return e.$broadcast("LocalStorageModule.notification.error",s.message),_(t,n)}return!0},y=function(t){if(!b||"cookie"===h.storageType)return b||e.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),S(t);var i=d?d.getItem(v(t)):null;if(!i||"null"===i)return null;try{return JSON.parse(i)}catch(n){return i}},A=function(){var t,i;for(t=0;t<arguments.length;t++)if(i=arguments[t],b&&"cookie"!==h.storageType)try{d.removeItem(v(i)),g.removeItem&&e.$broadcast("LocalStorageModule.notification.removeitem",{key:i,storageType:h.storageType})}catch(n){e.$broadcast("LocalStorageModule.notification.error",n.message),E(i)}else b||e.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),g.removeItem&&e.$broadcast("LocalStorageModule.notification.removeitem",{key:i,storageType:"cookie"}),E(i)},k=function(){if(!b)return e.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),[];var t=p.length,i=[];for(var n in d)if(n.substr(0,t)===p)try{i.push(n.substr(t))}catch(s){return e.$broadcast("LocalStorageModule.notification.error",s.Description),[]}return i},C=function(t){var i=p?new RegExp("^"+p):new RegExp,n=t?new RegExp(t):new RegExp;if(!b||"cookie"===h.storageType)return b||e.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),F();var s=p.length;for(var r in d)if(i.test(r)&&n.test(r.substr(s)))try{A(r.substr(s))}catch(o){return e.$broadcast("LocalStorageModule.notification.error",o.message),F()}return!0},x=function(){try{return l.navigator.cookieEnabled||"cookie"in c&&(c.cookie.length>0||(c.cookie="test").indexOf.call(c.cookie,"test")>-1)}catch(t){return e.$broadcast("LocalStorageModule.notification.error",t.message),
!1}}(),_=function(t,o,l){if(i(o))return!1;if((r(o)||s(o))&&(o=a(o)),!x)return e.$broadcast("LocalStorageModule.notification.error","COOKIES_NOT_SUPPORTED"),!1;try{var u="",d=new Date,h="";if(null===o?(d.setTime(d.getTime()+-864e5),u="; expires="+d.toGMTString(),o=""):n(l)&&0!==l?(d.setTime(d.getTime()+24*l*60*60*1e3),u="; expires="+d.toGMTString()):0!==f.expiry&&(d.setTime(d.getTime()+24*f.expiry*60*60*1e3),u="; expires="+d.toGMTString()),t){var p="; path="+f.path;f.domain&&(h="; domain="+f.domain),c.cookie=v(t)+"="+encodeURIComponent(o)+u+p+h}}catch(g){return e.$broadcast("LocalStorageModule.notification.error",g.message),!1}return!0},S=function(t){if(!x)return e.$broadcast("LocalStorageModule.notification.error","COOKIES_NOT_SUPPORTED"),!1;for(var i=c.cookie&&c.cookie.split(";")||[],n=0;n<i.length;n++){for(var s=i[n];" "===s.charAt(0);)s=s.substring(1,s.length);if(0===s.indexOf(v(t)+"=")){var r=decodeURIComponent(s.substring(p.length+t.length+1,s.length));try{return JSON.parse(r)}catch(o){return r}}}return null},E=function(e){_(e,null)},F=function(){for(var e=null,t=p.length,i=c.cookie.split(";"),n=0;n<i.length;n++){for(e=i[n];" "===e.charAt(0);)e=e.substring(1,e.length);var s=e.substring(t,e.indexOf("="));E(s)}},D=function(){return m},$=function(e,i,n,r){r=r||i;var a=y(r);return null===a&&t(n)?a=n:s(a)&&s(n)&&(a=o(a,n)),u(i).assign(e,a),e.$watch(i,function(e){w(r,e)},s(e[i]))},q=function(){for(var e=0,t=l[m],i=0;i<t.length;i++)0===t.key(i).indexOf(p)&&e++;return e};return{isSupported:b,getStorageType:D,set:w,add:w,get:y,keys:k,remove:A,clearAll:C,bind:$,deriveKey:v,length:q,cookie:{isSupported:x,set:_,add:_,get:S,remove:E,clearAll:F}}}]})}).call(t,i(7))},2462:function(e,t,i){"use strict";function n(e){function t(t,i){t.buttonText=e.getString("Add Bookmark")}return{restrict:"E",scope:{onAddBookmarkClick:"="},link:t,template:'\n            <button class="btn btn-sm btn-control" ng-click="onAddBookmarkClick()">\n                <i class="udi udi-bookmark-add"></i>\n                <span class="btn-control__label">{{ buttonText }}</span>\n            </button>\n        '}}Object.defineProperty(t,"__esModule",{value:!0});var s=i(7),r=babelHelpers.interopRequireDefault(s),o=i(40),a=babelHelpers.interopRequireDefault(o);t["default"]=r["default"].module("ng/apps/course-taking-v4/bookmarks/add-bookmark-button.ng-directive",[a["default"].name]).directive("addBookmarkButton",n),n.$inject=["gettextCatalog"]},2463:function(e,t,i){"use strict";function n(){return{restrict:"E",controller:s,templateUrl:h["default"]}}function s(e,t,i,n){function s(){i.getCourseBookmarks(n.courseId)["finally"](r)}function r(){e.bookmarkExist=!1,o["default"].forEach(e.sections,function(t){t.noteCount=0,o["default"].forEach(t.items,function(n){"lecture"===n.type&&(n.notes=i.lectureBookmarks[n.id]||[],n.notes.length>0&&(n.notes=n.notes.filter(function(e){return"social_bookmark"!==e.type}),e.bookmarkExist=!0),t.noteCount+=n.notes.length)})}),e.bookmarksLoading=!1}e.bookmarksLoading=!0,n.ensureCurriculumLoaded().then(function(){e.sections=n.sections}),s()}Object.defineProperty(t,"__esModule",{value:!0});var r=i(7),o=babelHelpers.interopRequireDefault(r),a=i(572),l=babelHelpers.interopRequireDefault(a),c=i(40),u=babelHelpers.interopRequireDefault(c);i(1722);var d=i(2975),h=babelHelpers.interopRequireDefault(d),p=i(2326),f=babelHelpers.interopRequireDefault(p),g=o["default"].module("ng/apps/course-taking-v4/bookmarks/bookmarks-list.ng-directive",[u["default"].name,l["default"].name,f["default"].name]).directive("bookmarksList",n);s.$inject=["$scope","$state","Bookmark","Curriculum"],t["default"]=g},2464:function(e,t,i){var n,s;n=[i(7),i(1866),i(1750),i(2330),i(198),i(1722),i(2331),i(2077)],s=function(e,t,i,n,s,r,o,a){function l(e,t,i,n,s,o,a,l,c){function u(){t.$broadcast("playcontent")}function d(){t.$broadcast("pausecontent")}t.isMobileApp=o.isMobileApp(),s.initService(),e.sections=i.sections,e.currentSection=i.currentSection,e.currentSectionItem=i.currentSectionItem;var h=t.$on("gotointerstitial",function(e,t){function o(e){var t=i.getCurriculumItem(e.type,e.id),s=i.getNextCurriculumItem(t),r="base.taking.interstitial_v2",o={id:t.id,type:t.type},l={location:!1},c=n.ANIMATION_TYPE.next,u=!s||!e.showInterstitial;if(u)if(s){var d="";"practice"===s.type&&(d=".start-page"),r="base.taking."+s.type+d,l=null,o={id:s.id,type:s.type}}else{if(a.isEarlyAccess())return;r="base.dashboard.questions",l=null,o=null,c=n.ANIMATION_TYPE.loading}n.go(r,o,c,l)}return t._forceInterstitial?o(t):void(a.isFreePreviewer()?i.ensureCurriculumLoaded().then(function(){var e=i.getCurrentCurriculumItem(),t=i.getNextCurriculumItemFiltered(e,i.isFreeFilter);n.go("base.taking.lecture",{id:t.id,type:t.type},n.ANIMATION_TYPE.next)}):s.canShowReviewScreen({id:t.id,type:t.type})?(r.track("coursetaking","Review","prompt",null,null,{location:s.courseReview.location},{objectType:"review",objectId:s.courseReview.id}),n.go("base.taking.review",{curriculumItem:{id:t.id,type:t.type}},n.ANIMATION_TYPE.next,{location:!1})):o(t))});e.$on("$destroy",h),t.$on("$stateChangeStart",function(){l.closeAll()});var p=t.$on("curriculumnavigationopened",function(){t.$broadcast("hideplayercontrols"),d()});e.$on("$destroy",p);var f=t.$on("modalopened",d);e.$on("$destroy",f);var g=t.$on("curriculumnavigationclosed",function(){t.$broadcast("showplayercontrols"),u()});e.$on("$destroy",g);var m=t.$on("modalclosed",u);e.$on("$destroy",m)}var c=e.module("ng/apps/course-taking-v4/course-taking.ng-controller",[t.name,i.name,n.name,s.name,o.name,a.name]).controller("CourseTakingController",l);return l.$inject=["$scope","$rootScope","Curriculum","AnimatedStateChangeService","reviewPromptService","Mobile","ViewMode","SidenavService","ExperimentService"],c}.apply(t,n),!(void 0!==s&&(e.exports=s))},2465:function(e,t,i){var n,s;n=[i(7),i(194),i(1822),i(1940),i(198),i(1732),i(1722),i(1743),i(1750)],s=function(e,t,i,n,s,r,o,a,l){function c(e,t,i,n,s,r,a,l,c){e.loadCurriculum(),i.isMobileBrowser=r.isMobileBrowser(),i.isInstructor=c.isInstructor();var u=i.$on("contentready",function(){s.hide()});t.$on("$destroy",u);var d=i.$on("$stateChangeStart",function(){n.dismissAll()});t.$on("$destroy",d);var h=i.$on("reportabusemodalopened",function(e,t){o.track("coursetaking",a("capitalize")(t.objectType),"report visit")});t.$on("$destroy",h),o.setCourseId(l.id),o.setCourseType(l.is_paid?"Paid":"Free"),o.setUserType(c.isInstructor()?"Instructor":"Student"),o.setCTVersion(o.R1)}var u=e.module("ng/apps/course-taking-v4/course.ng-controller",["ui.bootstrap",i.name,n.name,s.name,r.name,a.name,l.name]).controller("CourseController",c);return c.$inject=["Curriculum","$scope","$rootScope","$modalStack","loadingScreen","Mobile","$filter","CurrentCourse","ViewMode"],u}.apply(t,n),!(void 0!==s&&(e.exports=s))},2466:function(e,t,i){"use strict";function n(e,t,i,n){function s(s){function o(){if(s.goToInterstitial)s.$emit("gotointerstitial",s.curriculumItem);else{var e="";"practice"===s.nextCurriculumItem.type&&(e=".start-page"),n.go("base.taking."+s.nextCurriculumItem.type+e,s.nextCurriculumItem,n.ANIMATION_TYPE.next)}s.completeLecture&&s.completeLecture()}r["default"].isUndefined(s.goToInterstitial)&&(s.goToInterstitial=!0),t.ensureCurriculumLoaded().then(function(){s.curriculumItem=t.getCurriculumItem(s.objectType,s.objectId),i.isFreePreviewer()?s.nextCurriculumItem=t.getNextCurriculumItemFiltered(s.curriculumItem,t.isFreeFilter):s.nextCurriculumItem=t.getNextCurriculumItem(s.curriculumItem),s.endOfEarlyAccess=i.isEarlyAccess()&&!s.nextCurriculumItem}),s.buttonText||(s.buttonText=i.isFreePreviewer()?e.getString("Next Free Lecture"):e.getString("Continue")),s.continueCourse=o}return{restrict:"E",scope:{completeLecture:"&?",goToInterstitial:"=?",objectType:"=",objectId:"=",buttonClasses:"@",buttonText:"@"},link:s,templateUrl:d["default"]}}Object.defineProperty(t,"__esModule",{value:!0});var s=i(7),r=babelHelpers.interopRequireDefault(s),o=i(40),a=babelHelpers.interopRequireDefault(o),l=i(1866),c=babelHelpers.interopRequireDefault(l),u=i(2977),d=babelHelpers.interopRequireDefault(u),h=i(1779),p=babelHelpers.interopRequireDefault(h),f=i(1750),g=babelHelpers.interopRequireDefault(f),m=r["default"].module("ng/apps/course-taking-v4/curriculum/continue-button.ng-directive",[a["default"].name,p["default"].name,g["default"].name,c["default"].name]).directive("continueButton",n);n.$inject=["gettextCatalog","Curriculum","ViewMode","AnimatedStateChangeService"],t["default"]=m},2467:function(e,t,i){"use strict";function n(e,t){function i(i,n){function s(){function e(e,t,i,n){var s=t.offsetTop,r=i.offsetTop+i.offsetHeight+n,o=e.offsetHeight;return r-s<=o}if(l){i.currentSection.isOpen=!0;var t=a.find("nav")[0],n=t.getElementsByClassName("current-section")[0],s=n.getElementsByClassName("lecture__item current")[0];e(t,n,s,60)?t.scrollTop=n.offsetTop-60:t.scrollTop=s.offsetTop-a[0].offsetHeight/2,l=!1}}r["default"].isUndefined(i.showTitle)&&(i.showTitle=!0);var o=n.get("left-curriculum-nav"),a=o.getElement(),l=!0;i.sidenavInView=o.isOpen(),i.course=t,this.close=function(t){return i.sidenavInView=!1,o.close().then(function(){e.$broadcast("curriculumnavigationclosed",{isHotkeyPressed:!!t})})},this.open=function(t){return i.sidenavInView=!0,o.open().then(function(){s(),e.$broadcast("curriculumnavigationopened",{isHotkeyPressed:!!t})})},this.toggle=function(e){return this.isOpen()?this.close(e):this.open(e)},this.isOpen=function(){return o.isOpen()},i.$on("hotkeytogglecurriculum",this.toggle.bind(this,!0)),i.$on("hotkeyclose",this.close.bind(this,!0))}return i.$inject=["$scope","SidenavService"],{restrict:"E",scope:{currentSection:"=",currentSectionItem:"=",isFreePreviewer:"=",showTitle:"=?"},templateUrl:p["default"],controller:i,controllerAs:"curriculumNavigationButtonController"}}Object.defineProperty(t,"__esModule",{value:!0});var s=i(7),r=babelHelpers.interopRequireDefault(s),o=i(1732),a=babelHelpers.interopRequireDefault(o),l=i(40),c=babelHelpers.interopRequireDefault(l),u=i(1743),d=babelHelpers.interopRequireDefault(u),h=i(2979),p=babelHelpers.interopRequireDefault(h),f=i(2331),g=babelHelpers.interopRequireDefault(f),m=i(2089),v=babelHelpers.interopRequireDefault(m),b=r["default"].module("ng/apps/course-taking-v4/curriculum/curriculum-navigation-button.ng-directive",[c["default"].name,a["default"].name,v["default"].name,d["default"].name,g["default"].name]).directive("curriculumNavigationButton",n);n.$inject=["$rootScope","CurrentCourse"],t["default"]=b},2468:function(e,t,i){(function(e){"use strict";function n(t,i,n,s){function r(e){e.SupplementaryAsset=s,e.collapsibleContentId="collapsible-content-"+e.section.objectIndex,e.sectionId="lecture-"+e.section.objectIndex,e.getItemCssClass=function(e){var t=e.current?"current":"";switch(e.isLocked?t+=" disabled":e.isLoading?t+=" disabled loading":c["default"].brand.has_organization&&(t+=" hasOrganization"),e.progressStatus){case"started":return t+" started";case"completed":return t+" completed";default:return t}}}return r.$inject=["$scope"],{restrict:"E",templateUrl:d["default"],link:function(s,r,o){s.goToItem=function(e){if(!e.isLocked&&!t.includes("base.taking."+e.type,{id:e.id})){i.show();var n=e.data.last_watched_second,s="base.taking."+e.type+(n?".start":"");"practice"===e.type&&(s="base.taking.practice.start-page"),t.go(s,{id:e.id,start:n})["catch"](function(){i.hide()})}},s.progressDisabled=function(e){return"practice-test"===e.quizType||"practice"===e.type},s.toggleProgress=function(t,i){t.stopPropagation();var s=e(t.target);if(!s.parents().andSelf().filter(".disabled").length&&!i.isLocked){s.is(".lecture__item__link__progress")||(s=s.parents(".lecture__item__link__progress"));var r=void 0;r="completed"==i.progressStatus?n.setCurriculumItemAsNotStarted(i):n.setCurriculumItemAsCompleted(i),r.then(function(){s.length&&s.is(":hover")&&s.addClass("just-clicked").on("mouseleave",function(){s.removeClass("just-clicked"),s.off("mouseleave")})})}}},scope:{section:"="},controller:r}}Object.defineProperty(t,"__esModule",{value:!0});var s=i(7),r=babelHelpers.interopRequireDefault(s),o=i(40),a=babelHelpers.interopRequireDefault(o),l=i(35),c=babelHelpers.interopRequireDefault(l),u=i(2981),d=babelHelpers.interopRequireDefault(u),h=i(1940),p=babelHelpers.interopRequireDefault(h),f=i(1779),g=babelHelpers.interopRequireDefault(f),m=i(2076),v=babelHelpers.interopRequireDefault(m),b=i(2333),w=babelHelpers.interopRequireDefault(b),y=i(1750),A=babelHelpers.interopRequireDefault(y),k=i(1853),C=babelHelpers.interopRequireDefault(k),x=r["default"].module("ng/apps/course-taking-v4/curriculum/curriculum-navigation-section.ng-directive",[a["default"].name,p["default"].name,g["default"].name,w["default"].name,v["default"].name,A["default"].name,C["default"].name]).directive("curriculumNavigationSection",n);n.$inject=["$state","loadingScreen","Curriculum","SupplementaryAsset"],t["default"]=x}).call(t,i(5))},2469:function(e,t,i){"use strict";function n(e,t){return{restrict:"E",scope:{courseId:"=",sections:"="},templateUrl:d["default"],link:function(e){r["default"].forEach(e.sections,function(e){"undefined"==typeof e.isOpen&&(e.isOpen=!!e.current)})}}}Object.defineProperty(t,"__esModule",{value:!0});var s=i(7),r=babelHelpers.interopRequireDefault(s);i(379);var o=i(1732),a=babelHelpers.interopRequireDefault(o),l=i(40),c=babelHelpers.interopRequireDefault(l),u=i(2980),d=babelHelpers.interopRequireDefault(u),h=i(2468),p=babelHelpers.interopRequireDefault(h),f=i(1847),g=babelHelpers.interopRequireDefault(f),m=r["default"].module("ng/apps/course-taking-v4/curriculum/curriculum-navigation.ng-directive",["ngAnimate",c["default"].name,a["default"].name,p["default"].name,g["default"].name]).directive("curriculumNavigation",n);n.$inject=["$animate","$rootScope"],t["default"]=m},2470:function(e,t,i){var n,s;n=[i(7),i(2327)],s=function(e,t){function i(t){var i=function(i,n){t.apply(this,[i]),this.courseId=n,this.items=[],this.numCompletedItems=0,this.numCompletedItemsByType={},this.calculateStats=function(){var t=this;this.numCompletedItems=0,this.numCompletedItemsByType={},this.completedVideoLength=0,e.forEach(this.items,function(e){"completed"===e.progressStatus&&(t.numCompletedItems+=1,t.numCompletedItemsByType[e.type]=(t.numCompletedItemsByType[e.type]||0)+1,"Video"!==e.assetType&&"VideoMashup"!==e.assetType||(t.completedVideoLength+=e.length))})},this.isCompleted=function(){return!0}};return i.prototype=t.prototype,i}var n=e.module("ng/apps/course-taking-v4/curriculum/curriculum-section.ng-factory",[t.name]).factory("CurriculumSection",i);return i.$inject=["CurriculumItem"],n}.apply(t,n),!(void 0!==s&&(e.exports=s))},2471:function(e,t,i){var n,s;n=[i(7),i(35),i(40),i(41),i(1743),i(567),i(572),i(1747),i(1780),i(2032)],s=function(e,t,i,n,s,r,o,a,l,c){function u(i,s,r,o,a,l){function c(){s.announcementsLoading=!0;var e={courseId:s.course.id,is_promotional:!1,"fields[course_announcement]":"@default,created,comment_thread","fields[comment_thread]":"@min,num_comments","fields[course]":"id","fields[user]":"@min,image_50x50,url","fields[actstream_action]":"@min,target,comments","fields[activity_comment]":"@default"};s.announcement_ids&&(e.ids=s.announcement_ids),a.get(e).$promise.then(function(e){s.announcements=e.results}).then(function(){s.showComments=t.brand.is_feed_commenting_enabled&&s.course.features.announcements_comments_view})["finally"](function(){s.announcementsLoading=!1})}s.course=o,s.announcements=[],s.reportAbusePopup={enabled:t.features.report_abuse,open:!1},s.udMe=n,s.showComments=!1,s.announcement_ids=r.params.ids,s.num_announcements=s.announcement_ids?s.announcement_ids.split(",").length:0,s.commentResource=l,s.previewAnnouncement=r.params.preview_announcement,i.me=n,i.expandAll=!0,i.report_abuse=s.reportAbusePopup.enabled,s.previewAnnouncement?(i.report_abuse=!1,s.reportAbusePopup.enabled=!1,s.announcements=[{title:r.params.preview_announcement_title,content:r.params.preview_announcement_content,created:new Date,user:e.extend({},s.udMe,{name:s.udMe.title.split(" ")[0]})}]):c()}var d=e.module("ng/apps/course-taking-v4/dashboard/announcements.ng-controller",[i.name,s.name,r.name,o["default"].name,a["default"].name,l["default"].name,c.name]).controller("AnnouncementsController",u);return u.$inject=["$rootScope","$scope","$state","CurrentCourse","CourseAnnouncement","AnnouncementComment"],d}.apply(t,n),!(void 0!==s&&(e.exports=s))},2472:function(e,t,i){var n,s;n=[i(7),i(40),i(1779),i(198),i(1743)],s=function(e,t,i,n,s){function r(t,i,n,s,r){function o(){t.activeState="search",l(!0),u()}function a(e){t.activeState=e?"expand":"collapse",l(e),u()}function l(t){e.forEach(i.sections,function(i,n){f[n]||(f[n]=e.copy(i)),g&&g.id===f[n].id?f[n].isOpen=!0:f[n].isOpen=t})}function c(){t.activeState="resources",l(!0),u()}function u(){var n=p(t.searchPhrase),s=["resources","search"].indexOf(t.activeState)!==-1;t.filterResults=0,e.forEach(i.sections,function(i,r){f[r]||(f[r]=e.copy(i)),f[r].items=i.items.filter(function(e){return t.enableViewResources=t.enableViewResources||!!e.supplementaryAssets.length,"resources"===t.activeState?d(e):"search"===t.activeState?h(n,e):(t.searchPhrase="",!0)}),t.filterResults+=f[r].items.length,f[r].calculateStats(),s&&0===f[r].items.length&&delete f[r]}),t.sections=f}function d(e){return e.supplementaryAssets.length>0}function h(e,t){var i=p(t.title);if(i.indexOf(e)!==-1)return!0;for(var n=0;n<t.supplementaryAssets.length;n++){i=p(t.supplementaryAssets[n].title);var s=p(t.supplementaryAssets[n].filename);if(i.indexOf(e)!==-1||s.indexOf(e)!==-1)return!0}return!1}function p(e){return(e||"").trim().toLowerCase()}var f={};t.isMobileBrowser=n.isMobileBrowser(),t.searchPhrase="",t.setSearch=o,t.setOpenAll=a,t.setFilterResources=c,t.enableViewResources=!1,t.activeState="collapse";var g=null;i.ensureCurriculumLoaded().then(function(){return t.enableExpandSections=Object.keys(i.sections).length>1,r(u)}).then(function(){return s.getProgressOfUser()}).then(function(t){var n=t.next_curriculum_object;n&&(g=i.getSectionOfCurriculumItem(n._class,n.id),e.forEach(f,function(e){e.isOpen=g&&g.id===e.id}))}),t.$watch("sections",function(i,n){if("resources"!==t.activeState&&""===p(t.searchPhrase)){t.activeState="search";var s=0,r=void 0;e.forEach(f,function(e,t){e.isOpen&&(++s,r=e)}),s===Object.keys(f).length?t.activeState="expand":1===s&&g&&g.id===r.id&&(t.activeState="collapse")}},!0),t.$on("curriculumchanged",function(e,t){u()})}var o=e.module("ng/apps/course-taking-v4/dashboard/content.ng-controller",[t.name,i.name,n.name,s.name]).controller("ContentController",r);return r.$inject=["$scope","Curriculum","Mobile","CurrentCourse","$timeout"],o}.apply(t,n),!(void 0!==s&&(e.exports=s))},2473:function(e,t,i){(function(e){"use strict";function n(t,i,n,s,r,o,a,l,c,u,d,h,p){function f(e,t){n.progressInfo={numCompletedItems:e.num_completed_items,numPublishedItems:e.num_published_items,completionRatio:100*e.num_completed_items/e.num_published_items,progressString:b(e.num_completed_items,e.num_published_items)},!t&&e.next_curriculum_object&&(n.nextCurriculumObject=new r(e.next_curriculum_object)),l.ensureCurriculumLoaded().then(function(){e.next_curriculum_object&&l.setCurrentItem(n.nextCurriculumObject),n.currentSection=l.currentSection}),n.ctaOverlayClass=k(),n.course.has_certificate&&a.getCertificateOfUser().then(function(){d.search().animateTrophy&&x(),100===n.progressInfo.completionRatio&&S()})}function g(){var e="";"practice"===n.nextCurriculumObject.type&&(e=".start-page");var t="base.taking."+n.nextCurriculumObject.type+e,i={id:n.nextCurriculumObject.id};n.nextCurriculumObject.data.last_watched_second&&(t+=".start",i.start=n.nextCurriculumObject.data.last_watched_second),h.go(t,i,h.ANIMATION_TYPE.loading)}function m(){return o.isInstructor()?M["default"]:H["default"]}function v(e){function t(){window.location.href="/home/my-courses/learning"}function i(){C["default"].Feedback.fromText(c.getString("Oops, something went wrong! Please try again later."),C["default"].MessageType.error)}e.preventDefault();var n=c.getString("By selecting this option, you will be permanently removed from the course and will no longer have access to its contents. Are you sure?");p(n).then(function(){a.unenroll().$promise.then(t,i)})}function b(e,t){var i={completed:e,total:t};return c.getPlural(t,"<b>{{ completed }}</b> of <b>{{ total }}</b> item complete","<b>{{ completed }}</b> of <b>{{ total }}</b> items complete",i)}function w(){i.go("base.dashboard.overview").then(function(){e("#dLabel").dropdown("toggle"),s(function(){u("course-instructor")})})}function y(){var e=_["default"].third_party.zendesk.refund_form_id;return n.course.is_refundable?A["default"].toSupportContact(e):""}function k(){return"play-icon"}function x(){if(!q){q=!0;var t=e(".udi-trophy").addClass("greenify"),i=t.clone().appendTo("body").addClass("animate greenify");t.velocity({opacity:0},100),i.css("left",(e("body").width()-i.width())/2),i.velocity("transition.bounceIn").velocity({rotateZ:"60deg"},100).velocity({rotateZ:"-60deg"},{loop:4,duration:150}).velocity("reverse").velocity({rotateZ:"0deg"},100).velocity({rotateZ:"0deg"},300,function(){var e=t[0].getBoundingClientRect();i.velocity({left:e.left+window.scrollX,top:e.top+window.scrollY,"font-size":t.css("font-size")},400).velocity({opacity:0},100,function(){i.detach()}),t.velocity({opacity:1},{delay:400,duration:100})})}}function S(){a.certificate?a.certificate.is_ready||(a.getCertificateOfUser(),s(S,15e3,!1),x()):(a.createCertificate(),s(S,15e3,!1),x())}function F(){return o.isFreePreviewer()?"certificate-not-ready":n.course.has_certificate&&a.certificate?(n.certificate=a.certificate,a.certificate.is_ready?"certificate-ready":"certificate-in-progress"):"certificate-not-ready"}function $(){a.student_goals_survey_url=null,n.$broadcast("markSystemMessageSeen",{messageId:"student_goals_survey"})}a.loadExtraData({"fields[course]":["favorite_time","archive_time","notification_settings","num_subscribers","num_published_lectures","instructional_level","content_info","locale","has_closed_caption","has_coding_exercise","has_certificate","description","headline","visible_instructors","prerequisites","objectives","target_audiences","image_480x270","gift_url","is_private","avg_rating_recent"].join(","),"fields[user]":["url","title","job_title","image_200_H","description","url_twitter","url_google","url_facebook","url_linkedin","url_youtube","url_personal_website"].join(","),"fields[locale]":"simple_english_title"}),a.refreshProgressOfUser().then(f),n.course=a,n.openSurvey=n.course.student_goals_survey_url,n.showRemindersTip=!1,n.gotoNextCurriculumObject=g,n.optionsDropdownTemplateUrl=m(),n.unenrollFromCourse=v,n.scrollToInstructor=w,n.getCourseRefundUrl=y,n.onGoalsSurveyClose=$,n.supportHomeUrl=A["default"].toSupportHome(),n.isInstructor=o.isInstructor(),n.isFreePreviewer=o.isFreePreviewer(),n.getCertificateStatusClass=F,n.progressInfo={},n.reviewEnabled=function(){return _["default"].brand.is_add_reviews_enabled&&(n.isInstructor||(void 0==n.course.features||n.course.features.reviews_view)&&!n.isFreePreviewer&&n.progressInfo.completionRatio>0)},n.autoOpenReviewPopup=i.params.show_review_popup,n.isGiftCourseEnabled=_["default"].features.gift_course,n.currentStateName=i.current.data.tabName,n.navbarCollapsed=!0,n.hasOrganization=_["default"].brand.has_organization,n.$on("$stateChangeStart",function(e,t){n.currentStateName=t.data?t.data.tabName:""}),n.reportAbusePopup={enabled:_["default"].features.report_abuse,open:!1},n.$on("curriculumchanged",function(e,t){a.refreshProgressOfUser().then(function(e){return f(e,!0)})}),D["default"].trackPageview(a.analytics_tracking_code,"instructor",a.url+"course-dashboard"),t.$broadcast("contentready");var q=!1;n.confirmResetProgress=function(){p({title:c.getString("Reset All Course Progress?"),text:c.getString("All lecture and quiz progress will be reset. Do you wish to proceed?"),ok:c.getString("Yes"),cancel:c.getString("Cancel")}).then(function(){for(var e=l.getFirstCurriculumItem();e;e=l.getNextCurriculumItem(e))e.isLocked=!0;return E["default"].track("coursetaking","Lecture","reset-all",null,null,null,{objectType:"Course",objectId:a.id}),a.resetProgress()}).then(function(e){return f(e),l.refreshCurriculum()}).then(function(){t.$broadcast("curriculumchanged")})},t.$on("courseEmailSettingChanged",function(e,t){E["default"].track("coursetaking","Dashboard",t.value)})}Object.defineProperty(t,"__esModule",{value:!0});var s=i(7),r=babelHelpers.interopRequireDefault(s);i(194),i(565);var o=i(569),a=babelHelpers.interopRequireDefault(o),l=i(1876),c=babelHelpers.interopRequireDefault(l),u=i(596),d=babelHelpers.interopRequireDefault(u),h=i(567),p=babelHelpers.interopRequireDefault(h),f=i(1952),g=babelHelpers.interopRequireDefault(f),m=i(1727),v=babelHelpers.interopRequireDefault(m),b=i(40),w=babelHelpers.interopRequireDefault(b),y=i(102),A=babelHelpers.interopRequireDefault(y),k=i(249),C=babelHelpers.interopRequireDefault(k),x=i(35),_=babelHelpers.interopRequireDefault(x),S=i(1722),E=babelHelpers.interopRequireDefault(S),F=i(199),D=babelHelpers.interopRequireDefault(F),$=i(1866),q=babelHelpers.interopRequireDefault($),R=i(1743),T=babelHelpers.interopRequireDefault(R),B=i(1822),L=babelHelpers.interopRequireDefault(B),P=i(2987),M=babelHelpers.interopRequireDefault(P),I=i(2988),H=babelHelpers.interopRequireDefault(I),z=i(1750),O=babelHelpers.interopRequireDefault(z),j=i(1783),N=babelHelpers.interopRequireDefault(j),W=r["default"].module("ng/apps/course-taking-v4/dashboard/dashboard.ng-controller",[a["default"].name,"ui.router",w["default"].name,L["default"].name,O["default"].name,T["default"].name,d["default"].name,c["default"].name,p["default"].name,v["default"].name,q["default"].name,N["default"].name,g["default"].name]).controller("DashboardController",n);n.$inject=["$rootScope","$state","$scope","$timeout","CurriculumItem","ViewMode","CurrentCourse","Curriculum","gettextCatalog","$anchorScroll","$location","AnimatedStateChangeService","udConfirm"],t["default"]=W}).call(t,i(5))},2474:function(e,t,i){var n,s;n=[i(7),i(1743),i(35),i(1795),i(567),i(1877),i(1823)],s=function(e,t,i,n,s,r,o){function a(e,t,n,s,r){e.course=t,e.features=i.features,e.questions=r.init(),e.questions.loadQuestions(),e.loadingAnnouncements=!0,s.get({is_promotional:!1,courseId:e.course.id,"fields[course_announcement]":"@min,user","fields[user]":"@min,image_50x50,url"}).$promise.then(function(t){e.loadingAnnouncements=!1,e.announcements=t.results});var o=e.$watch("course.visible_instructors",function(e){e&&(e.forEach(function(e){e.socialProfiles=[{iconType:"udi udi-twitter",url:e.url_twitter},{iconType:"udi udi-google-plus",url:e.url_google},{iconType:"udi udi-facebook-f",url:e.url_facebook},{iconType:"udi udi-linkedin",url:e.url_linkedin},{iconType:"udi udi-youtube",url:e.url_youtube},{iconType:"udi udi-globe",url:e.url_personal_website}]}),o())});n.createiOSLinkWithDesktop({data:{courseId:e.course.id}}).then(function(t){e.iosLink=t}),n.createAndroidLinkWithDesktop({data:{courseId:e.course.id}}).then(function(t){e.androidLink=t})}var l=e.module("ng/apps/course-taking-v4/dashboard/overview.ng-controller",[t.name,n.name,s.name,r["default"].name,o.name]).controller("OverviewController",a);return a.$inject=["$scope","CurrentCourse","branchMetricsService","CourseAnnouncement","QuestionAnswer"],l}.apply(t,n),!(void 0!==s&&(e.exports=s))},2475:function(e,t,i){var n,s;n=[i(7),i(1823)],s=function(e){function t(e,t,i){e.questions=i.questions||i.init(),i.loadQuestion(t.params.id),e.onDelete=e.back=function(){e.questions.isDetailsOpen=!1,t.go("base.dashboard.questions")}}var i=e.module("ng/apps/course-taking-v4/dashboard/question-details.ng-controller",[]).controller("QuestionDetailsController",t);return t.$inject=["$scope","$state","QuestionAnswer"],i}.apply(t,n),!(void 0!==s&&(e.exports=s))},2476:function(e,t,i){var n,s;n=[i(7),i(40),i(35),i(41),i(1823),i(1750),i(1942),i(567),i(1722)],s=function(e,t,i,n,s,r,o,a,l){function c(t,i,s,r,o,a){function c(e,i){var n=t.questions.params;n[e]=n[e]===i?null:i;var s="dashboard.tab.filter-".concat(null!==n[e]?e:"undo-".concat(e));l.track("coursetaking","question",s),t.reloadQuestions()}if(t.me=e.copy(n),t.me.canEditCourse=a.canEditCourse(),t.questions=r.questions||r.init(),t.questions.isDetailsOpen=!1,void 0!==i.params.num_replies){var u=parseInt(i.params.num_replies,10);t.questions.params.num_replies=u>=0&&u<1/0?u:null}t.editorState={title:t.questions.params.search||"",initialize:!0,isEditing:!1,resetValue:!1,submitDisabled:!1,redactorTheme:"simple-image-link",body:"",formError:new o},t.orderOptions=[{name:s.getString("Sort by popular"),value:"-popularity,-created"},{name:s.getString("Sort by recency"),value:"-created,-last_activity"}],t.reloadQuestions=function(){t.questions.params.page=1,t.questions.loadQuestions()},t.sortQuestions=function(){t.reloadQuestions(),l.track("coursetaking","question","dashboard.tab.sort-by-"+t.questions.params.ordering)},t.filterFollowedQuestions=function(){c("followed",t.me.id)},t.filterRespondedQuestions=function(){c("num_replies",0)},t.onSelect=function(e){t.questions.onSelect(e),i.go("base.dashboard.question-details",{id:e.id})}}var u=e.module("ng/apps/course-taking-v4/dashboard/questions.ng-controller",[t.name,s.name,r.name,o["default"].name,a.name]).controller("QuestionsController",c);return c.$inject=["$scope","$state","gettextCatalog","QuestionAnswer","FormError","ViewMode"],u}.apply(t,n),!(void 0!==s&&(e.exports=s))},2477:function(e,t,i){"use strict";function n(e,t){function i(i){var n=function(){var t={};if(!e.location.search)return t;for(var i=e.location.search.replace(/(^\?)/,"").split("&"),n=0;n<i.length;n++){var s=i[n].split("=");t[s[0]]=s[1]}return t}(),s=r["default"].extend({"fields[course]":"checkout_url,discount_price,price"},n);t.loadExtraData(s),i.course=t,i.closePreview=function(){t.endPreview().then(function(){i.reloadPage()})},i.reloadPage=function(){e.location.reload()}}return{link:i,replace:!0,restrict:"E",templateUrl:c["default"]}}Object.defineProperty(t,"__esModule",{value:!0});var s=i(7),r=babelHelpers.interopRequireDefault(s),o=i(1743),a=babelHelpers.interopRequireDefault(o),l=i(2992),c=babelHelpers.interopRequireDefault(l),u=r["default"].module("ng/apps/course-taking-v4/free-preview/free-preview-header.ng-directive",[a["default"].name]).directive("freePreviewHeader",n);n.$inject=["$window","CurrentCourse"],t["default"]=u},2478:function(e,t,i){var n,s;n=[i(7),i(2477)],s=function(e,t){return e.module("ng/apps/course-taking-v4/free-preview/module",[t["default"].name])}.apply(t,n),!(void 0!==s&&(e.exports=s))},2479:function(e,t,i){var n,s;n=[i(7),i(565),i(41),i(1822),i(1866),i(2771),i(569),i(2023)],s=function(e,t,i,n,s,r,o,a){function l(e,t,n,s,r,o,a,l){function c(e,t){o.go("base.taking."+e.type,{id:e.id},t)}function u(e){var i=e.data.last_watched_second,n="base.taking."+e.type+(i?".start":"");return t.href(n,{id:e.id,start:i})}function d(){e.countdown.toggle();var t=e.countdown.isRunning?"on":"off",i={setting:"interstitialAutoNext",value:t};l.save(i)}e.sections=s.sections,e.currentCurriculumItem=s.getCurriculumItem(n.type,n.id),e.nextCurriculumItem=s.getNextCurriculumItem(e.currentCurriculumItem),s.setCurrentItem(e.currentCurriculumItem),e.currentSection=s.currentSection,e.goToItem=c,e.getItemLink=u,e.autoNextTimerOnChange=d,e.animationType={next:o.ANIMATION_TYPE.next,prev:o.ANIMATION_TYPE.prev},a(function(){e.currentItemClass="current"},1e3);var h=null;e.countdown=r.getInstance(5e3,1e3),e.countdown.onComplete(function(){c(e.nextCurriculumItem,e.animationType.next)}),"off"!==i.settings.interstitialAutoNext&&e.countdown.start(),e.$on("$destroy",function(){e.countdown.stop()}),e.$on("curriculumnavigationopened",function(){h=e.countdown.isRunning,e.countdown.stop()}),e.$on("curriculumnavigationclosed",function(){h&&e.countdown.start()})}var c=e.module("ng/apps/course-taking-v4/interstitial/interstitial-v2.ng-controller",["ngAnimate",n.name,s.name,r.name,o.name,a["default"].name]).controller("InterstitialV2Controller",l);
return l.$inject=["$scope","$state","$stateParams","Curriculum","simpleCountdownFactory","AnimatedStateChangeService","$timeout","UserSettings"],c}.apply(t,n),!(void 0!==s&&(e.exports=s))},2480:function(e,t,i){var n,s;n=[i(7),i(2479)],s=function(e,t){var i=e.module("ng/apps/course-taking-v4/interstitial/module",[t.name]);return i}.apply(t,n),!(void 0!==s&&(e.exports=s))},2481:function(e,t,i){"use strict";function n(e,t,i){return{scope:{lecture:"=",resources:"="},restrict:"E",link:function(n,s){function o(e){var t=r["default"].element("<div>"+e+"</div>");return t.find("a").attr("target","_blank"),t.find("img").attr("align","middle"),t.html()}function a(){t.ensureCurriculumLoaded().then(function(){var e={position:1,total:1,context:{type:"Article"}},i=t.getCurriculumItem("lecture",n.lecture.id);t.updateLectureProgress(n.lecture,e),t.markCurriculumItemAsCompleted(i)})}n.SupplementaryAsset=i,n.content=o(n.lecture.view_html),n.completeLecture=a,t.ensureCurriculumLoaded().then(function(){var e=t.getSectionOfCurriculumItem("lecture",n.lecture.id).objectIndex,i=t.getCurriculumItem("lecture",n.lecture.id);n.curriculumItemEnum=i.getTranslatedEnum(e)}),n.$emit("contentready");var l=e(a,1e4);n.$on("$destroy",function(){e.cancel(l)})},templateUrl:c["default"]}}Object.defineProperty(t,"__esModule",{value:!0});var s=i(7),r=babelHelpers.interopRequireDefault(s),o=i(40),a=babelHelpers.interopRequireDefault(o),l=i(2994),c=babelHelpers.interopRequireDefault(l),u=i(1822),d=babelHelpers.interopRequireDefault(u),h=i(1941),p=babelHelpers.interopRequireDefault(h),f=i(1755),g=babelHelpers.interopRequireDefault(f),m=i(1853),v=babelHelpers.interopRequireDefault(m),b=r["default"].module("ng/apps/course-taking-v4/lecture-view/article-viewer.ng-directive",[a["default"].name,d["default"].name,p["default"].name,g["default"].name,v["default"].name]).directive("articleViewer",n);n.$inject=["$timeout","Curriculum","SupplementaryAsset"],t["default"]=b},2482:function(e,t,i){var n,s;n=[i(7),i(194),i(565),i(35),i(1822),i(2481),i(578),i(1939),i(1941),i(2328),i(566),i(1750),i(1847),i(1866),i(2078),i(1722),i(199),i(2023)],s=function(e,t,i,n,s,r,o,a,l,c,u,d,h,p,f,g,m,v){function b(e,t,i,s,r,o,a,l,c){function u(){if(m.trackPageview(c.analytics_tracking_code,"instructor",c.url+"course-taking/lecture/"+e.lecture.id),e.lecture.asset){var t=e.lecture.asset.asset_type.toLowerCase();"videomashup"===t&&(t="mashup"),t="lecture "+t+"-view",g.track("coursetaking","Lecture",t)}}function d(t){r.ensureCurriculumLoaded().then(function(){r.updateLectureProgress(e.lecture,t)})}function h(){var e=a,n=null;o.canEditCourse()&&(e=l),o.isPreviewingAsSubscriber()&&(n="student_v4");var s=e.get({id:i.id,courseId:c.id,"fields[lecture]":"@default,view_html,course","fields[course]":"id,is_paid,url","fields[asset]":"@min,download_urls,external_url,slide_urls",page_config:"ct_v4",tracking_tag:o.isFreePreviewer()?"clp_free_preview":"ctp_lecture",instructorPreviewMode:n}).$promise.then(p)["catch"](function(){return t.go("base.dashboard.content")});return s}function p(e){if(e.asset&&e.asset.download_urls){var t=e.asset.download_urls[e.asset.asset_type];t&&t.length>0&&(e.download_url=t[0].file)}return e.asset&&"Video"===e.asset.asset_type&&e.asset.external_url&&(e.asset.asset_type="ImportContent"),e}e.isEarlyAccess=n.features.course.is_early_access,e.earlyAccess={shouldShow:!1,surveyOpen:!1,surveyComplete:!1,statusComplete:!1},h().then(function(t){return e.lecture=t,e.updateProgress=d,e.isFreePreviewer=o.isFreePreviewer(),e.showResourcesAvailableTooltip=!1,e.lecture.asset?(e.lectureViewClass="lecture-view--"+e.lecture.asset.asset_type.toLowerCase(),["Video","VideoMashup","Audio"].indexOf(e.lecture.asset.asset_type)!==-1?(e.isVideoPlayerAsset=!0,e.userActivityCheckEnabled=!0):(e.lectureViewClass+=" theme-white",e.isVideoPlayerAsset=!1,e.userActivityCheckEnabled=!1)):(e.lectureViewClass="lecture-view theme-white",e.userActivityCheckEnabled=!1),g.setCurriculumObject("Lecture",e.lecture.id),u(),r.ensureCurriculumLoaded()}).then(function(){e.curriculumItem=r.getCurriculumItem("lecture",e.lecture.id),e.lecture.asset&&"ImportContent"===e.lecture.asset.asset_type&&(e.curriculumItem.assetType="ImportContent"),r.setCurrentItem(e.curriculumItem),e.sections=r.sections,e.currentSection=r.currentSection,s.tooltip(function(){e.showResourcesAvailableTooltip=e.curriculumItem.supplementaryAssets.length>0},function(){e.showResourcesAvailableTooltip=!1}),r.markLectureAsViewed(e.curriculumItem)}),e.isAssetType=function(t){if(e.lecture){var i=["Video","VideoMashup","Audio","Article","Presentation"];return e.lecture.asset&&i.indexOf(e.lecture.asset.asset_type)!==-1?e.lecture.asset.asset_type===t:"Unavailable"===t}},e.onPlayerEnded=function(t){e.$emit("gotointerstitial",{type:"lecture",id:e.lecture.id,isAutoPlay:t,showInterstitial:!0})},e.$on("curriculumnavigationopened",function(e,t){var i="video.open-curriculum"+(t.isHotkeyPressed?".hotkey":"");g.track("coursetaking","content",i)}),e.$on("curriculumnavigationclosed",function(e,t){var i="video.close-curriculum"+(t.isHotkeyPressed?".hotkey":"");g.track("coursetaking","content",i)}),e.$on("questionspanelopened",function(){e.$broadcast("pausecontent"),e.questionsPanelOpen=!0}),e.$on("questionspanelclosed",function(){e.$broadcast("playcontent"),e.questionsPanelOpen=!1}),e.$on("$stateChangeSuccess",function(e,t,i,n){n.name||g.track("coursetaking","Lecture","direct-visit")})}var w=e.module("ng/apps/course-taking-v4/lecture-view/lecture-view.ng-controller",["ui.bootstrap","ui.router",u.name,s.name,r["default"].name,o["default"].name,a.name,l.name,c["default"].name,d.name,h.name,p.name,f["default"].name,v["default"].name]).controller("LectureViewController",b);return b.$inject=["$scope","$state","$stateParams","AnimatedStateChangeService","Curriculum","ViewMode","SubscribedLecture","TaughtLecture","CurrentCourse"],w}.apply(t,n),!(void 0!==s&&(e.exports=s))},2483:function(e,t,i){var n,s;n=[i(7),i(2482),i(2478),i(2484)],s=function(e,t,i,n){return e.module("ng/apps/course-taking-v4/lecture-view/module",[t.name,i.name,n["default"].name])}.apply(t,n),!(void 0!==s&&(e.exports=s))},2484:function(e,t,i){"use strict";function n(){function e(e,t,i,n,s){function o(e,t,i){return l(e,!0)["finally"](function(){p(t,i)})}function a(e,t,i){return p(t,i),l(e,!1)}function l(t,n){if(!e.handling)return e.handling=!0,t.preventDefault(),i.ensureCurriculumLoaded().then(function(){var t=i.getCurriculumItem("lecture",e.lecture.id);return i.setCurriculumItemAsCompleted(t,!!n)})["finally"](function(){e.handling=!1})}function c(i){var n={"e-book":t.getString("Download PDF"),audio:t.getString("Download Audio"),file:t.getString("Download File"),iframe:t.getString("Open in New Window"),importcontent:t.getString("Open in New Window"),upcoming:t.getString("Mark as Complete")};e.actionLabel=n[i]||""}function u(t){e.actionHref="",e.actionTarget="_self",["e-book","audio","file"].indexOf(t)!==-1?(e.actionHandler=o,e.actionHref=e.lecture.download_url):"upcoming"===t?e.actionHandler=l:e.lecture.asset&&e.lecture.asset.external_url&&(e.actionHandler=a,e.actionHref=e.lecture.asset.external_url,e.actionTarget="_blank")}function d(i){if(!e.lecture.asset&&n.isInstructor())e.actionInfo=t.getString("Attention: This part of the course has nothing to show right now.");else if("upcoming"!==i||n.isInstructor())if(e.lecture.description)e.actionInfo="";else{var s={iframe:t.getString("Visit and review the website provided by your instructor for this lecture."),importcontent:t.getString("Visit and review the website provided by your instructor for this lecture."),"e-book":t.getString("Download and review the PDF provided by your instructor for this lecture."),audio:t.getString("Download and review the audio file provided by your instructor for this lecture."),file:t.getString("Download and review the file provided by your instructor for this lecture.")};e.actionInfo=s[i]||""}else e.actionInfo=t.getString("The instructor has not added content to this lecture.")}function h(){var t="";e.lecture.asset&&(t=e.lecture.asset.asset_type.toLowerCase()),c(t),u(t),d(t)}function p(e,t){var i=r["default"].element("<a/>");i.css({display:"none"}),r["default"].element(document.body).append(i),i.attr({href:e,target:t})[0].click(),i.remove()}e.SupplementaryAsset=s,i.ensureCurriculumLoaded().then(function(){var t=i.getSectionOfCurriculumItem("lecture",e.lecture.id).objectIndex;e.curriculumItem=i.getCurriculumItem("lecture",e.lecture.id),e.curriculumItemEnum=e.curriculumItem.getTranslatedEnum(t)}),h(),e.$emit("contentready"),e.handling=!1}return e.$inject=["$scope","gettextCatalog","Curriculum","ViewMode","SupplementaryAsset"],{restrict:"E",replace:!0,templateUrl:g["default"],scope:{course:"=",lecture:"=",resources:"="},controller:e}}Object.defineProperty(t,"__esModule",{value:!0});var s=i(7),r=babelHelpers.interopRequireDefault(s),o=i(40),a=babelHelpers.interopRequireDefault(o),l=i(1866),c=babelHelpers.interopRequireDefault(l),u=i(1822),d=babelHelpers.interopRequireDefault(u),h=i(2076),p=babelHelpers.interopRequireDefault(h),f=i(2997),g=babelHelpers.interopRequireDefault(f),m=i(1941),v=babelHelpers.interopRequireDefault(m),b=i(1750),w=babelHelpers.interopRequireDefault(b),y=i(1853),A=babelHelpers.interopRequireDefault(y),k=r["default"].module("ng/apps/course-taking-v4/na-screen/na-screen.ng-directive",[a["default"].name,c["default"].name,p["default"].name,d["default"].name,w["default"].name,v["default"].name,A["default"].name]).directive("naScreen",n);t["default"]=k},2485:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(7),s=babelHelpers.interopRequireDefault(n),r=i(2493),o=babelHelpers.interopRequireDefault(r),a=i(2489),l=babelHelpers.interopRequireDefault(a),c=i(2487),u=babelHelpers.interopRequireDefault(c),d=i(2490),h=babelHelpers.interopRequireDefault(d),p=i(2488),f=babelHelpers.interopRequireDefault(p),g=i(2486),m=babelHelpers.interopRequireDefault(g),v=i(2492),b=babelHelpers.interopRequireDefault(v),w=i(2491),y=babelHelpers.interopRequireDefault(w),A=s["default"].module("ng/apps/course-taking-v4/practice-view/module",[o["default"].name,l["default"].name,u["default"].name,h["default"].name,f["default"].name,m["default"].name,b["default"].name,y["default"].name]);t["default"]=A},2486:function(e,t,i){"use strict";function n(e,t,i,n,s){function r(){return s.get({practiceId:t.id,"fields[user_assigned_submission]":"@default,user_attempted_practice","fields[user_attempted_practice]":"question_user_answers,user,submission_time","fields[practice_question_user_answer]":"body,practice_question",page_size:3}).$promise.then(function(i){e.peerSubmissions=e.peerSubmissions.concat(i.results),i.results.length<3?s.save({practiceId:t.id,"fields[user_assigned_submission]":"@default,user_attempted_practice","fields[user_attempted_practice]":"question_user_answers,user,submission_time","fields[practice_question_user_answer]":"body,practice_question"},{num_to_assign:3-i.results.length}).$promise.then(function(t){e.peerSubmissions=t.results.concat(e.peerSubmissions)})["finally"](function(){e.loading=!1,c["default"].end("CT.Assignment.give-feedback-tab-rendered"),c["default"].sync()}):(e.loading=!1,c["default"].end("CT.Assignment.give-feedback-tab-rendered"),c["default"].sync())})}v["default"].setCurriculumObject("Assignment",t.id),v["default"].track("coursetaking","assignment","visit.give-feedback-tab"),e.tab="Practice give feedback",e.reviewer=a["default"],e.loading=!0,e.peerSubmissions=[],n.get({id:t.id}).$promise.then(function(t){e.practice=t}),r(),e.markAsSeen=function(e){v["default"].track("coursetaking","assignment","give-feedback-tab.seen.peer-submission",null,null,{seenSubmission:e.id})}}Object.defineProperty(t,"__esModule",{value:!0});var s=i(7),r=babelHelpers.interopRequireDefault(s);i(565);var o=i(41),a=babelHelpers.interopRequireDefault(o),l=i(252),c=babelHelpers.interopRequireDefault(l),u=i(1739),d=babelHelpers.interopRequireDefault(u),h=i(1904),p=babelHelpers.interopRequireDefault(h),f=i(2024),g=babelHelpers.interopRequireDefault(f),m=i(1722),v=babelHelpers.interopRequireDefault(m),b=r["default"].module("ng/apps/course-taking-v4/practice-view/practice-give-feedback.ng-controller",["ui.router",d["default"].name,p["default"].name,g["default"].name]).controller("PracticeGiveFeedbackController",n);n.$inject=["$scope","$stateParams","gettextCatalog","SubscribedPractice","PracticeAssignedSubmission"],t["default"]=b},2487:function(e,t,i){"use strict";function n(e,t,i,n,s,o,l,c){g["default"].setCurriculumObject("Assignment",t.id),g["default"].track("coursetaking","assignment","visit.introduction-tab");var u=["body","asset","display_type"];e.PracticeSupplementaryAsset=s,i.get({id:t.id}).$promise.then(function(t){e.practice=t}).then(function(){return n.get({practiceId:e.practice.id,type:"instruction","fields[practice_component]":u.join(",")}).$promise}).then(function(t){var i=t.results;e.instructionComponents=i.filter(function(e){return"download"!==e.display_type}).map(function(e){if(e.asset&&e.asset.view_html){var t=r["default"].element(e.asset.view_html);t.addClass("ud-angular-loader--ignore-parents"),e.asset.view_html=c.trustAsHtml(t.wrap("<div/>").parent().html())}return e}),a["default"].end("CT.Assignment.introduction-tab-rendered"),a["default"].sync(),e.downloadableAssets=i.filter(function(e){return"download"===e.display_type}).map(function(e){return e.asset}),l(function(){(0,d["default"])()},0)});o.get({practiceId:e.practice.id,"fields[practice_question]":"body"}).$promise.then(function(t){e.questions=t.results})}Object.defineProperty(t,"__esModule",{value:!0});var s=i(7),r=babelHelpers.interopRequireDefault(s);i(565);var o=i(252),a=babelHelpers.interopRequireDefault(o),l=i(1739),c=babelHelpers.interopRequireDefault(l),u=i(163),d=babelHelpers.interopRequireDefault(u),h=i(1755),p=babelHelpers.interopRequireDefault(h),f=i(1722),g=babelHelpers.interopRequireDefault(f),m=i(2076),v=babelHelpers.interopRequireDefault(m),b=r["default"].module("ng/apps/course-taking-v4/practice-view/practice-introduction.ng-controller",["ui.router",c["default"].name,v["default"].name,p["default"].name]).controller("PracticeIntroductionController",n);n.$inject=["$scope","$stateParams","SubscribedPractice","PracticeComponent","PracticeSupplementaryAsset","PracticeQuestion","$timeout","$sce"],t["default"]=b},2488:function(e,t,i){"use strict";function n(e,t,i,n,s,o,a,l,u,d,h,f){function m(){return o.get({practiceId:t.id,type:"solution","fields[practice_component]":["body","asset","display_type"].join(",")}).$promise.then(function(t){var i=t.results;e.downloadableAssets=i.filter(function(e){return"download"===e.display_type}).map(function(e){return e.asset}),e.videoComponent=i.filter(function(e){return"video"===e.display_type}).map(function(e){if(e.asset&&e.asset.view_html){var t=r["default"].element(e.asset.view_html);t.addClass("ud-angular-loader--ignore-parents"),e.asset.view_html=h.trustAsHtml(t.wrap("<div/>").parent().html())}return e})[0],f(function(){(0,p["default"])()},0)})}function b(){return l.get({practiceId:t.id,user:c["default"].id,"fields[user_assigned_submission]":"@default,user_attempted_practice","fields[user_attempted_practice]":"question_user_answers,user,submission_time","fields[practice_question_user_answer]":"body,practice_question"}).$promise.then(function(t){e.userSubmission=t.results[0];var i=e.userSubmission.question_user_answers.length&&!e.userSubmission.submission_time,n=!e.userSubmission.question_user_answers.length;(i||n)&&(e.infoAlert={noSubmit:i,noAnswer:n})})}function w(){return d.all([u.loadExtraData({"fields[course]":["visible_instructors"].join(","),"fields[user]":["url","title","image_50x50"].join(",")}),a.get({practiceId:t.id,"fields[practice_question]":"body,answer"}).$promise]).then(function(t){e.instructorSubmission={user:r["default"].extend({},u.visible_instructors[0],{isInstructor:!0}),question_user_answers:t[1].results.map(function(e){var t={body:e.answer};return t.practice_question=e,t})},g["default"].end("CT.Assignment.solution-tab-rendered"),g["default"].sync()})}v["default"].setCurriculumObject("Assignment",t.id),v["default"].track("coursetaking","assignment","visit.solution-tab"),e.reviewer=c["default"],s.get({id:t.id}).$promise.then(function(t){e.practice=t}),b(),w(),m(),e.goToSubmitPage=function(){i.go("base.taking.practice.submission")}}Object.defineProperty(t,"__esModule",{value:!0});var s=i(7),r=babelHelpers.interopRequireDefault(s);i(565);var o=i(1739),a=babelHelpers.interopRequireDefault(o),l=i(41),c=babelHelpers.interopRequireDefault(l),u=i(40),d=babelHelpers.interopRequireDefault(u),h=i(163),p=babelHelpers.interopRequireDefault(h),f=i(252),g=babelHelpers.interopRequireDefault(f),m=i(1722),v=babelHelpers.interopRequireDefault(m),b=i(1904),w=babelHelpers.interopRequireDefault(b),y=i(2024),A=babelHelpers.interopRequireDefault(y),k=i(1743),C=babelHelpers.interopRequireDefault(k),x=r["default"].module("ng/apps/course-taking-v4/practice-view/practice-solution.ng-controller",["ui.router",a["default"].name,w["default"].name,A["default"].name,d["default"].name,C["default"].name]).controller("PracticeSolutionController",n);n.$inject=["$scope","$stateParams","$state","gettextCatalog","SubscribedPractice","PracticeComponent","PracticeQuestion","PracticeSubmission","CurrentCourse","$q","$sce","$timeout"],t["default"]=x},2489:function(e,t,i){(function(e){"use strict";function n(e){r["default"].setCurriculumObject("Assignment",e.id),r["default"].track("coursetaking","assignment","visit.start-page")}Object.defineProperty(t,"__esModule",{value:!0}),i(565);var s=i(1722),r=babelHelpers.interopRequireDefault(s),o=i(252),a=(babelHelpers.interopRequireDefault(o),e.module("ng/apps/course-taking-v4/practice-view/practice-start-page.ng-controller",[]).controller("PracticeStartPageController",n));n.$inject=["$stateParams"],t["default"]=a}).call(t,i(7))},2490:function(e,t,i){"use strict";function n(e,t,i,n,s,r,o,l){function c(){return t.questions.every(function(e){return!e.userAnswer||!e.userAnswer.body})}g["default"].setCurriculumObject("Assignment",i.id),g["default"].track("coursetaking","assignment","visit.submission-tab"),t.questionsLoaded=!1;var u=n.get({practiceId:i.id,"fields[practice_question]":"body,answer"}).$promise,d=s.save({practiceId:i.id},{}).$promise,h=function(e){t.userSubmission=e,t.userSubmission.is_public=!t.userSubmission.is_private},p=function(e){var i={};e.forEach(function(e){i[e.practice_question.id]=e}),t.questions.forEach(function(e){i[e.id]&&(e.userAnswer=i[e.id])})};e.all([u,d]).then(function(e){return t.questions=e[0].results,h(e[1]),r.get({practiceId:i.id,attemptId:t.userSubmission.id,"fields[practice_question_user_answer]":"practice_question,body"}).$promise}).then(function(e){p(e.results)})["finally"](function(){t.questionsLoaded=!0,a["default"].end("CT.Assignment.submission-tab-rendered"),a["default"].sync()}),t.save=function(){if(t.status_alert=null,c())t.status_alert={message:l.getString("You cannot save a draft of an empty assignment"),error:!0};else{t.sendingSave=!0;var n=s.partial_update({practiceId:i.id,id:t.userSubmission.id},{is_private:!t.userSubmission.is_public,marked_submitted:t.publishAttempt}).$promise,o=t.questions.filter(function(e){return e.userAnswer}),a=o.filter(function(e){return!e.userAnswer.id}).map(function(e){return{practice_question:e.id,body:e.userAnswer.body}}),u=r.save({practiceId:i.id,attemptId:t.userSubmission.id},a).$promise,d=o.filter(function(e){return e.userAnswer.id}).map(function(e){return{id:e.userAnswer.id,practice_question:e.id,body:e.userAnswer.body}}),f=r.partial_update({practiceId:i.id,attemptId:t.userSubmission.id},d).$promise;e.all([n,u,f]).then(function(e){h(e[0]),p(e[1].results),t.publishAttempt||(t.status_alert={message:l.getString("Your draft has been successfully saved."),error:!1})},function(e){t.publishAttempt||(t.status_alert={message:l.getString("There was a problem saving your draft."),error:!0})})["finally"](function(){t.questionsLoaded=!0,t.sendingSave=!1})}},t.publish=function(){t.status_alert=null,c()?t.status_alert={message:l.getString("You cannot publish an empty assignment"),error:!0}:o({title:l.getString("Are you sure?"),text:l.getString("You will no longer be able to edit after you submit."),ok:l.getString("Submit"),cancel:l.getString("Cancel")}).then(function(){t.status_alert={message:l.getString("Your answer has been successfully submitted."),error:!1},t.publishAttempt=!0,t.questionsLoaded=!1,t.save()})},t.$on("$stateChangeStart",function(){t.status_alert=null,c()||t.userSubmission.submission_time||(t.save(),o({title:l.getString("Are you sure?"),text:l.getString("You answer has been saved but not submitted. Do you want to submit? Please note you cannot edit your answer once you submit it."),ok:l.getString("Submit and Proceed"),cancel:l.getString("Don't Submit and Proceed")}).then(function(){t.publish()}))})}Object.defineProperty(t,"__esModule",{value:!0});var s=i(7),r=babelHelpers.interopRequireDefault(s),o=i(252),a=babelHelpers.interopRequireDefault(o),l=i(1739),c=babelHelpers.interopRequireDefault(l),u=i(1727),d=babelHelpers.interopRequireDefault(u),h=i(1748),p=babelHelpers.interopRequireDefault(h),f=i(1722),g=babelHelpers.interopRequireDefault(f),m=r["default"].module("ng/apps/course-taking-v4/practice-view/practice-submission.ng-controller",[c["default"].name,d["default"].name,p["default"].name]).controller("PracticeSubmissionController",n);n.$inject=["$q","$scope","$stateParams","PracticeQuestion","PracticeSubmission","PracticeSubmissionAnswer","udConfirm","gettextCatalog"],t["default"]=m},2491:function(e,t,i){"use strict";function n(e,t,i,n){p["default"].setCurriculumObject("Assignment",e.practice.id),p["default"].track("coursetaking","assignment","visit.summary-detail-page",null,null,{seenSubmission:t.params.submissionId,commenterId:t.params.commenterId}),e.submissionVisible=!1,e.loading=!0,i.get({practiceId:e.practice.id,id:t.params.submissionId,"fields[user_attempted_practice]":"question_user_answers,user,submission_time","fields[practice_question_user_answer]":"body,practice_question"}).$promise.then(function(i){return i.user.id!=a["default"].id&&t.params.commenterId!=a["default"].id?t.go("base.taking.practice.summary-detail",{submissionId:t.params.submissionId,cachedUser:a["default"],commenterId:a["default"].id}):(t.params.cachedUser&&t.params.cachedUser.id==t.params.commenterId?e.reviewer=t.params.cachedUser:n.get({id:t.params.commenterId}).$promise.then(function(t){e.reviewer=t}),void(e.submission=i))})["finally"](function(){e.loading=!1,d["default"].end("CT.Assignment.summary-detail-page-rendered"),d["default"].sync()}),e.toggleSubmission=function(){e.submissionVisible=!e.submissionVisible}}Object.defineProperty(t,"__esModule",{value:!0});var s=i(7),r=babelHelpers.interopRequireDefault(s);i(565),i(194);var o=i(41),a=babelHelpers.interopRequireDefault(o),l=i(40),c=babelHelpers.interopRequireDefault(l),u=i(252),d=babelHelpers.interopRequireDefault(u),h=i(1722),p=babelHelpers.interopRequireDefault(h),f=i(569),g=babelHelpers.interopRequireDefault(f),m=i(1739),v=babelHelpers.interopRequireDefault(m),b=i(1904),w=babelHelpers.interopRequireDefault(b),y=r["default"].module("ng/apps/course-taking-v4/practice-view/practice-summary-detail.ng-controller",["ui.router","ui.bootstrap",c["default"].name,v["default"].name,w["default"].name,g["default"].name]).controller("PracticeSummaryDetailController",n);n.$inject=["$scope","$state","PracticeSubmission","UserResource"],t["default"]=y},2492:function(e,t,i){"use strict";function n(e,t,i,n,s){function r(){e.loading=!0,n.get({practiceId:e.practice.id,attempt_id_in:e.submission.id,user_not_in:e.submission.user.id,"fields[practice_feedback_question_user_answer]":"user,body,feedback_question,comment_thread,created,user_attempted_practice","fields[comment_thread]":"latest_comment","fields[user]":"title,image_50x50,name","fields[practice_feedback_question]":"id","fields[user_attempted_practice]":"id"}).$promise.then(function(t){var i=t.results.map(function(e){return o(e,s.getString("Your Assignment"))});e.feedbackList=e.feedbackList.concat(i)}).then(function(){return i.get({practiceId:e.practice.id,"fields[user_assigned_submission]":"user_attempted_practice","fields[user_attempted_practice]":"user","fields[user]":"title"}).$promise}).then(function(e){return e.results.map(function(e){return e.user_attempted_practice.id})}).then(function(t){return n.get({practiceId:e.practice.id,attempt_id_in:t.join(","),has_comment_thread:!0,"fields[practice_feedback_question_user_answer]":"user,body,feedback_question,created,comment_thread,user_attempted_practice","fields[comment_thread]":"latest_comment","fields[user]":"title,image_50x50,name","fields[practice_feedback_question]":"id","fields[user_attempted_practice]":"user",user:a["default"].id}).$promise}).then(function(t){var i=t.results.map(function(e){return o(e,s.getString("Peer Assignment"))});e.feedbackList=e.feedbackList.concat(i)})["finally"](function(){e.feedbackList=e.feedbackList.sort(function(e,t){return e.lastActivityTime<t.lastActivityTime}),e.loading=!1,d["default"].end("CT.Assignment.summary-page-rendered"),d["default"].sync()})}function o(e,t){var i=e.comment_thread&&e.comment_thread.latest_comment?e.comment_thread.latest_comment.created:"";return{submissionId:e.user_attempted_practice.id,feedbackOwner:e.user,type:t,user:e.user.id!=a["default"].id?e.user:e.user_attempted_practice.user,commentOwner:e.created>i?e.user:e.comment_thread.latest_comment.user,body:e.created>i?e.body:e.comment_thread.latest_comment.content,lastActivityTime:e.created>i?e.created:i}}e.tab="Practice receive feedback",p["default"].setCurriculumObject("Assignment",e.practice.id),p["default"].track("coursetaking","assignment","visit.summary-page"),r(),e.feedbackList=[],e.openSubmission=function(e,i){t.go("base.taking.practice.summary-detail",{submissionId:e,cachedUser:i,commenterId:i.id})}}Object.defineProperty(t,"__esModule",{value:!0});var s=i(7),r=babelHelpers.interopRequireDefault(s),o=i(41),a=babelHelpers.interopRequireDefault(o),l=i(40),c=babelHelpers.interopRequireDefault(l),u=i(252),d=babelHelpers.interopRequireDefault(u),h=i(1722),p=babelHelpers.interopRequireDefault(h),f=i(1739),g=babelHelpers.interopRequireDefault(f),m=r["default"].module("ng/apps/course-taking-v4/practice-view/practice-summary.ng-controller",[c["default"].name,g["default"].name]).controller("PracticeSummaryController",n);n.$inject=["$scope","$state","PracticeAssignedSubmission","PracticeFeedbackQuestionAnswer","gettextCatalog"],t["default"]=m},2493:function(e,t,i){"use strict";function n(e,t,i,n,s,r){e.loading=!0,e.$emit("contentready"),e.$on("$stateChangeSuccess",function(){switch(e.currentState=i.current,e.currentState.name){case"base.taking.practice.introduction":l["default"].start("CT.Assignment.introduction-tab-rendered");break;case"base.taking.practice.submission":l["default"].start("CT.Assignment.submission-tab-rendered");break;case"base.taking.practice.instructor_solution":l["default"].start("CT.Assignment.solution-tab-rendered");break;case"base.taking.practice.give_feedback":l["default"].start("CT.Assignment.give-feedback-tab-rendered");break;case"base.taking.practice.summary":l["default"].start("CT.Assignment.summary-page-rendered");break;case"base.taking.practice.summary-detail":l["default"].start("CT.Assignment.summary-detail-page-rendered")}}),e.changeState=function(t){"next"==t?i.go(e.currentState.data.nextTab):"prev"==t?i.go(e.currentState.data.prevTab):"summary"==t?i.go("base.taking.practice.summary"):"complete"==t?r.partial_update({practiceId:e.practice.id,id:e.submission.id},{is_complete:!0}).$promise.then(function(t){var s=n.getCurriculumItem("practice",e.practice.id);n.markCurriculumItemAsCompleted(s),e.submission=t,i.go("base.taking.practice.summary")}):i.go("base.taking.practice.give_feedback")},s.get({id:t.id}).$promise.then(function(t){e.practice=t}).then(function(){r.save({practiceId:e.practice.id},{}).$promise.then(function(t){e.submission=t}).then(function(){return n.ensureCurriculumLoaded()}).then(function(){return e.curriculumItem=n.getCurriculumItem("practice",e.practice.id),e.curriculumItem?(n.setCurrentItem(e.curriculumItem),e.sections=n.sections,void(e.currentSection=n.currentSection)):i.go("base.dashboard.content")})["finally"](function(){e.loading=!1})})["catch"](function(){i.go("base.dashboard.content")}),e.$on("questionspanelopened",function(){e.questionsPanelOpen=!0}),e.$on("questionspanelclosed",function(){e.questionsPanelOpen=!1})}Object.defineProperty(t,"__esModule",{value:!0});var s=i(7),r=babelHelpers.interopRequireDefault(s);i(565);var o=i(41),a=(babelHelpers.interopRequireDefault(o),i(252)),l=babelHelpers.interopRequireDefault(a),c=i(1739),u=babelHelpers.interopRequireDefault(c),d=i(1904),h=babelHelpers.interopRequireDefault(d),p=i(1822),f=babelHelpers.interopRequireDefault(p),g=r["default"].module("ng/apps/course-taking-v4/practice-view/practice-view.ng-controller",["ui.router",u["default"].name,h["default"].name,f["default"].name]).controller("PracticeViewController",n);n.$inject=["$scope","$stateParams","$state","Curriculum","SubscribedPractice","PracticeSubmission"],t["default"]=g},2494:function(e,t,i){(function(e){"use strict";function n(){return{restrict:"E",controller:s,templateUrl:m["default"]}}function s(t,i,n,s){function r(i){i.preventDefault(),t.editorState.resetValue=!0,t.editorState.isEditing=!0,t.showConfirmationBox=!1,setTimeout(function(){e("question-body-form input").focus(),""!=t.editorState.title&&e("question-body-form .redactor-editor").focus()},100)}t.isInstructor=s.isInstructor(),t.replyCreateEnabled=n.features&&n.features.discussions_replies_create,t.supportUrl=u["default"].toSupportContact(),t.addQuestion=function(t){r(t);var i=void 0;i=e(t.currentTarget).closest(".questions-panel").length?"video.question-panel.detail-view.add-question":"dashboard.tab.detail-view.add-question",h["default"].track("coursetaking","question",i)},t.editQuestion=function(t){r(t);var i=void 0;i=e(t.currentTarget).closest(".questions-panel").length?"video.question-panel.detail-view.edit-question":"dashboard.tab.detail-view.edit-question",h["default"].track("coursetaking","question",i)},t.submitQuestion=function(n){if(!t.editorState.submitDisabled){t.editorState.submitDisabled=!0,t.editorState.resetValue=!1;var s=t.editorState.formError.ignoreWarnings(t.editorState.body,t.editorState.prevFormValue);t.editorState.prevFormValue=t.editorState.body;var r=void 0,o=void 0;t.lecture?(r=t.lecture.id,o="lecture"):t.quiz?(r=t.quiz.id,o="quiz"):t.practice&&(r=t.practice.id,o="practice"),i.save(t.questions.params,{title:t.editorState.title,body:t.editorState.body,lecture:t.lecture?t.lecture.id:null,related_object_id:r,related_object_type:o,quiz:t.quiz?t.quiz.id:null,ignore_warnings:s}).$promise.then(function(i){t.questions.showNew=!0,t.questions.params.search=null,t.questions.count++,t.questions.listData.unshift(i),t.questions.data=t.questions.listData,t.editorState.isEditing=!1,t.editorState.title="",t.editorState.resetValue=!0,t.editorState.formError.reset();var s=void 0;s=e(n.currentTarget).closest(".questions-panel").length?"video.question-panel.detail-view.submit-question":"dashboard.tab.detail-view.submit-question",h["default"].track("coursetaking","question",s)},function(e){t.editorState.formError.processResponseError(e)})["finally"](function(){t.editorState.submitDisabled=!1})}},t.cancelQuestion=function(){t.editorState.isEditing=!1,t.editorState.resetValue=!0}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(7),o=babelHelpers.interopRequireDefault(r),a=i(1748),l=babelHelpers.interopRequireDefault(a),c=i(102),u=babelHelpers.interopRequireDefault(c);i(35);var d=i(1722),h=babelHelpers.interopRequireDefault(d),p=i(1743),f=babelHelpers.interopRequireDefault(p),g=i(3006),m=babelHelpers.interopRequireDefault(g),v=i(1750),b=babelHelpers.interopRequireDefault(v),w=o["default"].module("ng/apps/course-taking-v4/question-answer/question-body-form.ng-directive",[l["default"].name,f["default"].name,b["default"].name]).directive("questionBodyForm",n);
s.$inject=["$scope","CourseQuestion","CurrentCourse","ViewMode"],t["default"]=w}).call(t,i(5))},2495:function(e,t,i){(function(e){"use strict";function n(){return{restrict:"E",scope:{questions:"=",showResponses:"=?",onSelect:"&"},controller:s,templateUrl:m["default"]}}function s(t){t.questions.initialized||t.questions.loading||t.questions.loadQuestions(),t.closeConfirmationBox=function(e){e.preventDefault(),e.stopPropagation(),t.questions.showNew=!1},t.openDetails=function(i,n){t.questions.showNew=!1,t.onSelect()(n);var s=void 0;s=e(i.currentTarget).closest(".questions-panel").length?"video.question-panel.open-detail":"dashboard.tab.open-detail",f["default"].track("coursetaking","question",s,null,null,null,{objectType:"question",objectId:n.id})},t.loadMore=function(){t.questions.params.page++,t.questions.loadQuestions()},t.showRaiseHand=function(){return t.questions.initialized&&!t.questions.loading&&(!t.questions.params.search&&0===t.questions.count||t.questions.params.search&&0===t.questions.searchCount)}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(7),o=babelHelpers.interopRequireDefault(r),a=i(1794),l=babelHelpers.interopRequireDefault(a),c=i(1732),u=babelHelpers.interopRequireDefault(c),d=i(40),h=babelHelpers.interopRequireDefault(d),p=i(1722),f=babelHelpers.interopRequireDefault(p),g=i(3007),m=babelHelpers.interopRequireDefault(g),v=o["default"].module("ng/apps/course-taking-v4/question-answer/question-list.ng-directive",[l["default"].name,h["default"].name,u["default"].name]).directive("questionList",n);s.$inject=["$scope"],t["default"]=v}).call(t,i(5))},2496:function(e,t,i){"use strict";function n(){return{restrict:"E",controller:s,templateUrl:m["default"]}}function s(e,t,i){e.createEnabled=i.features.discussions_create,e.supportUrl=h["default"].toSupportContact(),e.is_owner_terms_banned=i.is_owner_terms_banned,e.searchQuestions=l["default"].debounce(function(){t.questions.searchCount=0,t.questions.params.search=e.editorState.title,t.questions.params.page=1,t.questions.loadQuestions()},300)}Object.defineProperty(t,"__esModule",{value:!0});var r=i(7),o=babelHelpers.interopRequireDefault(r),a=i(26),l=babelHelpers.interopRequireDefault(a),c=i(2114),u=babelHelpers.interopRequireDefault(c),d=i(102),h=babelHelpers.interopRequireDefault(d),p=i(1743),f=babelHelpers.interopRequireDefault(p),g=i(3008),m=babelHelpers.interopRequireDefault(g),v=o["default"].module("ng/apps/course-taking-v4/question-answer/question-title-form.ng-directive",[u["default"].name,f["default"].name]).directive("questionTitleForm",n);s.$inject=["$scope","QuestionAnswer","CurrentCourse"],t["default"]=v},2497:function(e,t,i){"use strict";function n(e){return{restrict:"E",scope:{line:"=",column:"=",reset:"=",savingStatus:"="},templateUrl:a["default"],link:function(t,i){t.openResetModal=function(){e.open({scope:t,windowClass:"coding-exercise__reset-modal",templateUrl:c["default"]})}}}}Object.defineProperty(t,"__esModule",{value:!0});var s=i(7),r=babelHelpers.interopRequireDefault(s),o=i(3010),a=babelHelpers.interopRequireDefault(o),l=i(3015),c=babelHelpers.interopRequireDefault(l);t["default"]=r["default"].module("ng/apps/course-taking-v4/quiz-view/coding-exercise-editor-footer.ng-directive",[]).directive("codingExerciseEditorFooter",["$modal",n])},2498:function(e,t,i){"use strict";function n(e){return{restrict:"E",scope:{files:"=",activeFile:"=",selectFile:"="},templateUrl:a["default"],link:function(e,t){}}}Object.defineProperty(t,"__esModule",{value:!0});var s=i(7),r=babelHelpers.interopRequireDefault(s),o=i(3011),a=babelHelpers.interopRequireDefault(o);t["default"]=r["default"].module("ng/apps/course-taking-v4/quiz-view/coding-exercise-files.ng-directive",[]).directive("codingExerciseFiles",["NG_APPS_URL",n])},2499:function(e,t,i){"use strict";function n(e){return{restrict:"E",scope:{},templateUrl:p["default"],link:function(t,i){t.me=d["default"],t.hideTooltip=function(){var i={setting:"coding_exercise_hint",value:"off"};e.save(i).$promise.then(function(e){t.me.settings.coding_exercise_hint=e.value})}}}}Object.defineProperty(t,"__esModule",{value:!0});var s=i(7),r=babelHelpers.interopRequireDefault(s),o=i(569),a=babelHelpers.interopRequireDefault(o),l=i(40),c=babelHelpers.interopRequireDefault(l),u=i(41),d=babelHelpers.interopRequireDefault(u),h=i(3012),p=babelHelpers.interopRequireDefault(h);t["default"]=r["default"].module("ng/apps/course-taking-v4/quiz-view/coding-exercise-hint.ng-directive",[c["default"].name,a["default"].name]).directive("codingExerciseHint",["UserSettings",n])},2500:function(e,t,i){"use strict";function n(e){return{restrict:"E",scope:{output:"=",solutionPassed:"=",error:"=",previewFiles:"=",checkedSolutionOnce:"=",showPreview:"="},templateUrl:c["default"],link:function(t,i){function n(e){function i(e){return(e.file_name||"").split(".").pop()}function n(e){return t.previewFiles.filter(function(t){return i(t)===e}).map(function(e){return e.content}).join("\n")}var s=t.previewFiles.filter(function(e){var t=i(e);return"html"===t||"htm"===t})[0];if(s){var r=document.createElement("html");r.innerHTML=s.content;var o=r.getElementsByTagName("head")[0];o||(o=document.createElement("head"),r.appendChild(o));var l=document.createElement("style");l.innerHTML=n("css"),o.appendChild(l);var c=r.getElementsByTagName("body")[0];c||(c=document.createElement("body"),r.appendChild(c));var u=document.createElement("script");u.type="text/javascript";var d=n("js");if(e)try{d=(0,a["default"])(d)}catch(h){}return u.innerHTML=d,c.appendChild(u),r.outerHTML}}function s(){o&&e.cancel(o),o=e(function(){var e=i.find("iframe")[0];e&&e.contentWindow.postMessage(JSON.stringify({type:"render",data:{source:n(!0),options:{requested:!0}}}),"*")},r)}a["default"].alias="window.runnerWindow.protect";var r=1e3,o=null;e(function(){var e=i.find("iframe")[0];e&&(e.onload=s)}),t.$watch(function(){return n(!1)},s)}}}Object.defineProperty(t,"__esModule",{value:!0});var s=i(7),r=babelHelpers.interopRequireDefault(s),o=i(3438),a=babelHelpers.interopRequireDefault(o),l=i(3013),c=babelHelpers.interopRequireDefault(l);t["default"]=r["default"].module("ng/apps/course-taking-v4/quiz-view/coding-exercise-output.ng-directive",[]).directive("codingExerciseOutput",["$timeout",n])},2501:function(e,t,i){"use strict";function n(e,t,i,n,s,o){return{restrict:"E",templateUrl:q["default"],scope:{quiz:"=",quizAttempt:"=",currentSection:"=",curriculumItem:"="},controller:["$scope",function(t){t.evaluator=s(),t.checkSolution=function(){t.evaluator.evaluate({request:function(e){var s={files:t.studentFiles};return i.answeredQuestion(t.quizAttempt.id,t.question.id,s,0),n.saveCodingExercise(t.quizAttempt.id,t.question.id,s,e).$promise},successHandler:function(){t.checkedSolutionOnce=!0;var e=o.getCurriculumItem("quiz",t.quiz.id);o.markCurriculumItemAsCompleted(e)},errorHandler:function(){T["default"].increment("coding_exercise",{error:"check-solution"}),t.checkedSolutionOnce=!0},meta:{assessmentId:t.question.id,userType:"student"}})},t.$on("$destroy",function(){t.evaluator.destroy()});var a=function(){function i(e){var i={files:t.studentFiles},s={pusherChannel:null};n.saveCodingExercise(t.quizAttempt.id,t.question.id,i,s).$promise.then(function(t){e("success")},function(t){e("error")})}function s(){return r=null,"waiting"===t.savingStatus?void(l=!0):(t.savingStatus="waiting",void i(function(e){t.savingStatus=e,l&&(l=!1,a())}))}var r=null,o=2e3,l=!1;return function(){r&&e.cancel(r),r=e(s,o)}}();t.selectFile=function(e){t.activeFile=e},t.reset=function(){t.studentFiles=r["default"].copy(t.question.prompt.initial_files),t.selectFile(t.studentFiles[0]),a()},t.updateCursorPosition=function(e,i){t.currentLine=e,t.currentColumn=i},t.updateFile=function(e,t){e.content!==t&&(e.content=t,a())},t.savingStatus="success",t.resizeHandlers=[],t.registerResizeHandler=function(e){t.resizeHandlers.push(e)}}],link:function(i,s){function a(){return i.quizAttempt?n.getLatestCodingExerciseAnswer(i.quizAttempt.id).$promise.then(function(e){var t=e.results||[];t.length>0?i.studentFiles=t[0].response.files:i.studentFiles=r["default"].copy(i.question.prompt.initial_files)}):n.createNewAttempt().$promise.then(function(e){i.quizAttempt=e,i.studentFiles=r["default"].copy(i.question.prompt.initial_files);var t=o.getCurriculumItem("quiz",i.quiz.id);o.markCurriculumItemAsStarted(t)})}function l(e){return(e.file_name||"").split(".").pop()}i.$on("quiz-data-loaded",function(){t.go("base.taking.quiz",{},{location:"replace"}),i.question=i.quiz.questions[0],a().then(function(){i.selectFile(i.studentFiles[0]),i.showPreview="html"===i.question.prompt.language.toLowerCase()&&i.studentFiles.reduce(function(e,t){return e||"html"===l(t)||"htm"===l(t)},!1),e(function(){var e=s.find("coding-exercise-statement");e.height(e.prop("scrollHeight"))},100),i.$emit("contentready")})}),function(){function e(){i.resizeHandlers.forEach(function(e){e()})}function t(){s.find("coding-exercise-output").find("iframe").css("pointer-events","none")}function n(){s.find("coding-exercise-output").find("iframe").css("pointer-events","initial")}s.find("coding-exercise-statement").resizable({handles:"s",resize:e,start:t,stop:n}),s.find("coding-exercise-files").resizable({handles:"e",resize:e}),i.makeOutputPaneResizable=function(){s.find("coding-exercise-output").resizable({handles:"w",resize:e,start:t,stop:n})}}(),i.$on("questionspanelopened",function(){i.questionsPanelOpen=!0}),i.$on("questionspanelclosed",function(){i.questionsPanelOpen=!1})}}}Object.defineProperty(t,"__esModule",{value:!0}),i(117),i(565);var s=i(7),r=babelHelpers.interopRequireDefault(s),o=i(2113),a=babelHelpers.interopRequireDefault(o),l=i(1941),c=babelHelpers.interopRequireDefault(l),u=i(1867),d=babelHelpers.interopRequireDefault(u),h=i(2497),p=babelHelpers.interopRequireDefault(h),f=i(2087),g=babelHelpers.interopRequireDefault(f),m=i(2498),v=babelHelpers.interopRequireDefault(m),b=i(2499),w=babelHelpers.interopRequireDefault(b),y=i(2500),A=babelHelpers.interopRequireDefault(y),k=i(2502),C=babelHelpers.interopRequireDefault(k),x=i(1779),_=babelHelpers.interopRequireDefault(x),S=i(2328),E=babelHelpers.interopRequireDefault(S),F=i(1846),D=babelHelpers.interopRequireDefault(F),$=i(3014),q=babelHelpers.interopRequireDefault($),R=i(374),T=babelHelpers.interopRequireDefault(R);t["default"]=r["default"].module("ng/apps/course-taking-v4/quiz-view/coding-exercise-page.ng-directive",[a["default"].name,c["default"].name,d["default"].name,p["default"].name,g["default"].name,v["default"].name,w["default"].name,A["default"].name,C["default"].name,_["default"].name,E["default"].name,D["default"].name]).directive("codingExercisePage",["$timeout","$state","quizTrackingService","assessmentService","CodingExerciseEvaluatorService","Curriculum",n])},2502:function(e,t,i){"use strict";function n(){return{restrict:"E",scope:{instructions:"=",title:"="},templateUrl:c["default"],link:function(e,t){}}}Object.defineProperty(t,"__esModule",{value:!0});var s=i(7),r=babelHelpers.interopRequireDefault(s),o=i(1755),a=babelHelpers.interopRequireDefault(o),l=i(3016),c=babelHelpers.interopRequireDefault(l);t["default"]=r["default"].module("ng/apps/course-taking-v4/quiz-view/coding-exercise-statement.ng-directive",[a["default"].name]).directive("codingExerciseStatement",[n])},2503:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(7),s=babelHelpers.interopRequireDefault(n),r=i(2516),o=babelHelpers.interopRequireDefault(r),a=i(2504),l=babelHelpers.interopRequireDefault(a),c=i(2506),u=babelHelpers.interopRequireDefault(c),d=i(2507),h=babelHelpers.interopRequireDefault(d),p=i(2508),f=babelHelpers.interopRequireDefault(p);t["default"]=s["default"].module("ng/apps/course-taking-v4/quiz-view/module",[o["default"].name,l["default"].name,u["default"].name,h["default"].name,f["default"].name])},2504:function(e,t,i){"use strict";function n(e,t,i){return{restrict:"E",templateUrl:d["default"],scope:{quiz:"=",quizAttempt:"=",loadAttemptResults:"=",computeChartData:"="},link:function(n){function s(e){var t=[].concat(babelHelpers.toConsumableArray(new Set(n.quizAttempt.questions.map(function(e){return e.section}).filter(function(e){return e}))));return[{label:i.getString("All Knowledge Areas"),filter:function(e){return e}}].concat(babelHelpers.toConsumableArray(t.map(function(e){return{label:e,filter:function(t){return t.section===e}}})))}function r(){n.quizAttempt.chart||n.computeChartData(n.quizAttempt),n.sectionFilters=s(n.quizAttempt.questions),n.applyFilters(n.questionFilters[0],n.sectionFilters[0])}t.reviewPracticeTestQuestions(e.attemptId),n.questionFilters=[{label:i.getString("All Questions"),filter:function(e){return e}},{label:i.getString("Correct"),filter:function(e){return 1===e.score}},{label:i.getString("Incorrect"),filter:function(e){return 0===e.score&&(e.selectedAnswers||[]).length>0}},{label:i.getString("Skipped"),filter:function(e){return 0===(e.selectedAnswers||[]).length}},{label:i.getString("Marked for review"),filter:function(e){return e.is_marked_for_review}}],n.applyFilters=function(e,t){n.selectedQuestionFilter=e,n.selectedSectionFilter=t,n.filteredQuestions=n.quizAttempt.questions.filter(e.filter).filter(t.filter)},n.quizAttempt&&n.quizAttempt.id.toString()===e.attemptId?r():(n.isLoading=!0,n.loadAttemptResults().then(function(){r(),n.isLoading=!1}))}}}Object.defineProperty(t,"__esModule",{value:!0}),i(1854),i(565);var s=i(7),r=babelHelpers.interopRequireDefault(s),o=i(572),a=babelHelpers.interopRequireDefault(o),l=i(1846),c=babelHelpers.interopRequireDefault(l),u=i(3018),d=babelHelpers.interopRequireDefault(u),h=i(40),p=babelHelpers.interopRequireDefault(h);t["default"]=r["default"].module("ng/apps/course-taking-v4/quiz-view/practice-test-attempt-results-page.ng-directive",["highcharts-ng","ui.router",a["default"].name,c["default"].name,p["default"].name]).directive("practiceTestAttemptResultsPage",["$stateParams","quizTrackingService","gettextCatalog",n])},2505:function(e,t,i){"use strict";function n(e,t,i,n,s,o,a,l,c,u,d){var h=300;return{restrict:"E",templateUrl:v["default"],scope:{quiz:"=",latestQuizAttempt:"=",currentSection:"=",curriculumItem:"="},link:function(s,p){function f(){return i.createNewAttempt().$promise.then(function(e){s.latestQuizAttempt=e,g(s.latestQuizAttempt),n.startedQuizAttempt(s.latestQuizAttempt.id,s.latestQuizAttempt.questions.length)})}function g(e){e.questions=r["default"].copy(s.quiz.questions)}function m(){s.showCurrentQuestion();var e=t.getCurriculumItem("quiz",s.quiz.id);t.markCurriculumItemAsStarted(e),u.go("base.taking.quiz.question",{},{location:"replace"}),s.timeRemaining()<=0&&!s.latestQuizAttempt.ignore_time_limit?b():s.latestQuizAttempt.is_paused?v():x(),s.$on("$destroy",function(){i.updateAttempt(s.latestQuizAttempt.id,{is_paused:!0}),C()})}function v(){if(!_)return a({title:l.getString("Your Test is Paused"),text:l.getString("You can leave this page and resume this test at any time. Your progress will be saved."),ok:l.getString("Resume Test"),cancel:""}).then(y)["catch"](y)}function b(){return!_&&(_=!0,w(),a({title:l.getString("Time's Up!"),text:l.getString("If you want to see how you would do in a real test situation, end the test now. Otherwise, you can keep going, but this attempt will not count as a pass."),ok:l.getString("End Test"),cancel:l.getString("Keep Going")}).then(A)["catch"](k).then(function(){_=!1}))}function w(){return C(),v(),s.latestQuizAttempt.is_paused=!0,i.updateAttempt(s.latestQuizAttempt.id,{is_paused:!0}).$promise}function y(){return s.resetIdleTimer(),s.latestQuizAttempt.is_paused=!1,x(),i.updateAttempt(s.latestQuizAttempt.id,{is_paused:!1}).$promise}function A(){return n.stopPracticeTest(s.latestQuizAttempt.id),i.updateAttempt(s.latestQuizAttempt.id,{marked_completed:!0}).$promise.then(function(){var e=t.getCurriculumItem("quiz",s.quiz.id);return t.markCurriculumItemAsCompleted(e),s.showResultsPage(!0)})}function k(){return i.updateAttempt(s.latestQuizAttempt.id,{ignore_time_limit:!0}).$promise.then(function(){return s.latestQuizAttempt.ignore_time_limit=!0,y()})}function C(){o.cancel(S),S=void 0}function x(){S&&C();var e=s.latestQuizAttempt.clientElapsed+s.latestQuizAttempt.elapsed_time;S=o(function(){var t=new Date,i=(t-s.latestQuizAttempt.latestStart)/1e3+s.latestQuizAttempt.elapsed_time;Math.floor(i)!=Math.floor(e)&&(e=i,s.latestQuizAttempt.clientElapsed=(t-s.latestQuizAttempt.latestStart)/1e3,s.timeRemaining()<=0&&!s.latestQuizAttempt.ignore_time_limit?b():s.latestQuizAttempt.clientElapsed>h&&w())},100,!1)}s.$on("quiz-data-loaded",function(){function e(){s.$emit("contentready"),s.quizDataLoaded=!0}return s.latestQuizAttempt?(g(s.latestQuizAttempt),s.latestQuizAttempt.completion_time?(["base.taking.quiz.start","base.taking.quiz.results","base.taking.quiz.attempt-results"].includes(u.current.name)||u.go("base.taking.quiz.results",{},{location:"replace"}),void e()):void i.getAnswersForQuestions(s.latestQuizAttempt.id,s.latestQuizAttempt.questions).then(function(){m(),e()})):(u.go("base.taking.quiz.start",{},{location:"replace"}),void e())}),s.loadAttemptResults=function(){var t=c.attemptId,n=[s.latestQuizAttempt].concat(s.allQuizAttempts||[]).find(function(e){return e&&e.id.toString()===t&&e.results_summary&&e.results_summary.total}),r=n?e.when(n):i.getAttemptById(t);return r.then(function(e){if(s.quizAttemptToReview=e,!e.answersLoaded)return 0===(e.questions||[]).length&&g(e),i.getAnswersForQuestions(e.id,e.questions).then(function(){e.answersLoaded=!0})})["catch"](function(){s.showResultsPage()})},s.loadAllAttempts=function(){return(s.allQuizAttempts||[]).length>0?e.when(s.allQuizAttempts):i.getAllLatestAttempts().then(function(e){s.allQuizAttempts=e,e.forEach(function(e){g(e)})})},s.showResultsPage=function(e){e&&(s.allQuizAttempts=[]),C(),u.go("base.taking.quiz.results",{},{location:"replace"})},s.showCurrentQuestion=function(){var e=s.quiz.questionIdsMap.indexOf(s.latestQuizAttempt.current_assessment_id);e===-1&&(e=0),s.resetIdleTimer(),s.currentQuestion=s.latestQuizAttempt.questions[e]},s.startQuiz=function(){f().then(m)},s.showStopTestModal=function(){var e=s.latestQuizAttempt.questions.filter(function(e){return 0===(e.selectedAnswers||[]).length}).length,t=s.latestQuizAttempt.questions.length,i=Math.round(100*e/t);return a({title:l.getString("Are you sure you want to finish the test?"),text:l.getString("You still have {{percentageLeft}}% of the test remaining. If you don't want to submit this attempt now, you can always pause the test and return to it later. Remember that you can take this test as many times as you want.",{percentageLeft:i}),ok:l.getString("Finish Test"),cancel:l.getString("Cancel")}).then(A)},s.resetIdleTimer=function(){var e=new Date;s.latestQuizAttempt.latestStart=s.latestQuizAttempt.latestStart||e,s.latestQuizAttempt.elapsed_time=s.latestQuizAttempt.elapsed_time||0,s.latestQuizAttempt.clientElapsed=s.latestQuizAttempt.clientElapsed||0,s.latestQuizAttempt.is_paused?s.latestQuizAttempt.elapsed_time+=s.latestQuizAttempt.clientElapsed:s.latestQuizAttempt.elapsed_time+=(e-s.latestQuizAttempt.latestStart)/1e3,s.latestQuizAttempt.clientElapsed=0,s.latestQuizAttempt.latestStart=e},s.toggleTimer=function(){s.latestQuizAttempt.is_paused?y():(n.pausePracticeTest(s.latestQuizAttempt.id),w())},s.testProgressPercent=function(){return s.currentQuestion&&0!==s.quiz.questions.length?100*(s.currentQuestion.questionIndex-1)/(s.quiz.questions.length-1):0},s.timeRemaining=function(){return s.latestQuizAttempt?s.quiz.duration-s.latestQuizAttempt.elapsed_time-s.latestQuizAttempt.clientElapsed:s.quiz.duration},s.computeChartData=function(e){var t={title:{text:""},options:{chart:{backgroundColor:"transparent"}},func:function(e){d(function(){e.reflow()},0)}},i=r["default"].merge({},t,{series:[{innerSize:"70%",states:{hover:{halo:!1}}}],options:{chart:{type:"pie"},tooltip:{pointFormat:"<b>{point.percentage:.1f}%</b>"},plotOptions:{pie:{cursor:"pointer",dataLabels:{enabled:!1},showInLegend:!0}}}}),n={correct:l.getString("Correct"),incorrect:l.getString("Wrong Answer"),skipped:l.getString("Skipped")},s={correct:"#74C8D6",incorrect:"#DF6100",skipped:"#CBCBCB"};e.elapsedHours=Math.floor(e.elapsed_time/3600),e.elapsedMinutes=Math.floor(e.elapsed_time/60%60),e.elapsedSeconds=Math.round(e.elapsed_time),e.overTime=Math.round(e.elapsed_time-e.results_summary.duration),e.overTimeMinutes=Math.floor(e.overTime/60),e.chart=r["default"].merge({},i,{series:[{data:Object.keys(n).map(function(t){return{name:n[t],y:(e.results_summary||{})[t]||0,color:s[t]}})}],options:{chart:{margin:[0,0,0,0]},legend:{enabled:!1}}})};var _=!1,S=void 0}}}Object.defineProperty(t,"__esModule",{value:!0}),i(565);var s=i(7),r=babelHelpers.interopRequireDefault(s),o=i(1867),a=babelHelpers.interopRequireDefault(o),l=i(1779),c=babelHelpers.interopRequireDefault(l),u=i(2023),d=babelHelpers.interopRequireDefault(u),h=i(2078),p=babelHelpers.interopRequireDefault(h),f=i(1846),g=babelHelpers.interopRequireDefault(f),m=i(3020),v=babelHelpers.interopRequireDefault(m),b=i(1727),w=babelHelpers.interopRequireDefault(b),y=i(572),A=babelHelpers.interopRequireDefault(y),k=i(1847),C=babelHelpers.interopRequireDefault(k);t["default"]=r["default"].module("ng/apps/course-taking-v4/quiz-view/practice-test-page.ng-directive",[a["default"].name,c["default"].name,d["default"].name,p["default"].name,g["default"].name,w["default"].name,A["default"].name,C["default"].name]).directive("practiceTestPage",["$q","Curriculum","assessmentService","quizTrackingService","Quiz","$interval","udConfirm","gettextCatalog","$stateParams","$state","$timeout",n])},2506:function(e,t,i){"use strict";function n(e,t,i,n,s,r){return{restrict:"E",templateUrl:w["default"],scope:{quiz:"=",question:"=",quizAttempt:"=",showCurrentQuestion:"=",showResultsPage:"=",resetIdleTimer:"="},link:function(o,a){function l(n,s){var r=d();0===f().length&&(o.quizAttempt.is_reviewing=!1);var a=r&&f().length>0?u():e.when();return a.then(function(){var e=c().id,a=r&&!o.quizAttempt.is_reviewing,l={current_assessment_id:e,is_reviewing:o.quizAttempt.is_reviewing,marked_completed:a};return t.answerQuestion(o.quizAttempt.id,o.question.id,n,s,l).$promise.then(function(){if(!a)return o.quizAttempt.current_assessment_id=e,m=new Date,void o.showCurrentQuestion();var t=i.getCurriculumItem("quiz",o.quiz.id);return i.markCurriculumItemAsCompleted(t),o.showResultsPage(!0)})})}function c(){if(o.quizAttempt.is_reviewing){var e=f();if(0===e.length)return o.question;var t=e.find(function(e){return e.questionIndex>o.question.questionIndex}),i=e.find(function(e){return e.questionIndex<o.question.questionIndex});return t||i||o.question}var n=o.quizAttempt.questions.indexOf(o.question);return n!==o.quizAttempt.questions.length-1&&g(o.quizAttempt.questions[n+1])?o.quizAttempt.questions[n+1]:o.question}function u(){var t=h().length,i=p().length;if(0===t&&0===i)return o.quizAttempt.is_reviewing=!1,e.when();var n=void 0,a=void 0;t>0&&i>0?(a=r.getString("Do you want to return to skipped and marked questions?"),n=1===t&&1===i?r.getString("You skipped 1 question to come back to at the end, and you marked 1 question for review. Would you like to return to these questions now?"):t>1&&1===i?r.getString("You skipped {{numSkipped}} questions to come back to at the end, and you marked 1 question for review. Would you like to return to these questions now?",{numSkipped:t}):1===t&&i>1?r.getString("You skipped 1 question to come back to at the end, and you marked {{numMarkedForReview}} questions for review. Would you like to return to these questions now?",{numMarkedForReview:i}):r.getString("You skipped {{numSkipped}} questions to come back to at the end, and you marked {{numMarkedForReview}} questions for review. Would you like to return to these questions now?",{numSkipped:t,numMarkedForReview:i})):t>0?(a=r.getString("Do you want to answer the questions you skipped?"),n=1===t?r.getString("You skipped 1 question to come back to at the end. Would you like to answer it now?"):r.getString("You skipped {{numSkipped}} questions to come back to at the end. Would you like to answer them now?",{numSkipped:t})):i>0&&(a=r.getString("Do you want to review the questions you marked?"),n=1===i?r.getString("You marked 1 question for review. Would you like to review this question now?"):r.getString("You marked {{numMarkedForReview}} questions for review. Would you like to review these questions now?",{numMarkedForReview:i}));var l={title:a,text:n,noCloseButton:!0,settings:{backdrop:"static",keyboard:!1},cancel:r.getString("No, show my results"),ok:r.getString("Yes")};return s(l).then(function(){o.quizAttempt.is_reviewing=!0},function(){o.quizAttempt.is_reviewing=!1})}function d(){return o.quizAttempt.is_reviewing?c().questionIndex<=o.question.questionIndex:o.quizAttempt.questions.indexOf(o.question)===o.quizAttempt.questions.length-1}function h(){return o.quizAttempt.questions.filter(function(e){return g(e)})}function p(){return o.quizAttempt.questions.filter(function(e){return e.is_marked_for_review})}function f(){return o.quizAttempt.questions.filter(function(e){return g(e)||e.is_marked_for_review})}function g(e){return 0===(e.selectedAnswers||[]).length}var m=new Date;o.$watch("question",function(){m=new Date}),o.markForReview=function(){o.question.is_marked_for_review=!o.question.is_marked_for_review;var e=Math.floor((new Date-m)/1e3),i={is_marked_for_review:o.question.is_marked_for_review};return o.resetIdleTimer(),t.answerQuestion(o.quizAttempt.id,o.question.id,[],e,i).$promise.then(function(){m=new Date})["catch"](function(){o.question.is_marked_for_review=!o.question.is_marked_for_review})},o.submitAnswer=function(){var e=o.question.selectedAnswers.map(function(e){return e.id}),t=Math.floor((new Date-m)/1e3);n.answeredQuestion(o.quizAttempt.id,o.question.id,e,t),l(e,t)},o.skipQuestion=function(){o.question.selectedAnswers.forEach(function(e){e.selected=!1}),o.question.selectedAnswers=[],n.skippedQuestion(o.quizAttempt.id,o.question.id);var e=Math.floor((new Date-m)/1e3);l([],e)};var v=o.$on("hotkeytestevent",function(e,t,i){39==t&&("SHIFT"==i?o.skipQuestion():g(o.question)||o.submitAnswer())});o.$on("$destroy",v)}}}Object.defineProperty(t,"__esModule",{value:!0});var s=i(7),r=babelHelpers.interopRequireDefault(s),o=i(1867),a=babelHelpers.interopRequireDefault(o),l=i(2022),c=babelHelpers.interopRequireDefault(l),u=i(1779),d=babelHelpers.interopRequireDefault(u),h=i(2512),p=babelHelpers.interopRequireDefault(h),f=i(1846),g=babelHelpers.interopRequireDefault(f),m=i(2329),v=babelHelpers.interopRequireDefault(m),b=i(3021),w=babelHelpers.interopRequireDefault(b),y=i(1727),A=babelHelpers.interopRequireDefault(y),k=i(40),C=babelHelpers.interopRequireDefault(k),x=i(1847),_=babelHelpers.interopRequireDefault(x);t["default"]=r["default"].module("ng/apps/course-taking-v4/quiz-view/practice-test-question-page.ng-directive",[a["default"].name,c["default"].name,d["default"].name,p["default"].name,g["default"].name,v["default"].name,A["default"].name,C["default"].name,_["default"].name]).directive("practiceTestQuestionPage",["$q","assessmentService","Curriculum","quizTrackingService","udConfirm","gettextCatalog",n])},2507:function(e,t,i){"use strict";function n(e,t,i,n,s,o){return{restrict:"E",templateUrl:p["default"],scope:{quiz:"=",allQuizAttempts:"=",loadAllAttempts:"=",computeChartData:"="},link:function(i,s){function a(){var s=i.allQuizAttempts.find(function(t){return t.id.toString()===e.expanded});s||(s=i.allQuizAttempts[0],t.go("base.taking.quiz.results",{expanded:s.id},{location:"replace"})),n.seenResultPage(s.id),s.expanded=!0,l(!0)}function l(e){o(function(){var t=s.find(".expanded").parents(".panel").first(),i=t.parents(".scroll-wrapper");r["default"].ensureInView(t,i,e)})}function c(e,t){return e[t]?void(e[t]=!1):(i.allQuizAttempts.forEach(function(e){e[t]=!1}),e[t]=!0,void l())}i.isLoading=!0,i.loadAllAttempts().then(function(){i.isLoading=!1});var u=i.$watch("allQuizAttempts",function(){0!==(i.allQuizAttempts||[]).length&&(u(),a(),i.allQuizAttempts.forEach(function(e){e.chart||i.computeChartData(e)}))});i.toggleExpandQuizAttempt=function(e){c(e,"expanded");var i=e.expanded?e.id:null;t.go("base.taking.quiz.results",{expanded:i},{location:"replace"})},i.percentage=function(e){return Math.round(100*e)}}}}Object.defineProperty(t,"__esModule",{value:!0}),i(1854),i(2765),i(565);var s=i(7),r=babelHelpers.interopRequireDefault(s),o=i(1867),a=babelHelpers.interopRequireDefault(o),l=i(572),c=babelHelpers.interopRequireDefault(l),u=i(1846),d=babelHelpers.interopRequireDefault(u),h=i(3022),p=babelHelpers.interopRequireDefault(h),f=i(40),g=babelHelpers.interopRequireDefault(f),m=i(135),v=babelHelpers.interopRequireDefault(m);t["default"]=r["default"].module("ng/apps/course-taking-v4/quiz-view/practice-test-results-page.ng-directive",["highcharts-ng","ui.router",a["default"].name,c["default"].name,d["default"].name,g["default"].name,v["default"].name]).directive("practiceTestResultsPage",["$stateParams","$state","assessmentService","quizTrackingService","gettextCatalog","$timeout",n])},2508:function(e,t,i){"use strict";function n(e){return{restrict:"E",templateUrl:d["default"],scope:{quiz:"=",startQuiz:"="}}}Object.defineProperty(t,"__esModule",{value:!0});var s=i(7),r=babelHelpers.interopRequireDefault(s),o=i(2363),a=babelHelpers.interopRequireDefault(o),l=i(1779),c=babelHelpers.interopRequireDefault(l),u=i(3023),d=babelHelpers.interopRequireDefault(u),h=i(40),p=babelHelpers.interopRequireDefault(h);t["default"]=r["default"].module("ng/apps/course-taking-v4/quiz-view/practice-test-start-page.ng-directive",[a["default"].name,c["default"].name,p["default"].name]).directive("practiceTestStartPage",["Curriculum",n])},2509:function(e,t,i){"use strict";function n(e){return{scope:!0,restrict:"E",link:function(t,i){function n(){var n=i.find("question");n.html(t.question.prompt.question),e(n.contents())(t)}function s(){var e=[];r["default"].forEach(t.question.answers,function(t){t.fill=t.correct,t.result=null,e.push(t.fill)}),t.answerQuestion(e)}t.question.fill_count=0,t.answerQuestionFITB=function(){var e=!0,i=[];r["default"].forEach(t.question.answers,function(t){i.push(t.fill),t.fill==t.correct?t.result="correct":(t.result="wrong",e=!1)}),e?t.question.answered=!0:t.question.attempts+=1,t.answerQuestion(i).$promise["catch"](function(){r["default"].forEach(t.question.answers,function(e){e.result=null}),t.question.answered=!1,e||(t.question.attempts-=1)})},t.showAnswerFITB=function(){t.question.answered=!0,s(),t.showAnswer()},t.$watch("question",n)},templateUrl:d["default"]}}Object.defineProperty(t,"__esModule",{value:!0});var s=i(7),r=babelHelpers.interopRequireDefault(s),o=i(40),a=babelHelpers.interopRequireDefault(o),l=i(1939),c=babelHelpers.interopRequireDefault(l),u=i(3024),d=babelHelpers.interopRequireDefault(u),h=i(2518),p=babelHelpers.interopRequireDefault(h),f=i(2088),g=babelHelpers.interopRequireDefault(f);t["default"]=r["default"].module("ng/apps/course-taking-v4/quiz-view/quiz-question-fitb.ng-directive",[a["default"].name,c["default"].name,p["default"].name,g["default"].name]).directive("quizQuestionFitb",["$compile",n])},2510:function(e,t,i){"use strict";function n(){return{scope:{quizAttempt:"=",questionOutcome:"="},restrict:"E",link:function(e){e.questionList=e.quizAttempt.stats.summary[e.questionOutcome],e.revisitQuestion=function(t){e.$emit("revisitQuestionClicked",t)}},templateUrl:c["default"]}}Object.defineProperty(t,"__esModule",{value:!0});var s=i(7),r=babelHelpers.interopRequireDefault(s),o=i(40),a=babelHelpers.interopRequireDefault(o),l=i(3025),c=babelHelpers.interopRequireDefault(l);t["default"]=r["default"].module("ng/apps/course-taking-v4/quiz-view/quiz-question-list.ng-directive",[a["default"].name]).directive("quizQuestionList",n)},2511:function(e,t,i){"use strict";function n(){return{scope:!0,restrict:"E",link:function(e){function t(){r["default"].forEach(e.question.answers,function(e){e.result||e.correct||(e.result="incorrect");
})}function i(){r["default"].forEach(e.question.answers,function(e){"incorrect"==e.result&&(e.result=null)})}function n(){r["default"].forEach(e.question.answers,function(e){e.correct&&(e.clicked=!0,e.result="correct",e.autofilled=!0)})}e.answerQuestionMC=function(s){e.question.checking||(e.question.checking=!0,s.correct?(s.result="correct",t(),e.question.answered=!0):(s.result="wrong",e.question.attempts+=1),e.answerQuestion([s.id]).$promise.then(function(){s.correct||e.question.answers.length-e.question.attempts!=1||(n(),e.question.answered=!0)})["catch"](function(){s.result=null,e.question.answered=!1,s.correct?i():e.question.attempts-=1})["finally"](function(){e.question.checking=!1}))},e.showAnswerMC=function(){t(),e.showAnswer()},e.$on("hotkeyquizevent",function(t,i,n){if(!n&&i>=49&&i<=57||"SHIFT"==n&&i>=48&&i<=53){var s=("SHIFT"==n?10:0)+i-49;if(e.question.answers.length>s){var r=e.question.answers[s];e.answerQuestionMC(r)}}})},templateUrl:p["default"]}}Object.defineProperty(t,"__esModule",{value:!0});var s=i(7),r=babelHelpers.interopRequireDefault(s),o=i(1877),a=babelHelpers.interopRequireDefault(o),l=i(40),c=babelHelpers.interopRequireDefault(l),u=i(1939),d=babelHelpers.interopRequireDefault(u),h=i(3026),p=babelHelpers.interopRequireDefault(h),f=i(2088),g=babelHelpers.interopRequireDefault(f),m=i(1755),v=babelHelpers.interopRequireDefault(m);t["default"]=r["default"].module("ng/apps/course-taking-v4/quiz-view/quiz-question-mc.ng-directive",[c["default"].name,d["default"].name,a["default"].name,g["default"].name,v["default"].name]).directive("quizQuestionMc",n)},2512:function(e,t,i){"use strict";function n(){return{restrict:"E",templateUrl:c["default"],scope:{question:"=",isReviewing:"="},link:function(e){function t(){e.question.answers.forEach(function(e){e.correct?e.state="correct":e.state=e.selected?"incorrect":""});var t=e.question.answers.filter(function(e){return!!e.selected!==e.correct});e.question.state=0===t.length?"correct":"incorrect",e.question.answered||(e.question.state="skipped")}e.$watch("question",function(){if(e.question){if(e.question.selectedAnswers=e.question.selectedAnswers||[],e.question.answered=e.question.selectedAnswers.length>0,"multiple-choice"==e.question.assessment_type){var i=e.question.answers.indexOf(e.question.selectedAnswers[0]);e.question.selectedValue="answer-"+i}e.isReviewing&&t()}}),e.answersChanged=function(t){t?(e.question.selectedAnswers=[t],e.question.answers.forEach(function(e){e.selected=e===t})):e.question.selectedAnswers=e.question.answers.filter(function(e){return e.selected}),e.question.answered=e.question.selectedAnswers.length>0};var i=e.$on("hotkeytestevent",function(t,i,n){if(!n&&i>=49&&i<=57||"SHIFT"==n&&i>=48&&i<=53){var s=("SHIFT"==n?10:0)+i-49;if(e.question.answers.length>s){var r=e.question.answers[s];"multiple-choice"==e.question.assessment_type?(e.question.selectedValue="answer-"+s,e.answersChanged(r)):(r.selected=!r.selected,e.answersChanged())}}});e.$on("$destroy",i)}}}Object.defineProperty(t,"__esModule",{value:!0});var s=i(7),r=babelHelpers.interopRequireDefault(s),o=i(1755),a=babelHelpers.interopRequireDefault(o),l=i(3027),c=babelHelpers.interopRequireDefault(l),u=i(40),d=babelHelpers.interopRequireDefault(u),h=i(2088),p=babelHelpers.interopRequireDefault(h);t["default"]=r["default"].module("ng/apps/course-taking-v4/quiz-view/quiz-question-multiple-choice.ng-directive",[a["default"].name,d["default"].name,p["default"].name]).directive("quizQuestionMultipleChoice",n)},2513:function(e,t,i){"use strict";function n(e,t,i,n){return{scope:{quiz:"=",question:"=",quizAttempt:"="},restrict:"E",link:function(t,s){var r=new Date;t.answerQuestion=function(e){var s=Math.floor((new Date-r)/1e3);return n.answeredQuestion(t.quizAttempt.id,t.question.id,e,s),i.answerQuestion(t.quizAttempt.id,t.question.id,e,s)},t.showAnswer=function(){t.question.answer_shown=!0,n.clickedShowAnswer(t.quizAttempt.id,t.question.id)},t.nextQuestion=function(){t.question.nextQuestionIndex?t.$emit("nextQuestionClicked"):t.showResults()},t.showResults=function(){t.$emit("showResultsClicked")},t.backToResults=function(){t.$emit("backToResultsClicked")},t.skipQuestion=function(){t.nextQuestion(),n.skippedQuestion(t.quizAttempt.id,t.question.id)},t.$on("seenRelatedLecture",function(){n.seenRelatedLecture(t.quizAttempt.id,t.question.id)}),t.$watch("question",function(){r=new Date});var o=e.$on("hotkeyquizevent",function(e,i,n){39==i&&("SHIFT"==n?t.skipQuestion():t.question.answered&&t.nextQuestion())});t.$on("$destroy",o)},templateUrl:k["default"]}}Object.defineProperty(t,"__esModule",{value:!0});var s=i(7),r=babelHelpers.interopRequireDefault(s);i(382),i(381);var o=i(5),a=(babelHelpers.interopRequireDefault(o),i(1877)),l=babelHelpers.interopRequireDefault(a),c=i(40),u=babelHelpers.interopRequireDefault(c),d=i(1867),h=babelHelpers.interopRequireDefault(d),p=i(2022),f=babelHelpers.interopRequireDefault(p),g=i(1939),m=babelHelpers.interopRequireDefault(g),v=i(2509),b=babelHelpers.interopRequireDefault(v),w=i(2511),y=babelHelpers.interopRequireDefault(w),A=i(3028),k=babelHelpers.interopRequireDefault(A),C=i(1846),x=babelHelpers.interopRequireDefault(C),_=i(2329),S=babelHelpers.interopRequireDefault(_),E=i(1847),F=babelHelpers.interopRequireDefault(E);t["default"]=r["default"].module("ng/apps/course-taking-v4/quiz-view/quiz-question-page.ng-directive",["ngRoute",u["default"].name,m["default"].name,f["default"].name,F["default"].name,y["default"].name,b["default"].name,S["default"].name,h["default"].name,x["default"].name,l["default"].name]).directive("quizQuestionPage",["$rootScope","$timeout","assessmentService","quizTrackingService",n])},2514:function(e,t,i){"use strict";function n(e){return{scope:{quiz:"=",quizAttempt:"="},restrict:"E",link:function(t){function i(e){var i=t.quizAttempt.questions[e];r["default"].forEach(i.answers,function(e){e.correct?(e.result="correct",e.clicked=!0):e.result="incorrect"}),i.answered=!0}t.retryQuiz=function(){t.$emit("retryQuizClicked")},t.continueCourse=function(){t.transitionToNextItem=!0,e.ensureCurriculumLoaded().then(function(){t.$emit("gotointerstitial",e.currentSectionItem)})},r["default"].forEach(t.quizAttempt.stats.summary.correct,function(e){i(e)}),r["default"].forEach(t.quizAttempt.stats.summary.wrong,function(e){i(e)})},templateUrl:v["default"]}}Object.defineProperty(t,"__esModule",{value:!0});var s=i(7),r=babelHelpers.interopRequireDefault(s),o=i(2729),a=babelHelpers.interopRequireDefault(o),l=i(40),c=babelHelpers.interopRequireDefault(l),u=i(2022),d=babelHelpers.interopRequireDefault(u),h=i(1779),p=babelHelpers.interopRequireDefault(h),f=i(2510),g=babelHelpers.interopRequireDefault(f),m=i(3029),v=babelHelpers.interopRequireDefault(m);t["default"]=r["default"].module("ng/apps/course-taking-v4/quiz-view/quiz-results-page.ng-directive",[c["default"].name,p["default"].name,d["default"].name,g["default"].name,a["default"].name]).directive("quizResultsPage",["Curriculum",n])},2515:function(e,t,i){"use strict";function n(e){return{scope:{quiz:"=",quizAttempt:"="},restrict:"E",link:function(t){t.quiz.description=t.quiz.description.replace(/\s/g," "),t.startQuiz=function(){t.$emit("startQuizClicked")},t.skipQuiz=function(){t.transitionToNextItem=!0,e.ensureCurriculumLoaded().then(function(){t.$emit("gotointerstitial",e.currentSectionItem)})}},templateUrl:d["default"]}}Object.defineProperty(t,"__esModule",{value:!0});var s=i(7),r=babelHelpers.interopRequireDefault(s),o=i(2363),a=babelHelpers.interopRequireDefault(o),l=i(1779),c=babelHelpers.interopRequireDefault(l),u=i(3030),d=babelHelpers.interopRequireDefault(u),h=i(40),p=babelHelpers.interopRequireDefault(h);t["default"]=r["default"].module("ng/apps/course-taking-v4/quiz-view/quiz-start-page.ng-directive",[a["default"].name,c["default"].name,p["default"].name]).directive("quizStartPage",["Curriculum",n])},2516:function(e,t,i){"use strict";function n(e,t,i,n,s,r,o,a,l,c){function u(){return l.get({courseId:c.id,id:e.id,"fields[quiz]":"@min,description,sort_order,object_index,num_assessments,course,duration,pass_percent","fields[course]":"id,url"}).$promise.then(function(e){i.quiz=e,e.questions=[],e.description&&(e.description=e.description.replace(/\s/g," ")),e.duration&&(e.durationHours=Math.floor(e.duration/3600),e.durationMinutes=Math.floor(e.duration/60)%60),a.initQuiz(e.course.id,e.id,"coding-exercise"===e.type),w["default"].trackPageview(c.analytics_tracking_code,"instructor",c.url+"course-taking/quiz/"+i.quiz.id),r.initQuiz(e.id)})["catch"](function(){return t.go("base.dashboard.content")})}function d(){return a.loadQuestions().then(function(e){i.quiz.questions=e,i.quiz.questionIdsMap=i.quiz.questions.map(function(e){return e.id})})}function h(){return a.getLatestAttempt().then(function(e){i.latestQuizAttempt=e})}function p(){return o.ensureCurriculumLoaded().then(function(){i.curriculumItem=o.getCurriculumItem("quiz",i.quiz.id),o.setCurrentItem(i.curriculumItem),i.currentSection=o.currentSection})}u().then(function(){return n.all([d(),h(),p()])}).then(function(){s(function(){i.$broadcast("quiz-data-loaded")})})}Object.defineProperty(t,"__esModule",{value:!0}),i(565);var s=i(7),r=babelHelpers.interopRequireDefault(s),o=i(1867),a=babelHelpers.interopRequireDefault(o),l=i(2501),c=babelHelpers.interopRequireDefault(l),u=i(1779),d=babelHelpers.interopRequireDefault(u),h=i(2505),p=babelHelpers.interopRequireDefault(h),f=i(1846),g=babelHelpers.interopRequireDefault(f),m=i(2517),v=babelHelpers.interopRequireDefault(m),b=i(199),w=babelHelpers.interopRequireDefault(b),y=i(1847),A=babelHelpers.interopRequireDefault(y);t["default"]=r["default"].module("ng/apps/course-taking-v4/quiz-view/quiz-view.ng-controller",["ui.router",a["default"].name,c["default"].name,d["default"].name,p["default"].name,g["default"].name,v["default"].name,A["default"].name]).controller("QuizViewController",n),n.$inject=["$stateParams","$state","$scope","$q","$timeout","quizTrackingService","Curriculum","assessmentService","Quiz","CurrentCourse"]},2517:function(e,t,i){"use strict";function n(e,t,i,n,s,o,a,l,c){return{restrict:"E",templateUrl:C["default"],scope:{quiz:"=",latestQuizAttempt:"=",currentSection:"=",curriculumItem:"="},link:function(e,c){e.$on("quiz-data-loaded",function(){s.go("base.taking.quiz",{},{location:"replace"}),e.copyQuestionsToAttempt(),e.latestQuizAttempt&&e.latestQuizAttempt.completion_time?e.showResultsPage().then(function(){e.$emit("contentready")}):(e.quizState="start_page",e.$emit("contentready"))}),e.createNewAttempt=function(){return a.createNewAttempt().$promise.then(function(t){e.latestQuizAttempt=t,e.copyQuestionsToAttempt(),l.startedQuizAttempt(e.latestQuizAttempt.id,e.latestQuizAttempt.questions.length)})},e.showResultsPage=function(){return a.getAttemptStats(e.latestQuizAttempt.id).$promise.then(function(t){if(e.latestQuizAttempt.stats=t,e.quizState="results_page",l.seenResultPage(e.latestQuizAttempt.id),0===t.user_num_skipped_answers){var i=o.getCurriculumItem("quiz",e.quiz.id);o.markCurriculumItemAsCompleted(i)}})},e.getNextQuestion=function(t){for(var i=t;i<e.latestQuizAttempt.questions.length;i++)if(!e.latestQuizAttempt.questions[i].answered)return i;return null},e.showQuestion=function(t,i){e.currentQuestion=e.latestQuizAttempt.questions[t],e.currentQuestion.show=!1,i?e.currentQuestion.revisiting=!0:e.currentQuestion.nextQuestionIndex=e.getNextQuestion(t+1),e.quizState="question_page",n(function(){e.currentQuestion.show=!0,e.$emit("applyViewMore")},1e3)},e.showFirstQuestion=function(){var t=0;e.latestQuizAttempt&&(t=e.getNextQuestion(0)),null!==t?e.showQuestion(t):e.showResultsPage()},e.copyQuestionsToAttempt=function(){e.latestQuizAttempt&&(e.latestQuizAttempt.questions=r["default"].copy(e.quiz.questions),e.latestQuizAttempt.completion_time||r["default"].forEach(e.latestQuizAttempt.completed_assessments,function(t){var i=e.quiz.questionIdsMap.indexOf(t);e.latestQuizAttempt.questions[i].answered=!0}))},e.mobileReload=function(e){"mobile_app"===t.search().display_type&&"true"===t.search().notify_mobile&&(t.search("mobile_event",e),i.open(t.absUrl()))},e.$on("retryQuizClicked",function(){e.latestQuizAttempt=null,o.setCurriculumItemAsNotStarted(e.curriculumItem),e.quizState="start_page",e.mobileReload("start")}),e.$on("nextQuestionClicked",function(t){e.showQuestion(e.currentQuestion.nextQuestionIndex),e.mobileReload("next-question-clicked")}),e.$on("showResultsClicked",function(){e.showResultsPage(),e.mobileReload("show-results-clicked")}),e.$on("backToResultsClicked",function(){e.quizState="results_page",e.mobileReload("back-to-results-clicked")}),e.$on("revisitQuestionClicked",function(t,i){e.showQuestion(i,!0),e.mobileReload("revisit-question-clicked")}),e.$on("startQuizClicked",function(){function t(){e.showFirstQuestion();var t=o.getCurriculumItem("quiz",e.quiz.id);o.markCurriculumItemAsStarted(t)}e.latestQuizAttempt?t():e.createNewAttempt().then(t),e.mobileReload("start-quiz-clicked")})}}}Object.defineProperty(t,"__esModule",{value:!0}),i(565);var s=i(7),r=babelHelpers.interopRequireDefault(s),o=i(1867),a=babelHelpers.interopRequireDefault(o),l=i(1779),c=babelHelpers.interopRequireDefault(l),u=i(2023),d=babelHelpers.interopRequireDefault(u),h=i(2078),p=babelHelpers.interopRequireDefault(h),f=i(2513),g=babelHelpers.interopRequireDefault(f),m=i(2514),v=babelHelpers.interopRequireDefault(m),b=i(2515),w=babelHelpers.interopRequireDefault(b),y=i(1846),A=babelHelpers.interopRequireDefault(y),k=i(3033),C=babelHelpers.interopRequireDefault(k),x=i(1847),_=babelHelpers.interopRequireDefault(x);t["default"]=r["default"].module("ng/apps/course-taking-v4/quiz-view/simple-quiz-page.ng-directive",[a["default"].name,c["default"].name,d["default"].name,p["default"].name,g["default"].name,v["default"].name,w["default"].name,A["default"].name,_["default"].name]).directive("simpleQuizPage",["$q","$location","$window","$timeout","$state","Curriculum","assessmentService","quizTrackingService","Quiz",n])},2518:function(e,t,i){"use strict";function n(){return{scope:!0,restrict:"E",link:function(e,t){e.blankIndex=t.attr("data-order"),e.blank=e.question.answers[e.blankIndex],e.blank.empty=!0,e.fillChanged=function(){e.blank.fill&&e.blank.empty?(e.blank.empty=!1,e.question.fill_count+=1):e.blank.fill||e.blank.empty||(e.blank.empty=!0,e.question.fill_count-=1)}},templateUrl:c["default"]}}Object.defineProperty(t,"__esModule",{value:!0});var s=i(7),r=babelHelpers.interopRequireDefault(s),o=i(40),a=babelHelpers.interopRequireDefault(o),l=i(3034),c=babelHelpers.interopRequireDefault(l);t["default"]=r["default"].module("ng/apps/course-taking-v4/quiz-view/u-blank.ng-directive",[a["default"].name]).directive("uBlank",n)},2519:function(e,t,i){"use strict";function n(e,t,i,n,s,o,l,u,d,h){function p(e){c["default"].Feedback.fromText(e,"error")}function f(t){t.location=e.courseReview.location,e.courseReview.set(t)}function m(){l.save(e.courseReview,e.course.id).then(function(t){f(t),e.reviewSM.is("survey")&&i(function(){y()},2e3),e.reviewSM.forward()},p.bind(this,A))}function v(){return void 0===e.courseReview.rating?void e.showError(this.ratingErrorText):(e.sendGoogleAnalyticsEvent("create"),void m())}function b(){e.sendGoogleAnalyticsEvent("update"),m()}function y(){s.courseReview.location===s.reviewLocations.courseTakingFinal?o.go("base.dashboard.questions",null,o.ANIMATION_TYPE.loading):e.$emit("gotointerstitial",{id:t.curriculumItem.id,type:t.curriculumItem.type,_forceInterstitial:!0})}e.experimentVariant=d.getValue("reviewVariant","default"),e.experiment={},e.isUfbUser=g["default"].brand.has_organization,e.surveyDirectiveActions={},e.course=n,e.courseReview=s.courseReview,e.reviewEnabled=function(){return g["default"].brand.is_add_reviews_enabled&&(e.isInstructor||(void 0==e.course.features||e.course.features.reviews_view)&&!e.isPreviewer)},e.updateCourseRating=function(t){e.courseReview.rating=t,e.reviewSM.is("rating")&&e.reviewSM.forward()};var A=u.getString("Error happened while saving your review. Please submit your review again.");e.sendGoogleAnalyticsEvent=function(t,i){var n={location:e.courseReview.location,experimentVariant:e.experimentVariant};i&&r["default"].extend(n,i),w["default"].track("coursetaking","Review",t,null,null,n,{objectType:"review",objectId:e.courseReview.id})};var k=void 0;k=e.courseReview.rating?"feedback":["B","C"].includes(e.experimentVariant)?"prompt":"rating",e.reviewSM=a["default"].create({initial:k,events:[{name:"forward",from:"prompt",to:"rating"},{name:"forward",from:"rating",to:"feedback"},{name:"forward",from:"feedback",to:"survey"},{name:"forward",from:"survey",to:"complete"},{name:"back",from:"survey",to:"feedback"}]}),e.saveReview=function(){e.courseReview.id?b():v()},e.saveSurvey=function(){e.surveyDirectiveActions.save()["catch"](p.bind(this,A)).then(e.saveReview)},e.cancelReview=function(t){e.sendGoogleAnalyticsEvent("cancel",{dontAsk:t}),y(),t&&h.save({course_id:e.course.id},{setting:"review-prompt-disabled",value:"true"})}}Object.defineProperty(t,"__esModule",{value:!0});var s=i(7),r=babelHelpers.interopRequireDefault(s),o=i(1821),a=babelHelpers.interopRequireDefault(o),l=i(249),c=babelHelpers.interopRequireDefault(l),u=i(1830),d=babelHelpers.interopRequireDefault(u),h=i(569),p=babelHelpers.interopRequireDefault(h),f=i(35),g=babelHelpers.interopRequireDefault(f),m=i(135),v=babelHelpers.interopRequireDefault(m),b=i(1722),w=babelHelpers.interopRequireDefault(b),y=i(2330),A=babelHelpers.interopRequireDefault(y),k=i(1866),C=babelHelpers.interopRequireDefault(k),x=i(2077),_=babelHelpers.interopRequireDefault(x);t["default"]=r["default"].module("ng/apps/course-taking-v4/review/review-prompt.ng-controller",[_["default"].name,d["default"].name,A["default"].name,C["default"].name,v["default"].name,p["default"].name]).controller("ReviewPromptController",n),n.$inject=["$scope","$stateParams","$timeout","CurrentCourse","reviewPromptService","AnimatedStateChangeService","courseReviewService","gettextCatalog","ExperimentService","UserCourseSettings"]},2520:function(e,t,i){"use strict";function n(){function e(e,t,i,n,s){function r(){return i.isOpen=!0,e.setClass(t,"nav-open","nav-close")}function o(){return i.isOpen=!1,e.setClass(t,"nav-close","nav-open")}function a(){return u.isOpen()?u.close():u.open()}function l(){return i.isOpen}function c(){return t}var u=this;u.open=r,u.close=o,u.toggle=a,u.isOpen=l,u.getElement=c;var d=s.register(n.sidenavId,u);i.$on("$destroy",function(){d()})}return e.$inject=["$animate","$element","$scope","$attrs","SidenavService"],{restrict:"E",replace:!0,transclude:!0,scope:{isOpen:"=?"},templateUrl:d["default"],controller:e}}Object.defineProperty(t,"__esModule",{value:!0});var s=i(7),r=babelHelpers.interopRequireDefault(s);i(379);var o=i(40),a=babelHelpers.interopRequireDefault(o),l=i(2332),c=babelHelpers.interopRequireDefault(l),u=i(3036),d=babelHelpers.interopRequireDefault(u),h=r["default"].module("ng/apps/course-taking-v4/sidenav/sidenav.ng-directive",["ngAnimate",a["default"].name,c["default"].name]).directive("sidenav",n);t["default"]=h},2729:function(e,t,i){var n,s;n=[i(7)],s=function(e){function t(t){function i(i,n,s){function r(){Math.abs(a[0].getBoundingClientRect().top)>a[0].clientHeight-l[0].clientHeight/2?a.hasClass(u)||a.addClass(u):a.hasClass(u)&&a.removeClass(u)}var o=e.element(t),a=n.find("header"),l=e.element('<div class="sticky-header"></div>'),c="ng-sticky-fixed",u=s.stickyNav||c;a.append(l),o.bind("resize",function(){a.removeClass(u),r()}),n.bind("scroll",function(){r()})}return{scope:{},restrict:"A",link:i}}return e.module("ng/directives/common/sticky-nav.ng-directive",[]).directive("stickyNav",["$window",t])}.apply(t,n),!(void 0!==s&&(e.exports=s))},2732:function(e,t,i){"use strict";function n(e,t,i,n,s,r,o){return{restrict:"E",templateUrl:w["default"],scope:{courseId:"=",earlyAccess:"="},link:function(l,c,u){function d(){r.get().$promise.then(function(e){var t=e.results[0];l.periodEnd=(0,a["default"])(t.period_end).format("MMMM Do")}),l.coursesLoaded=!1,s.get({aggregate:!0,redeem:!0}).$promise.then(function(e){l.coursesLoaded=!0,l.courseData=e,l.hasReward=e.has_reward,l.numReviewsLeft=2-e.num_completed_current,l.redeemableCourses=l.courseData.results})}var h="udemy.earlyAccessWatched_"+l.courseId,p=1e3,f=5e3,g=l.courseId,m="course-taking",v=void 0,b=void 0,w=void 0;l.myCoursesUrl="/home/my-courses/early-access/",n.get({courseId:g}).$promise.then(function(e){b=e.results[0],l.earlyAccess.statusComplete="completed"===b.status,l.earlyAccess.shouldShow=!0,l.earlyAccess.isExpired=!1,l.expiration=b.expiration_time}),l.openSurveyAndPauseVideo=function(){l.earlyAccess.surveyOpen=!0,e.$broadcast("pausecontent")},l.saveSurvey=function(){l.saving=!0,l.errorMessage="",l.surveyDirectiveActions.save().then(function(){l.earlyAccess.surveyOpen=!1})["catch"](l.errorHandler)["finally"](function(){l.saving=!1})},l.submitSurvey=function(){l.submitting=!0,l.errorMessage="",A["default"].trace("early-access",{courseId:g,onPage:m,watchedTime:w,action:"submitting-survey"}),l.surveyDirectiveActions.save().then(function(){n.update({id:b.id},{status:"completed"}).$promise.then(function(){d(),l.earlyAccess.surveyComplete=!0,A["default"].trace("early-access",{courseId:g,onPage:m,watchedTime:w,action:"submitted-survey"}),e.$broadcast("pausecontent"),i.remove(h)})["catch"](l.errorHandler)["finally"](function(){l.submitting=!1})})},l.errorHandler=function(e){throw l.errorMessage="Sorry something went wrong, try again?",new Error("Early access course taking survey API error: "+e.status)},l.expirationHandler=function(){e.$broadcast("pausecontent")},l.continueViewing=function(){l.earlyAccess.statusComplete=!0,l.earlyAccess.surveyOpen=!1},l.redeemReward=function(e,t){e.preventDefault(),l.redeemingCourseId=t.id,A["default"].trace("early-access",{courseId:g,onPage:m,watchedTime:w,action:"redeeming-reward"}),n.update({id:t.early_access.id},{redeemReward:!0}).$promise.then(function(e){l.hasReward=!1,l.hasRedeemed=!0,l.redeemedCourse=t,l.redeemedCourse.early_access=e,l.redeemedCourse.early_access.showTimeLeft=!0,l.redeemedCourse.early_access.textClass="bold text-orange",A["default"].trace("early-access",{courseId:g,onPage:m,watchedTime:w,action:"redeemed-reward"})})["catch"](function(e){o("Sorry something went wrong, try again?").then(function(){throw new Error("Early access redeem reward error: "+e.status+" for id "+t.early_access.id)})})["finally"](function(){l.redeemingCourseId=null})},l.$watchCollection("userAnswers",function(e){var t=Object.values(e);l.surveyFormComplete=t.slice(0,t.length-2).every(function(e){return e})});var y=e.$on("videoplayerplay",function(){t.cancel(v),v=t(function(){return l.earlyAccess.statusComplete?(t.cancel(v),void i.remove(h)):(w=i.get(h)||0,l.watchedEnough=w>f,void i.set(h,w+p))},p)}),k=e.$on("videoplayerpause",function(){t.cancel(v)});l.$on("$destroy",function(){y(),k(),t.cancel(v)})}}}Object.defineProperty(t,"__esModule",{value:!0});var s=i(7),r=babelHelpers.interopRequireDefault(s);i(2402);var o=i(162),a=babelHelpers.interopRequireDefault(o),l=i(567),c=babelHelpers.interopRequireDefault(l),u=i(1818),d=babelHelpers.interopRequireDefault(u),h=i(2125),p=babelHelpers.interopRequireDefault(h),f=i(2126),g=babelHelpers.interopRequireDefault(f),m=i(2733),v=babelHelpers.interopRequireDefault(m),b=i(3152),w=babelHelpers.interopRequireDefault(b),y=i(374),A=babelHelpers.interopRequireDefault(y),k=i(1727),C=babelHelpers.interopRequireDefault(k);t["default"]=r["default"].module("ng/directives/early-access/early-access-footer.ng-directive",["LocalStorageModule",c["default"].name,d["default"].name,p["default"].name,g["default"].name,v["default"].name,C["default"].name]).directive("earlyAccessFooter",n),n.$inject=["$rootScope","$interval","localStorageService","EarlyAccess","EarlyAccessCourse","UserEarlyAccessSettings","udConfirm"]},2733:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(7),s=babelHelpers.interopRequireDefault(n),r=i(40),o=babelHelpers.interopRequireDefault(r),a=i(566),l=babelHelpers.interopRequireDefault(a),c=i(3153),u=babelHelpers.interopRequireDefault(c),d=i(1850),h=babelHelpers.interopRequireDefault(d),p=s["default"].module("ng/directives/early-access/early-access-review-star.ng-directive",[o["default"].name,l["default"].name,h["default"].name]).directive("earlyAccessReviewStar",function(){return{restrict:"E",templateUrl:u["default"],scope:{userAnswers:"=",answerOptions:"=",questionId:"@"},controller:["$scope",function(e){e.getCurrentRating=function(){var t=e.userAnswers[e.questionId];if(!t)return!1;var i=e.answerOptions.filter(function(e){return e.id===t})[0];return e.currentRating=parseFloat(i.text),e.currentRating},e.updateHoverRating=function(t){e.hoverRating=t},e.getCurrentHoverRating=function(){return e.hoverRating||e.currentRating||e.getCurrentRating()},e.starClicked=function(t,i){t.stopPropagation(),t.preventDefault();var n=e.answerOptions.filter(function(e){return parseFloat(e.text)===i})[0];e.userAnswers[e.questionId]=n.id}}]}});t["default"]=p},2734:function(e,t,i){"use strict";function n(){return{restrict:"A",link:function(e,t,i){a["default"].features.course.is_early_access&&t.hide()}}}Object.defineProperty(t,"__esModule",{value:!0});var s=i(7),r=babelHelpers.interopRequireDefault(s),o=i(35),a=babelHelpers.interopRequireDefault(o);t["default"]=r["default"].module("ng/directives/early-access/hide-for-early-access.ng-directive",[]).directive("hideForEarlyAccess",[n])},2765:function(e,t,i){var n,s;(function(r){"use strict";n=[i(7)],s=function(e){e.ensureInView=function(e,t,i){t&&0!=t.length||(t=r(window)),t=t.first();var n=e.position(),s=e.outerHeight(),o=t.scrollTop(),a=t.height(),l=n.top+o,c=100,u=s<=a,d=l>=o,h=l+s<=o+a;d?!h&&u?t.scrollTop(l+s-a+c):h||i&&!(l>o+a-c)||t.scrollTop(l-c):t.scrollTop(l-c)}}.apply(t,n),!(void 0!==s&&(e.exports=s))}).call(t,i(5))},2771:function(e,t,i){var n,s;n=[i(7)],s=function(e){function t(e){var t=function(t,i){function n(){o()}function s(){c.isRunning=!1,d=Date.now(),e.cancel(p),p=null}function r(){null===p?c.start():c.stop()}function o(){if(!h){c.isRunning=!0;var t=d?d-u:0;p=e(function(){c.countdown-=i,c.countdown<=0&&(h=!0,l()),o()},i-t),u=Date.now(),d=null}}function a(e){f.push(e)}function l(){for(var e in f)f[e]()}var c=this,u=null,d=null,h=!1,p=null,f=[];c.isRunning=!1,c.countdown=t,c.start=n,c.stop=s,c.toggle=r,c.onComplete=a};return{getInstance:function(e,i){return new t(e,i)}}}var i=e.module("ng/services/simple-countdown.ng-factory",[]).factory("simpleCountdownFactory",t);return t.$inject=["$timeout"],i}.apply(t,n),!(void 0!==s&&(e.exports=s))},2975:function(e,t){var i="/ng/apps/course-taking-v4/bookmarks/bookmarks.ng-template.html",n='<div class="fullscreen content__bookmarks"> <div class="bookmarks__loading fx-c" ng-if=bookmarksLoading> <div class="udi udi-circle-loader udi-large"></div> </div> <div class="bookmarks__empty fx-c" ng-if="!bookmarksLoading && !bookmarkExist"> <div class=tac> <i class="udi udi-bookmark"></i> <div class=a1 translate>No bookmarks created yet</div> <p translate> Add bookmarks while watching lectures to save moments of a course for later. Bookmarks you\'ve saved will show up here. </p> <p translate> Hint: Use the keyboard shortcut "b" to create bookmarks while watching video lectures. </p> </div> </div> <div class=bookmarks__nonempty ng-if="!bookmarksLoading && bookmarkExist"> <div class=curriculum-navigation> <div ng-repeat="section in sections" ng-if=section.noteCount class="panel curriculum-navigation__section"> <div class=panel-heading> <div class=p20-30> <div class=curriculum-navigation__section__status translate translate-comment="Example: Section 1"> Section {{ section.objectIndex }} </div> <div class=curriculum-navigation__section__title>{{ section.title }}</div> </div> </div> <ul class="panel-body lecture"> <li class=lecture__item ng-repeat="item in section.items" ng-show="item.notes.length > 0"> <div class="lecture__item__link fx-jsb bold mb5"> <span class=mr5>{{ item.objectIndex }}.</span> <span class="lecture__item__link__name db fx">{{ item.title }}</span> </div> <a ng-repeat="note in item.notes | orderBy:\'position\'" class="note lecture__item__link fx-jsb mt5" href=javascript:void(0) ui-sref="base.taking.lecture.start({id:item.id, start:note.position})" course-taking-tracking tracking-category=bookmark tracking-action=dashboard.bookmark-tab.goto-bookmark> <div class=note__position>{{ note.position | humanize }}</div> <div class="note__info fx"> <div class=note__moment>{{ note.created | fromNow }}</div> <div class=note__body>{{ note.body }}</div> </div> </a> </li> </ul> </div> </div> </div> </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(i,n)}]),e.exports=i},2976:function(e,t){var i="/ng/apps/course-taking-v4/curriculum-item-taking.ng-template.html",n='<sidenav sidenav-id=left-curriculum-nav> <curriculum-navigation course-id=course.id sections=sections></curriculum-navigation> <div class="fx-c pt60" ng-if=!sections> <div class="udi udi-circle-loader udi-large"></div> </div> </sidenav> <div ui-view class="timeline-item-taking {{animationClass}}" data-ng-class="{\'course-taking-mobile-app\': isMobileApp}"> </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(i,n)}]),e.exports=i},2977:function(e,t){var i="/ng/apps/course-taking-v4/curriculum/continue-button-directive.ng-template.html",n='<button class=tooltip-container ng-click=continueCourse() ng-disabled="!curriculumItem || nextCurriculumItem === curriculumItem || endOfEarlyAccess" ng-class="[buttonClasses || \'btn btn-sm btn-control btn-continue\',\n                   {\'complete\': curriculumItem.progressStatus === \'completed\'}\n                  ]"> <span ng-if=!curriculumItem> <span class="udi udi-circle-loader udi-small"></span> </span> <span class=btn-control__label>{{ buttonText }}</span> <i class="udi udi-next"></i> <span ng-if=curriculumItem class="tooltip top"> <span class=tooltip-inner> <span ng-if=nextCurriculumItem> <span ng-show="nextCurriculumItem === curriculumItem" translate> There is only one free lecture </span> <span ng-hide="nextCurriculumItem === curriculumItem"> {{ ::nextCurriculumItem.getTranslatedTitle() }} </span> </span> <span ng-if=!nextCurriculumItem> <span ng-show=endOfEarlyAccess translate>End of Early Access Content</span> <span ng-hide=endOfEarlyAccess translate>Course Dashboard</span> </span> </span> </span> </button>';window.angular.module("ng").run(["$templateCache",function(e){e.put(i,n)}]),e.exports=i},2978:function(e,t){var i="/ng/apps/course-taking-v4/curriculum/curriculum-item-controls.ng-template.html",n='<div class=btn-group> <div class="btn-group dropdown dropup open-on-hover dropdown--settings" ng-show=hasMenuItems()> <div data-toggle=dropdown style=display:none></div> <button class="btn btn-sm btn-icon" href=javascript:void(0)> <i class="udi udi-settings"></i> </button> <ul class="dropdown-menu dropdown-menu-bottom dropdown-menu-right"> <li ng-if=downloadEnabled> <a ng-href="{{ downloadUrl }}" target=_self translate> Download Lecture </a> </li> <li ng-if="!isMobileBrowser && hotkeysEnabled"> <a href=javascript:void(0) ng-click=showHotkeys() translate> Keyboard Shortcuts </a> </li> <li ng-if=reportEnabled()> <a href=javascript:void(0) ng-click=showReport()> <i class="udi udi-flag"></i> <span class=ml5 translate>Report Abuse</span> </a> <report-abuse btn-class="\'hidden\'" object-type=reportType object-id=reportId> </report-abuse> </li> </ul> </div> <div class="btn-group dropdown dropup open-on-hover dropdown--settings" ng-if=!isMobileBrowser> <div data-toggle=dropdown style=display:none></div> <button class="btn btn-sm btn-icon" ng-click=toggleFullscreen()> <i class=udi ng-class="isFullscreen() ? \'udi-exit-fullscreen\' : \'udi-fullscreen\'"></i> </button> <ul class="dropdown-menu dropdown-menu-right dropdown-menu-bottom"> <li> <a class=player-tooltip href=javascript:void(0) translate>Fullscreen</a> </li> </ul> </div> </div>';window.angular.module("ng").run(["$templateCache",function(e){
e.put(i,n)}]),e.exports=i},2979:function(e,t){var i="/ng/apps/course-taking-v4/curriculum/curriculum-navigation-button-directive.ng-template.html",n='<div class=course-taking__overlay ng-class="{\'transparent\': curriculumNavigationButtonController.isOpen()}" ng-show=curriculumNavigationButtonController.isOpen() ng-click=curriculumNavigationButtonController.close() user-active-on active-when=curriculumNavigationButtonController.isOpen()> </div> <div class="sidenav-toggle-button-group hide-when-user-inactive" ng-class="{\'nav-open\': sidenavInView}" ng-click="currentSectionItem && curriculumNavigationButtonController.toggle()" user-active-on active-when=curriculumNavigationButtonController.isOpen()> <div class=fx-lc> <button class="btn btn-control toggle-btn"> <span ng-if=currentSectionItem> <i class=udi ng-class="curriculumNavigationButtonController.isOpen() ? \'udi-close\' : \'udi-curriculum\'"></i> </span> <span ng-if=!currentSectionItem> <span class="udi udi-circle-loader udi-small"></span> </span> </button> <div class=course-info ng-if=showTitle> <div class=course-info__title data-ng-bind=currentSectionItem.title></div> <div class="course-info__section hidden-xs"> {{ ::currentSectionItem.getTranslatedEnum(currentSection.objectIndex) }} </div> </div> </div> <div ng-if=!isFreePreviewer class="btn resources-available-tooltip hidden-xs" ng-show="currentSectionItem.supplementaryAssets.length > 0"> <i class="udi udi-folder-open"></i> <span class=resources-available-tooltip__text translate>Resources available</span> </div> </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(i,n)}]),e.exports=i},2980:function(e,t){var i="/ng/apps/course-taking-v4/curriculum/curriculum-navigation-directive.ng-template.html",n="<nav class=curriculum-navigation data-purpose=curriculum-panel> <div class=panel-group id=accordion role=tablist aria-multiselectable=true> <div ng-repeat=\"section in sections|toArray|orderBy:'-sortOrder'\"> <curriculum-navigation-section section=section ng-class=\"{'current-section': section.current, 'first': $first}\"> </curriculum-navigation-section> </div> </div> </nav>";window.angular.module("ng").run(["$templateCache",function(e){e.put(i,n)}]),e.exports=i},2981:function(e,t){var i="/ng/apps/course-taking-v4/curriculum/curriculum-navigation-section-directive.ng-template.html",n='<div class="panel curriculum-navigation__section" ng-class="{{ section.progressStatus }}"> <div class=panel-heading role=tab id="{{ sectionId }}"> <a role=button data-toggle=collapse data-parent=#accordion ng-click="section.isOpen = !section.isOpen" ng-attr-aria-expanded="{{ section.isOpen ? \'true\' : \'false\' }}" ng-attr-aria-controls="{{ collapsibleContentId }}"> <div class="fx-jsb curriculum-navigation__section__status"> <span class=cur-section translate-comment="Example: Section 1" ng-if=section.isPublished> <span translate>Section:</span> {{ section.objectIndex }} </span> <span class=cur-section ng-if=!section.isPublished translate> Unpublished Section </span> <span class=cur-status ng-class="{\'text-link-blue bold\': section.numCompletedItems === section.items.length}"> <span ng-class="{\'text-link-blue bold\': section.numCompletedItems}">{{ section.numCompletedItems }} </span> <span>/ {{ section.items.length }}</span> </span> </div> <div class=curriculum-navigation__section__title> {{ section.title }} </div> </a> </div> <div ng-attr-id="{{ collapsibleContentId }}" collapse=!section.isOpen class="panel-collapse collapse" role=tabpanel aria-labelledby="{{ sectionId }}"> <ul class="panel-body lecture"> <li class=lecture__item ng-repeat="item in section.items" ng-class=getItemCssClass(item)> <a ng-click=goToItem(item) class="lecture__item__link fx-jsb" course-taking-tracking tracking-category="Lecture Sidebar" tracking-action="lecture visit"> <span class=lecture__item__link__icon> <i ng-class=::item.getIconCssClass()></i> </span> <span class=fx> <span ng-if=item.isPublished> <span class=mr5 ng-show="item.type === \'lecture\'"> {{ item.objectIndex }}. </span> <span class=mr5 ng-show="item.type !== \'lecture\'"> <span class=text-capitalize>{{ item.localizedType }}</span> <span>{{ item.objectIndex }}:</span> </span> </span> <span ng-if=!item.isPublished class=text-capitalize translate translate-comment="Example: Unpublished Lecture: Lecture Title"> Unpublished {{ item.localizedType }}: </span> <span class=lecture__item__link__name>{{ item.title }}</span> </span> <span class="lecture__item__link__time mr20" ng-style="item.length ? {} : {opacity: 0}">{{ item.length | humanize}}</span> <span ng-click="toggleProgress($event, item)" ng-class="{\'disabled\': progressDisabled(item)}" class="tooltip-container lecture__item__link__icon lecture__item__link__progress"> <i class="bold udi udi-check"></i> <i class="icon-spin udi udi-spinner"></i> <span ng-if=progressDisabled(item) class="tooltip left" translate> <span class=tooltip-arrow></span> <span class=tooltip-inner> Progress cannot be reset for this item. </span> </span> </span> </a> <resources-list class=lecture__resources resources=item.supplementaryAssets api-resource=SupplementaryAsset api-params="{courseId: section.courseId, lectureId: item.id}"> </resources-list> </li> </ul> </div> </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(i,n)}]),e.exports=i},2982:function(e,t){var i="/ng/apps/course-taking-v4/curriculum/resources-list.ng-template.html",n='<ul ng-show="resources.length > 0" ng-class="isFreePreviewer ? \'disabled\' : \'\'"> <li class=resources__link ng-repeat="resource in resources | limitTo: limit" ng-class="{\'mini-tooltip2 pull-tooltip-top\': resource.external_url}"> <a ng-click="requestDownloadResource($event, resource)" ng-class="isFreePreviewer ? \'disabled\' : \'\'" course-taking-tracking tracking-category=Curriculum tracking-action="{{ getResourceTrackingAction(resource) }}" ng-attr-target="resource.external_url ? \'_blank\' : \'_self\'"> <i class=udi ng-class="{\'udi-download\': !resource.external_url, \'udi-link\': resource.external_url}"></i> <span class=resource-list__link__text>{{ resource.title }}</span> <span ng-if=resource.loading> <span class="udi udi-circle-loader udi-small"></span> </span> </a> </li> <a class=resources__more-button ng-click="limit = limit + 10" ng-show="resources.length > 3 && limit < resources.length" translate> Show more ({{ resources.length - limit }}) </a> </ul>';window.angular.module("ng").run(["$templateCache",function(e){e.put(i,n)}]),e.exports=i},2983:function(e,t){var i="/ng/apps/course-taking-v4/dashboard-button-directive/dashboard-button-directive.ng-template.html",n='<a class="btn btn-control" ng-click=goToDashboard() data-purpose=go-to-dashboard> <span translate>Go to Dashboard</span> </a>';window.angular.module("ng").run(["$templateCache",function(e){e.put(i,n)}]),e.exports=i},2984:function(e,t){var i="/ng/apps/course-taking-v4/dashboard/announcements.ng-template.html",n='<a ng-if="num_announcements > 0" class="db mt20" ui-sref=base.dashboard.announcements ui-sref-opts="{ inherit: false }" translate>Back to All Announcements</a> <div class=content__announcements> <div ng-if=announcementsLoading> <div class=fx-c> <div class="udi udi-circle-loader udi-large m60"></div> </div> </div> <div ng-if=!announcementsLoading> <div ng-if="announcements.length === 0" class=announcements__empty> <div class=tac> <div class=a1 translate>No announcements posted yet.</div> <p translate> The instructor hasn’t added any announcements to this course yet. Announcements are used to inform you of updates or additions to the course. </p> </div> </div> <div ng-if="announcements.length > 0"> <div ng-repeat="announcement in announcements" class=panel> <div class="panel-heading announcement__details"> <img ng-src="{{ announcement.user.image_50x50 }}" width=50 height=50 alt=""/> <div> <span translate translate-comment="Example: Steve Carell posted an announcement"> <a ng-href="{{ announcement.user.url }}" target=_blank> {{ announcement.user.name }} </a> posted an announcement </span> <span>&#8231;{{ announcement.created | fromNow }}</span> <span ng-if=reportAbusePopup.enabled class=button-group__report-abuse> &#8231; <report-abuse btn-class="\'btn-link\'" object-type="\'courseannouncement\'" object-id=announcement.id></report-abuse> </span> </div> </div> <div class=panel-body> <div ng-if=!!announcement.title class=a2> {{ announcement.title }} </div> <div ng-bind-html=announcement.content class=announcement__body></div> <comment-thread comment-resource=commentResource comment-resource-path-params="{announcementId: announcement.id}" comment-thread=announcement.comment_thread> </comment-thread> </div> </div> </div> </div> </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(i,n)}]),e.exports=i},2985:function(e,t){var i="/ng/apps/course-taking-v4/dashboard/content.ng-template.html",n='<div class=content__curriculum> <div class="row m10-5"> <div class="curriculum__search-box col-sm-4"> <div class="input-group ud-search"> <input type=text class=form-control placeholder="{{ \'Search\'|translate }}" ng-model=searchPhrase ng-model-options="{debounce: 250}" ng-change=setSearch() ng-disabled=!sections /> <span class=input-group-btn> <button type=button class="btn btn-primary" aria-label=Search> <span class="udi udi-search"></span> </button> </span> </div> </div> <div class="curriculum__filters col-sm-8"> <div class=tooltip-container> <button ng-disabled="!enableExpandSections || !sections" class="btn btn-link" ng-class="{\'bold btn-text\': activeState === \'collapse\'}" ng-click=setOpenAll(false)> <span translate>Current Section</span> </button> <span ng-if=!enableExpandSections class="tooltip tooltip-neutral bottom"> <span class=tooltip-inner translate> There is only one section for this course </span> </span> </div> <div class=tooltip-container> <button ng-disabled="!enableExpandSections || !sections" class="btn btn-link" ng-class="{\'bold btn-text\': activeState === \'expand\'}" ng-click=setOpenAll(true)> <span translate>All Sections</span> </button> <span ng-if=!enableExpandSections class="tooltip tooltip-neutral bottom"> <span class=tooltip-inner translate> There is only one section for this course </span> </span> </div> <div class=tooltip-container> <button ng-disabled="!enableViewResources || !sections" class="btn btn-link" ng-class="{\'bold btn-text\': activeState === \'resources\'}" ng-click=setFilterResources()> <span translate>All Resources</span> </button> <span ng-if=!enableViewResources class="tooltip tooltip-neutral bottom"> <span class=tooltip-inner translate> There are no resources for this course </span> </span> </div> </div> </div> <div class="curriculum__empty fx-c" ng-if="filterResults == 0"> <div class=tac> <div class=a1 translate>No lectures or resources found</div> <p translate> We couldn\'t find the content you searched for. Try searching for the name of a lecture or resource. </p> </div> </div> <curriculum-navigation course-id=courseId sections=sections></curriculum-navigation> <div class=fx-c ng-if=!sections> <div class="udi udi-circle-loader udi-large"></div> </div> </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(i,n)}]),e.exports=i},2986:function(e,t){var i="/ng/apps/course-taking-v4/dashboard/dashboard.ng-template.html",n='<div> <div class=course-dashboard__top> <div class="top--container container"> <a class="top__image hidden-xs" ng-click=gotoNextCurriculumObject()> <img ng-src="{{ course.image_480x270 }}"> <div class=image__overlay ng-class=ctaOverlayClass></div> </a> <div class="top__detail pos-r"> <div class=fx-lc> <div class="fx detail__course-title" ng-bind="course.title || \'&nbsp;\'"></div> </div> <a class="btn btn-primary btn-lg detail__continue-button" data-purpose=continue-to-lecture ng-click=gotoNextCurriculumObject() ng-if=nextCurriculumObject translate> Continue to {{ nextCurriculumObject.localizedType }} {{ nextCurriculumObject.objectIndex }} </a> <popup-review ng-if=reviewEnabled() event-source-page=Dashboard course=course load-review=true is-instructor=isInstructor star-label-size=large auto-open=autoOpenReviewPopup class="fxw mt10"></popup-review> <div class=detail__progress> <div class=fx-lb> <div class=fx> <span ng-if="progressInfo.completionRatio > 0" ng-bind-html="progressInfo.progressString | translate"> </span> <a ng-if="progressInfo.completionRatio > 0 && !hasOrganization" translate ng-click=confirmResetProgress() class="detail__progress__reset ml10"> Reset progress </a> <div ng-if="progressInfo.completionRatio === 0"> <span translate>Get started</span> (<span ng-bind-html="progressInfo.progressString | translate"></span>) </div> <div class=progress__bar ng-class="{\'no_trophy\': !course.has_certificate}"> <div class=bar__completed ng-style="{width: progressInfo.completionRatio + \'%\'}"></div> </div> </div> <a ng-href="{{(certificate && certificate.is_ready) ? certificate.long_url : \'\'}}" target=_blank> <div ng-if=course.has_certificate class="tooltip-container ucp-certificate" ng-class=getCertificateStatusClass()> <i class="udi udi-trophy ucp-certificate-icon"></i> <div class=progress> <div class="bar bar-success"></div> </div> <div class="tooltip tooltip-neutral left" ng-if="getCertificateStatusClass() == \'certificate-not-ready\'"> <span class="tooltip-inner certificate-not-ready-text" translate> You need to finish this course to get your certificate of completion! </span> </div> <div class="tooltip tooltip-neutral left" ng-if="getCertificateStatusClass() == \'certificate-in-progress\'"> <span class="tooltip-inner certificate-in-progress-text" translate> Your completion certificate is being prepared! </span> </div> <div class="tooltip tooltip-neutral left" ng-if="getCertificateStatusClass() == \'certificate-ready\'"> <span class="tooltip-inner certificate-ready-text"> <a ng-href={{certificate.long_url}} target=_blank translate> Click to access your certificate! </a> </span> </div> </div> </a> </div> </div> </div> </div> </div> <div class=course-dashboard__bottom> <nav class="navbar navbar-default bottom__nav"> <div class=container> <div class=navbar-header> <div class=fx> <span class=navbar-header__title> {{ currentStateName | translate }} </span> </div> <div> <button class="btn btn-default btn-lg toggle-btn" type=button ng-click="navbarCollapsed = !navbarCollapsed" data-target=#course-taking-bottom-navbar ng-attr-aria-expanded="{{ navbarCollapsed ? \'false\' : \'true\' }}"> <span class=sr-only>Toggle navigation</span> <i class="udi udi-reorder"></i> </button> </div> </div> <div class="collapse navbar-collapse" id=course-taking-bottom-navbar collapse=navbarCollapsed> <ul class="nav navbar-nav nav-tabs"> <li ui-sref-active=active> <a ui-sref=base.dashboard.overview ng-click="navbarCollapsed = true" translate>Overview</a> </li> <li ui-sref-active=active> <a ui-sref=base.dashboard.content ng-click="navbarCollapsed = true" translate course-taking-tracking tracking-category=dashboard tracking-action=visit-content-tab> Course Content</a> </li> <li ng-class="{active: (\'base.dashboard.questions\' | includedByState) || (\'base.dashboard.question-details\' | includedByState)}"> <a ui-sref=base.dashboard.questions ng-click="navbarCollapsed = true" translate course-taking-tracking tracking-category=dashboard tracking-action=visit-question-tab>Q&amp;A</a> </li> <li ui-sref-active=active> <a ui-sref=base.dashboard.bookmarks ng-click="navbarCollapsed = true" translate course-taking-tracking tracking-category=dashboard tracking-action=visit-bookmark-tab>Bookmarks</a> </li> <li ui-sref-active=active> <a ui-sref=base.dashboard.announcements ng-click="navbarCollapsed = true" translate>Announcements</a> </li> <li ui-sref-active=active class=dropdown> <a href=# id=dLabel class=dropdown-toggle data-toggle=dropdown role=button aria-haspopup=true aria-expanded=false> <span class=mr5 translate>Options</span> <i class="udi udi-caret-down"></i> </a> <ul class=dropdown-menu role=menu aria-labelledby=dLabel ng-click=$event.stopPropagation(); ng-include=optionsDropdownTemplateUrl></ul> </li> </ul> </div> </div> </nav> <div class="bottom__content container" data-ui-view> </div> </div> <span open-modal auto-open=openSurvey enable-loader=true on-close=onGoalsSurveyClose() has-header=true backdrop=static href="{{ ::course.student_goals_survey_url }}"> <span system-message message-id=student_goals_survey object-type=course object-id=course.id> </span> </span> </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(i,n)}]),e.exports=i},2987:function(e,t){var i="/ng/apps/course-taking-v4/dashboard/options-dropdown-instructor.ng-template.html",n='<li role=presentation ng-repeat="(key, value) in course.notification_settings track by $id(key)"> <email-setting course-id=course.id disabled=course.notification_settings.disableAllEmails setting-key=key setting-value=value ng-hide="key == \'disableAllEmails\'"></email-setting> </li>';window.angular.module("ng").run(["$templateCache",function(e){e.put(i,n)}]),e.exports=i},2988:function(e,t){var i="/ng/apps/course-taking-v4/dashboard/options-dropdown-student.ng-template.html",n='<li role=presentation> <a role=menuitem tabindex=-1 ng-click=course.favoriteCourse() ng-if=!course.favorite_time translate>Favorite this course</a> <a role=menuitem tabindex=-1 ng-click=course.unfavoriteCourse() ng-if=course.favorite_time translate>Unfavorite this course</a> </li> <li role=presentation> <a role=menuitem tabindex=-1 ng-click=course.archiveCourse() ng-if=!course.archive_time translate>Archive this course</a> <a role=menuitem tabindex=-1 ng-click=course.unarchiveCourse() ng-if=course.archive_time translate>Unarchive this course</a> </li> <li role=presentation class=divider></li> <li role=presentation><a role=menuitem tabindex=-1 ng-click=scrollToInstructor() translate>Instructor profile</a></li> <li role=presentation><a role=menuitem tabindex=-1 ng-show="isGiftCourseEnabled && course.is_paid && !course.is_private" ng-href="{{ course.gift_url }}" target=_blank translate>Gift this course</a></li> <li role=presentation><a role=menuitem tabindex=-1 ng-href="{{ supportHomeUrl }}" target=_blank translate>Support</a></li> <li role=presentation ng-if=reportAbusePopup.enabled> <a role=menuitem tabindex=-1 ng-click="reportAbusePopup.open=true"> <i class="udi udi-flag mr5"></i> <span translate>Report abuse</span> <popup open=reportAbusePopup.open ng-href="/feedback/report?related_object_type=course&related_object_id={{course.id}}"> </popup> </a> </li> <li role=presentation class=divider></li> <li role=presentation ng-repeat="(key, value) in course.notification_settings track by $id(key)"> <email-setting course-id=course.id disabled=course.notification_settings.disableAllEmails setting-key=key setting-value=value ng-hide="key == \'disableAllEmails\'"></email-setting> </li> <li role=presentation class=divider></li> <li role=presentation> <a href=javascript:void(0) ng-if=course.canBeUnenrolled ng-click=unenrollFromCourse($event) class=unsubscribe translate> Unenroll from course </a> <div ng-if=course.refundFeatureEnabled> <a target=_blank ng-href="{{ getCourseRefundUrl() }}" ng-show="course.was_purchased_by_student && !course.canBeUnenrolled" ng-class="{\'unsubscribe\': course.is_refundable, \'cannot-refund\': !course.is_refundable}" class="pl10 pb10" translate> Request a refund </a> <div ng-hide=course.is_refundable class=cannot-refund-info> <div ng-show=course.was_paid_by_student translate> This course was purchased outside the 30-day refund policy and cannot be refunded. </div> <div ng-show=!course.was_paid_by_student translate> This course was a free enrollment and cannot be refunded. </div> </div> </div> </li>';window.angular.module("ng").run(["$templateCache",function(e){e.put(i,n)}]),e.exports=i},2989:function(e,t){var i="/ng/apps/course-taking-v4/dashboard/overview.ng-template.html",n='<div class=content__overview> <h3 id=recent-activity translate>Recent Activity</h3> <div class="row mt30"> <div class=col-sm-6> <div class="panel panel-default"> <div class=recent-header translate>Recent Questions</div> <div class=fx-c ng-show=questions.loading> <span class="udi udi-circle-loader udi-large m60"></span> </div> <div ng-hide=questions.loading> <div ng-show=questions.data.length ng-repeat="question in questions.data | limitTo:3" class="fx-lc recent-list"> <img ng-src="{{ question.user.image_50x50 }}" ng-class="{\'img-circle\': !question.is_instructor}"/> <div class="fx pl10"> <a ui-sref=base.dashboard.question-details({id:question.id}) class="ellipsis text-dark-grey" course-taking-tracking tracking-category=overview tracking-action=dashboard.tab.recent-questions.open-detail>{{ question.title || question.body | replaceImgTag | trimTags }}</a> </div> </div> <div ng-show="questions.data.length === 1"> <div class=recent-list-empty></div> <div class=recent-list-empty></div> </div> <div ng-show="questions.data.length === 2"> <div class=recent-list-empty></div> </div> <div ng-hide=questions.data.length> <h2 class=no-recent-title translate>No recent questions</h2> <div class=no-recent-body translate> You can ask questions throughout the course to get answers from the instructor or other students. </div> </div> <div class=recent-footer> <a ui-sref=base.dashboard.questions course-taking-tracking tracking-category=overview tracking-action=dashboard.tab.recent-questions.visit-question-tab> <span ng-show=questions.data.length translate> Browse all questions</span> <span ng-hide=questions.data.length translate> Post your first question</span> </a> </div> </div> </div> </div> <div class=col-sm-6> <div class="panel panel-default"> <div class=recent-header translate>Recent Instructor Announcements</div> <div class=fx-c ng-show=loadingAnnouncements> <span class="udi udi-circle-loader udi-large m60"></span> </div> <div ng-hide=loadingAnnouncements> <div ng-show=announcements.length ng-repeat="announcement in announcements | limitTo:3" class="fx-lc recent-list"> <img ng-src="{{ announcement.user.image_50x50 }}"/> <div class="fx pl10"> <a class=text-dark-grey ui-sref=base.dashboard.announcements({ids:announcement.id})> <div class=ellipsis ng-show=announcement.title> {{ announcement.title }} </div> <div class=ellipsis ng-hide=announcement.title ng-bind-html="announcement.content | trimTags"> </div> </a> </div> </div> <div ng-show="announcements.length === 1"> <div class=recent-list-empty></div> <div class=recent-list-empty></div> </div> <div ng-show="announcements.length === 2"> <div class=recent-list-empty></div> </div> <div ng-hide=announcements.length> <h2 class=no-recent-title translate>No recent announcements</h2> <div class=no-recent-body translate> Your instructor may post announcements related to the course topic or to inform you of updates. </div> </div> <div class=recent-footer> <a ng-class="{\'disabled\':!announcements.length}" ui-sref=base.dashboard.announcements> <span translate>Browse all announcements</span> </a> </div> </div> </div> </div> </div> <div class=separator></div> <h3 translate>About this course</h3> <div class=course-headline> {{ course.headline }} </div> <div class=separator></div> <div class="row course-section"> <div class="col-xs-3 section-title" translate> By the numbers </div> <ul class=col-xs-4> <li class=list-item> <span translate>Lectures:</span> {{ course.num_published_lectures }} </li> <li class=list-item> <span translate>Video:</span> {{ course.content_info }} </li> <li class=list-item> <span translate>Skill level:</span> {{ course.instructional_level }} </li> </ul> <ul class=col-xs-4> <li class=list-item translate translate-n=course.num_subscribers translate-plural="{{ $count | number }} students"> 1 student </li> <li class=list-item> <span translate>Languages:</span> {{ course.locale.simple_english_title | translate }} </li> <li class=list-item ng-if=course.has_closed_caption translate> Closed Captions </li> </ul> </div> <div class=separator></div> <div class="row course-section"> <div class="col-xs-3 section-title" translate> Features </div> <ul class=col-xs-4> <li ng-if=features.course_landing_page.incentives.lifetime_access translate> Lifetime access </li> <li translate> Available on <a ng-href="{{ iosLink }}" target=_blank>iOS</a> and <a ng-href="{{ androidLink }}" target=_blank>Android</a> </li> </ul> <ul class=col-xs-4> <li ng-if=course.has_coding_exercise translate> Coding Exercises <em class="text-purple bold">New!</em> </li> <li ng-if=course.has_certificate translate> Certificate of Completion </li> </ul> </div> <div class=separator></div> <div class="row course-section"> <div class="col-xs-3 section-title" translate> Description </div> <view-more view-more-style="\'simple\'" class="col-xs-9 course-description"> <div ng-bind-html=course.description></div> <p class=course-description-title ng-if=course.prerequisites> <strong translate>What are the requirements?</strong> </p> <ul ng-if=course.prerequisites> <li ng-repeat="item in course.prerequisites track by $index">{{ item }}</li> </ul> <p class=course-description-title ng-if=course.objectives> <strong translate>What am I going to get from this course?</strong> </p> <ul ng-if=course.objectives> <li ng-repeat="item in course.objectives track by $index">{{ item }}</li> </ul> <p class=course-description-title ng-if=course.target_audiences> <strong translate>What is the target audience?</strong> </p> <ul ng-if=course.target_audiences> <li ng-repeat="item in course.target_audiences track by $index">{{ item }}</li> </ul> </view-more> </div> <div class=separator></div> <h3 id=course-instructor translate translate-n=course.visible_instructors.length translate-plural=Instructors> Instructor </h3> <div class="row course-section" ng-repeat="instructor in course.visible_instructors"> <div class="col-xs-3 section-title"> <img class=instructor-avatar ng-src="{{ instructor.image_200_H }}"> </div> <div class=col-xs-9> <div class=instructor-title> <a ng-href="{{ instructor.url }}">{{ instructor.title }}</a> </div> <div class=instructor-subtitle> {{ instructor.job_title }} </div> <div ng-if=features.course_landing_page.instructor_bio.social_links class="fx-lc instructor-social"> <a ng-repeat="profile in instructor.socialProfiles" ng-if=profile.url ng-href="{{ profile.url }}" target=_blank rel="noreferrer nofollow" class=iconed-btn> <i ng-class=profile.iconType></i> </a> </div> <div class=instructor-description ng-bind-html=instructor.description> </div> </div> </div> </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(i,n)}]),e.exports=i},2990:function(e,t){var i="/ng/apps/course-taking-v4/dashboard/question-details.ng-template.html",n='<a class="db mt20" href=javascript:void(null) ng-click=back() translate>Back to All Questions</a> <div ng-if=questions.loading class=tac> <span class="udi udi-circle-loader udi-large m60"></span> </div> <question-details show-new-tab=false on-delete=onDelete ng-if="questions.activeQuestion && !questions.loading"></question-details> <div ng-if="!questions.activeQuestion && !questions.loading" translate> Sorry! This question failed to load. </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(i,n)}]),e.exports=i},2991:function(e,t){var i="/ng/apps/course-taking-v4/dashboard/questions.ng-template.html",n='<div ng-if=::questions.featureEnabled class=content__questions> <question-title-form></question-title-form> <question-body-form></question-body-form> <div ng-show=!editorState.isEditing> <form> <fieldset> <div class="questions__filters row"> <div class="filters__order col-sm-3"> <select ng-model=questions.params.ordering class="form-control w100p" ng-change=sortQuestions() ng-options="option.value as option.name for option in orderOptions"> </select> </div> <div class="filters__filter col-sm-9"> <span class=checkbox> <label> <input ng-click=filterFollowedQuestions() ng-checked=!!questions.params.followed type=checkbox /> <span translate class="checkbox-label pr10">See questions I\'m following</span> </label> </span> <span class=checkbox> <label> <input ng-click=filterRespondedQuestions() ng-checked="questions.params.num_replies === 0" type=checkbox /> <span class=checkbox-label translate>See questions without responses</span> </label> </span> </div> </div> </fieldset> </form> <question-list questions=questions show-responses=true on-select=onSelect></question-list> </div> </div> <div ng-if=::!questions.featureEnabled class="mt20 tac" translate> Questions are currently disabled for your organization. </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(i,n)}]),e.exports=i},2992:function(e,t){var i="/ng/apps/course-taking-v4/free-preview/free-preview-header.ng-template.html",n='<div> <div class="fx-jsb text-white"> <div class="fx-ic ml15 youre-previewing" data-purpose=preview-text> <div translate class="a12 mb5">You\'re previewing:</div> <div class=a3><span translate>Lecture </span> {{curriculumItem.objectIndex}}</div> </div> <div class=fx-ic> <span> <span ng-show=!!course.discount_price class=bold data-purpose=preview-promotion-price> {{::course.discount_price.price_string}} </span> <span ng-class="course.discount_price ? \'ml10 td-line-through\' : \'bold\'" data-purpose=preview-original-price> {{::course.price}} </span> </span> <a href=javascript:void(0) data-purpose=preview-buy-button ng-click="openPopup=true;$root.$broadcast(\'pausecontent\');" class="btn btn-primary--white ml20" translate> Buy Now </a> <a class="btn btn-tertiary--white" ng-click=closePreview() translate> Exit Preview </a> <popup open=openPopup ng-href={{course.checkout_url}} extra-css=tighter-close></popup> </div> </div> </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(i,n)}]),e.exports=i},2993:function(e,t){var i="/ng/apps/course-taking-v4/interstitial/interstitial-v2.ng-template.html",n='<div class="fullscreen interstitial-page" user-activity-check user-activity-check-enabled=false> <div class=player-header> <div class=pos-r> <curriculum-navigation-button current-section=currentSection current-section-item=currentCurriculumItem show-title=false> </curriculum-navigation-button> <div class="player-header__button-group hide-when-user-inactive"> <dashboard-button hide-for-early-access></dashboard-button> </div> </div> </div> <div class="player-container fullscreen color-interstitial"> <div class=interstitial-content> <div class=headline> Section {{ ::currentSection.objectIndex }}: <span class=text-white>{{ ::currentSection.numCompletedItems }}/{{ ::currentSection.items.length }} Completed</span> </div> <div class=just-completed-item> <div translate class=just-completed-item__title> Just Completed: </div> <div class=lecture__item ng-class="{\'completed\': currentCurriculumItem.progressStatus == \'completed\'}"> <a class=lecture__item__link ng-href="{{ getItemLink(currentCurriculumItem) }}" ng-click="goToItem(currentCurriculumItem, animationType.prev)"> <span class=lecture__item__link__icon ng-class=currentItemClass> <i ng-class=::currentCurriculumItem.getIconCssClass()></i> <i class="bold udi udi-check"></i> </span> <span class=lecture__item__link__name>{{ ::currentCurriculumItem.getTranslatedTitle() }}</span> </a> </div> </div> <div class=up-next-item> <div translate class=up-next-item__title> Up Next: </div> <div class=lecture__item ng-class="{\'completed\': nextCurriculumItem.progressStatus == \'completed\'}"> <a class=lecture__item__link ng-href="{{ getItemLink(nextCurriculumItem) }}" ng-click="goToItem(nextCurriculumItem, animationType.next)"> <span class=lecture__item__link__icon> <i ng-class=::nextCurriculumItem.getIconCssClass()></i> <i class="bold udi udi-check"></i> </span> <span class=lecture__item__link__name>{{ ::nextCurriculumItem.getTranslatedTitle() }}</span> </a> </div> </div> </div> </div> <footer class="player-footer player-controls hide-when-user-inactive"> <div class=player-footer__left> <span class="auto-next-timer checkbox"> <label> <input type=checkbox ng-model=countdown.isRunning ng-change=autoNextTimerOnChange() /> <span class="checkbox-label auto-next-timer__label text-highlight-grey"> <span ng-show=countdown.isRunning translate> Autoplaying in {{ countdown.countdown / 1000 }} seconds... </span> <span ng-show=!countdown.isRunning translate>Autoplay off</span> </span> </label> </span> </div> <div class=player-footer__right> <continue-button object-type=currentCurriculumItem.type object-id=currentCurriculumItem.id go-to-interstitial=false> </continue-button> <curriculum-item-controls hotkeys-enabled=false> </curriculum-item-controls> </div> </footer> </div>';
window.angular.module("ng").run(["$templateCache",function(e){e.put(i,n)}]),e.exports=i},2994:function(e,t){var i="/ng/apps/course-taking-v4/lecture-view/article-viewer.ng-template.html",n='<div class="fullscreen scroll-wrapper"> <div class="message-container message-container--article"> <div class=a1>{{::lecture.title}}</div> <div class="a2 mb15">{{ curriculumItemEnum }}</div> <div ng-bind-html=content prettify></div> <div class=a2 ng-show="resources.length > 0" translate>Resources for this lecture</div> <resources-list resources=resources api-resource=SupplementaryAsset api-params="{courseId: lecture.course.id, lectureId: lecture.id}"> </resources-list> </div> <footer class="player-footer player-controls"> <div class=player-footer__left>&nbsp;</div> <div class=player-footer__center> <ask-question-button hide-for-early-access></ask-question-button> </div> <div class=player-footer__right> <continue-button complete-lecture=completeLecture() object-type="\'lecture\'" object-id=lecture.id> </continue-button> <curriculum-item-controls hotkeys-enabled=false report-type="\'lecture\'" report-id=lecture.id> </curriculum-item-controls> </div> </footer> </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(i,n)}]),e.exports=i},2995:function(e,t){var i="/ng/apps/course-taking-v4/lecture-view/hotkeys.ng-template.html",n='<div class="fullscreen bg-black fx-lc"> <div class="message-container message-container--hotkeys"> <a href=javascript:void(0) class="udi udi-close message-container__splash-close-bt" ng-click="$dismiss(\'cancel\')"></a> <div class="row mb30"> <div class="col-xs-6 p0 a1 hotkey-label" translate>Keyboard shortcuts</div> <div class="col-xs-3 p0"> <div class=icon-hotkey><div>Shift</div></div> <div class=icon-hotkey><div>?</div></div> </div> </div> <div class="row a3 m0"> <div class="col-xs-3 p0 hotkey-label" translate>Course Content</div> <div class="col-xs-3 p0"> <div class=icon-hotkey><div>C</div></div> </div> <div class="col-xs-3 p0 hotkey-label" translate>Browse Q&amp;A</div> <div class="col-xs-3 p0"> <div class=icon-hotkey><div>Q</div></div> </div> </div> <div class="row a3 m0"> <div class="col-xs-3 p0 hotkey-label" translate>Play/Pause</div> <div class="col-xs-3 p0"> <div class=icon-hotkey><div>Spacebar</div></div> </div> <div class="col-xs-3 p0 hotkey-label" translate>Add Bookmark</div> <div class="col-xs-3 p0"> <div class=icon-hotkey><div>B</div></div> </div> </div> <div class="row a3 m0"> <div class="col-xs-3 p0 hotkey-label" translate>Speed slower</div> <div class="col-xs-3 p0"> <div class=icon-hotkey><div>Shift</div></div> <div class=icon-hotkey><div class="udi udi-thin-arrow-left"></div></div> </div> <div class="col-xs-3 p0 hotkey-label" translate>Go back 15s</div> <div class="col-xs-3 p0"> <div class=icon-hotkey><div class="udi udi-thin-arrow-left"></div></div> </div> </div> <div class="row a3 m0"> <div class="col-xs-3 p0 hotkey-label" translate>Speed faster</div> <div class="col-xs-3 p0"> <div class=icon-hotkey><div>Shift</div></div> <div class=icon-hotkey><div class="udi udi-thin-arrow-right"></div></div> </div> <div class="col-xs-3 p0 hotkey-label" translate>Go forward 15s</div> <div class="col-xs-3 p0"> <div class=icon-hotkey><div class="udi udi-thin-arrow-right"></div></div> </div> </div> <div class="row a3 m0"> <div class="col-xs-3 p0 hotkey-label" translate>Fullscreen</div> <div class="col-xs-3 p0"> <div class=icon-hotkey><div>F</div></div> </div> <div class="col-xs-3 p0 hotkey-label" translate>Volume up</div> <div class="col-xs-3 p0"> <div class=icon-hotkey><div class="udi udi-thin-arrow-up"></div></div> </div> </div> <div class="row a3 m0"> <div class="col-xs-3 p0 hotkey-label" translate>Exit fullscreen</div> <div class="col-xs-3 p0"> <div class=icon-hotkey><div>ESC</div></div> </div> <div class="col-xs-3 p0 hotkey-label" translate>Volume down</div> <div class="col-xs-3 p0"> <div class=icon-hotkey><div class="udi udi-thin-arrow-down"></div></div> </div> </div> </div> </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(i,n)}]),e.exports=i},2996:function(e,t){var i="/ng/apps/course-taking-v4/lecture-view/lecture-view.ng-template.html",n='<div class="fullscreen bg-black" ng-if=!lecture> <span class="preloader--center preloader--lg icon-spin"> <i class="udi udi-circle-loader text-white"></i> </span> </div> <div class=fullscreen ng-class=lectureViewClass user-activity-check user-activity-check-enabled={{userActivityCheckEnabled}} ng-if=lecture> <hotkeys hotkeys-type=lecture focus-element-class=video-js></hotkeys> <div class="player-container fullscreen" ng-class="{\'questions-panel-open\': questionsPanelOpen && !isEarlyAccess,\n                    \'early-access-video-offset\': earlyAccess.shouldShow,\n                    \'survey-open\': earlyAccess.surveyOpen}"> <video-player lecture=lecture on-auto-next=onPlayerEnded(isAutoPlay) ng-if="::isAssetType(\'Video\')"></video-player> <video-player lecture=lecture on-auto-next=onPlayerEnded(isAutoPlay) ng-if="::isAssetType(\'VideoMashup\')"></video-player> <video-player lecture=lecture on-auto-next=onPlayerEnded(isAutoPlay) ng-if="::isAssetType(\'Audio\')"></video-player> <article-viewer lecture=lecture resources=curriculumItem.supplementaryAssets ng-if="::isAssetType(\'Article\')"></article-viewer> <div class=fullscreen ng-if="::isAssetType(\'Presentation\')"> <presentation-player lecture=lecture slide-urls=lecture.asset.slide_urls update-progress=updateProgress> <div class=controls__force-center> <ask-question-button hide-for-early-access></ask-question-button> </div> <continue-button object-type="\'lecture\'" object-id=lecture.id></continue-button> <curriculum-item-controls download-url=lecture.download_url hotkeys-enabled=false report-type="\'lecture\'" report-id=lecture.id> </curriculum-item-controls> </presentation-player> </div> <na-screen course=lecture.course lecture=lecture resources=curriculumItem.supplementaryAssets ng-if="::isAssetType(\'Unavailable\')"></na-screen> </div> <div class=player-header ng-class="{\'questions-panel-open\': questionsPanelOpen}"> <div ng-if=isFreePreviewer class="hide-when-user-inactive preview-bar-wrapper bg-blue" user-active-on> <div id=preview-banner class="w100p zi99 top0" data-spy=affix data-offset-top=56> <free-preview-header></free-preview-header> </div> </div> <div class=pos-r> <div class="player-header__gradient hide-when-user-inactive"></div> <curriculum-navigation-button is-free-previewer=isFreePreviewer current-section=currentSection current-section-item=curriculumItem> </curriculum-navigation-button> <div class="player-header__button-group hide-when-user-inactive" user-active-on ng-if="! isFreePreviewer"> <dashboard-button hide-for-early-access></dashboard-button> </div> </div> </div> <questions-panel hide-for-early-access read-only=isFreePreviewer lecture=lecture></questions-panel> <early-access-footer ng-if="isEarlyAccess && isVideoPlayerAsset" course-id=lecture.course.id early-access=earlyAccess></early-access-footer> </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(i,n)}]),e.exports=i},2997:function(e,t){var i="/ng/apps/course-taking-v4/na-screen/na-screen.ng-template.html",n='<div class="fullscreen scroll-wrapper"> <div class="message-container message-container--na-screen"> <div class=a1>{{ ::lecture.title }}</div> <div class="a2 mb15">{{ curriculumItemEnum }}</div> <div class=mb30 ng-bind-html=lecture.description></div> <div class=mb30> <div class=mb15>{{ actionInfo }}</div> <a class="btn btn-default" ng-if=actionHandler ng-disabled=handling ng-href="{{ actionHref }}" ng-click="actionHandler($event, actionHref, actionTarget)"> <span class="ml30 mr30">{{ actionLabel }}</span> </a> </div> <div class=a2 ng-show="resources.length > 0" translate>Resources for this lecture</div> <resources-list resources=resources api-resource=SupplementaryAsset api-params="{courseId: course.id, lectureId: lecture.id}"> </resources-list> </div> <footer class=player-footer> <div class=player-footer__left>&nbsp;</div> <div class=player-footer__center> <ask-question-button hide-for-early-access></ask-question-button> </div> <div class=player-footer__right> <continue-button object-type="\'lecture\'" object-id=lecture.id></continue-button> <curriculum-item-controls hotkeys-enabled=false report-type="\'lecture\'" report-id=lecture.id> </curriculum-item-controls> </div> </footer> </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(i,n)}]),e.exports=i},2998:function(e,t){var i="/ng/apps/course-taking-v4/practice-view/practice-give-feedback.ng-template.html",n='<div ng-if=!loading> <div ng-if=!peerSubmissions.length class=text-center> <div class=mt60><i class="udi udi-check-circle text-green a1"></i></div> <h4 class="text-dark-grey bold mt30" translate> Congratulations, you\'re the first student to complete this assignment </h4> <div class=mt20 translate> There are no other student submissions to review at this time, but you can check back later if you\'d like to help other students with what you\'ve learned on this assignment </div> </div> <div ng-if=peerSubmissions.length class=practice-solutions> <h1 translate>Give Feedback to 3 other students</h1> <div> <div class=practice-basics translate> Reflecting on other students\' work is likely to increase your own understanding </div> </div> <div ng-repeat="peerSubmission in peerSubmissions | orderBy:\'sort_order\'"> <div class="panel panel-default practice-solutions__section"> <div class="panel-body view-mode"> <practice-submission submission=peerSubmission.user_attempted_practice in-view=markAsSeen(peerSubmission.user_attempted_practice)></practice-submission> <hr/> <practice-feedback practice-id="{{ practice.id }}" submission=peerSubmission.user_attempted_practice reviewer=reviewer type=peer show-comments=false ng-if="peerSubmission.user_attempted_practice && practice"> </practice-feedback> </div> </div> </div> </div> </div> <div ng-show=loading class="tac mt60"><i class="udi udi-circle-loader a1"></i></div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(i,n)}]),e.exports=i},2999:function(e,t){var i="/ng/apps/course-taking-v4/practice-view/practice-introduction.ng-template.html",n='<div class=practice-instruction> <h1> Assignment Instructions </h1> <div> <div class="practice-basics text-blue" ng-if=practice.estimated_duration> <span class="udi udi-join-hours"></span> {{ practice.estimated_duration }} minutes to complete </div> <div class="practice-basics text-blue" ng-if=downloadableAssets.length> <span class="udi udi-download"></span> <a href=#download> <span translate translate-n=downloadableAssets.length translate-plural="{{$count}}\n             Available Resources"> 1 Available Resource </span> </a> </div> <div class="practice-basics text-blue" ng-if=practice.num_submissions> <span class="udi udi-yoga"></span> <span translate translate-n=practice.num_submissions translate-plural="{{$count}} Student Solutions"> 1 Student Solution </span> </div> </div> <div class="panel panel-default"> <div class="panel-body view-mode"> <div class=tac ng-if=!instructionComponents.length> <span class="udi udi-circle-loader udi-medium"></span> </div> <div prettify ng-repeat="component in instructionComponents" ng-class="\'practice-component-{{ component.display_type }}\'" ng-bind-html=" component.body || component.asset.view_html"> </div> <div class=question__list> <h4 class=question__header>Questions for this Assignment</h4> <div class="question__list__item pos-r" ng-repeat="question in questions"> <div class=question__title> <div class=question__title--text ng-bind-html=question.body prettify></div> </div> </div> </div> </div> </div> <div id=download ng-if=downloadableAssets.length> <h4 translate>Download Resource Files</h4> <resources-list resources=downloadableAssets api-resource=PracticeSupplementaryAsset api-params="{practiceId: practice.id}"> </resources-list> </div> </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(i,n)}]),e.exports=i},3e3:function(e,t){var i="/ng/apps/course-taking-v4/practice-view/practice-solution.ng-template.html",n='<div class=practice-solutions> <h1 translate>How did you do?</h1> <div> <div class=practice-basics translate> Compare the instructor\'s example to your own </div> </div> <div class="panel panel-default practice-solutions__section"> <div class="panel-body view-mode"> <h4 class=panel-body-text translate>Instructor Example</h4> <div class=tac ng-if=!instructorSubmission> <span class="udi udi-circle-loader udi-medium"></span> </div> <div ng-if=instructorSubmission> <practice-submission submission=instructorSubmission ng-if=instructorSubmission.question_user_answers> </practice-submission> </div> <div class=mt20 ng-class="\'practice-component-{{ videoComponent.display_type }}\'" ng-bind-html=videoComponent.asset.view_html ng-if=videoComponent> </div> </div> </div> <div id=download ng-if=downloadableAssets.length> <h4 translate>Download Resource Files</h4> <resources-list resources=downloadableAssets api-resource=PracticeSupplementaryAsset api-params="{practiceId: practice.id}"> </resources-list> </div> <div class="panel panel-default practice-solutions__section"> <div class="panel-body view-mode"> <h4 class=panel-body-text translate>Your Submission</h4> <div class=tac ng-if=!userSubmission> <span class="udi udi-circle-loader udi-medium"></span> </div> <div ng-if=userSubmission> <practice-submission submission=userSubmission></practice-submission> <hr> <div id=alert class="with-icon alert alert-info panel-body-text" ng-show=infoAlert> <span class="icon udi udi-info-circle"></span> <div class=content> <h3> <span ng-if=infoAlert.noSubmit translate>You haven\'t submitted your answer yet.</span> <span ng-if=infoAlert.noAnswer translate>You haven\'t answered the assignment yet.</span> </h3> <p ng-if=infoAlert.noSubmit translate>Go to the assignment step to submit your answer.</p> <p ng-if=infoAlert.noAnswer translate>Submit your work to get constructive feedback from your instructors and peers</p> <button type=button class="btn btn-default" ng-click=goToSubmitPage()> <span ng-if=infoAlert.noSubmit translate> Go to assignment</span> <span ng-if=infoAlert.noAnswer translate> Add your answer</span> </button> </div> </div> </div> <practice-feedback practice-id="{{ practice.id }}" submission=userSubmission reviewer=reviewer type=self ng-if=userSubmission.submission_time> </practice-feedback> </div> </div> </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(i,n)}]),e.exports=i},3001:function(e,t){var i="/ng/apps/course-taking-v4/practice-view/practice-start-page.ng-template.html",n='<div role=alert class="screen-too-small with-icon alert alert-info visible-xs-block mr10 ml10"> <span class="icon udi udi-info-circle"></span> <div> <div class=content translate> Assignments are Supported on Desktop in Full Browser Window<br> To complete this assignment, open this lecture in a desktop computer with your browser in maximum window size. </div> </div> </div> <div class="practice-start-page hidden-xs"> <h1> Assignment: {{ practice.title }} </h1> <div> <div class="practice-basics text-blue" ng-if=practice.estimated_duration> <span class="udi udi-join-hours"></span> {{ practice.estimated_duration }} minutes to complete: </div> <div class="practice-basics text-blue" ng-if=practice.num_submissions> <span class="udi udi-yoga"></span> <span translate translate-n=practice.num_submissions translate-plural="{{$count}} Student Solutions"> 1 Student Solution </span> </div> <div class=practice-description ng-if=practice.description>{{ practice.description | translate }}</div> </div> </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(i,n)}]),e.exports=i},3002:function(e,t){var i="/ng/apps/course-taking-v4/practice-view/practice-submission.ng-template.html",n='<div> <h1 translate>Assignment Submission</h1> <div class=practice-basics> <span translate>Save or Submit your Work</span> <span ng-hide=!userSubmission.submission_time class="ml10 label label-success" translate>Assignment Submitted</span> </div> <div class="panel panel-default"> <div class="panel-body question__list"> <span ng-if=!questionsLoaded> <span class="udi udi-circle-loader udi-medium"></span> </span> <form name=assignmentSubmitForm ng-if=questionsLoaded> <div class="question__list__item pos-r" ng-repeat="question in questions"> <div class="question__title pb20"> <div class=question__title--text ng-bind-html=question.body prettify></div> </div> <div ng-if="userSubmission.submission_time && question.userAnswer" ng-bind-html=question.userAnswer.body class=view-mode prettify></div> <ud-wysiwyg ng-if=!userSubmission.submission_time request-editor-init=true editor-value=question.userAnswer.body redactor-theme=advanced-format-link-image-html redactor-toolbar-fixed=::false min-height=150 placeholder-text="{{ \'Add your submission\' | translate }}"></ud-wysiwyg> </div> <div class="question__list__item pos-r checkbox"> <h4 class=question__title> <div class=question__title--text translate>Choose your sharing preference</div> </h4> <label> <input type=checkbox ng-disabled=userSubmission.submission_time ng-model=userSubmission.is_public> <span translate class=checkbox-label>Yes, I want to get feedback from my fellow students.</span> </label> </div> <button ng-disabled=sendingSave ng-hide="userSubmission.submission_time|| !questionsLoaded" ng-click=save() class="btn btn-default" translate>Save Draft</button> <button ng-disabled=sendingSave ng-hide="userSubmission.submission_time || !questionsLoaded" ng-click=publish() class="btn btn-default ml10" translate>Submit</button> <div ng-show=status_alert ng-class="{\'has-error\': status_alert.error}"> <span class="help-block text-green">{{ status_alert.message }}</span> </div> </form> </div> </div> </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(i,n)}]),e.exports=i},3003:function(e,t){var i="/ng/apps/course-taking-v4/practice-view/practice-summary-detail.ng-template.html",n='<div class=mt60> <div class="mb20 mt30 pt10"> <a ui-sref=base.taking.practice.summary> <i class="udi udi-thin-arrow-left text-link-blue"></i> <span translate>Back to All Feedback</span> </a> </div> <div class="panel p40-60" ng-if=!loading> <h3 class="bold fx-lc"> <span class=fx>{{ practice.title }}</span> <button class="btn btn-link" ng-click=toggleSubmission()> <span ng-if=!submissionVisible class=a11> <span translate>View {{ submission.user.name }}\'s Work</span> <i class="udi udi-chevron-down"></i> </span> <span ng-if=submissionVisible class=a11> <span translate>Hide {{ submission.user.name }}\'s Work</span> <i class="udi udi-chevron-up"></i> </span> </button> </h3> <hr> <div collapse=!submissionVisible class="pl30 pr30"> <practice-submission submission=submission></practice-submission> </div> <hr ng-if=submissionVisible> <practice-feedback practice-id="{{ practice.id }}" submission=submission reviewer=reviewer type=peer ng-if=reviewer> </practice-feedback> </div> <div ng-if=loading class=tac> <span class="udi udi-circle-loader udi-large m60"></span> </div> </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(i,n)}]),e.exports=i},3004:function(e,t){var i="/ng/apps/course-taking-v4/practice-view/practice-summary.ng-template.html",n='<div ng-show=!loading> <div ng-if=!feedbackList.length class=text-center> <div class=mt60><i class="udi udi-comments text-link-blue a1"></i></div> <h4 class="text-dark-grey bold mt30" translate>You Don\'t Have any Feedback Yet</h4> <div class=mt20 translate> Don\'t worry, we\'ll notify you when another student has provided feedback on your work </div> </div> <div ng-if=feedbackList.length> <h4 class="mt60 mb30">Comments on this Assignment</h4> <div class="panel feedback-panel"> <div ng-repeat="feedback in feedbackList" class=feedback-summary__comment ng-click="openSubmission(feedback.submissionId, feedback.feedbackOwner)"> <div class="feedback-summary__comment-content a11 w100p"> <div class=fx-jsb> <div> <img ng-src="{{ feedback.user.image_50x50 }}" class=img-circle /> </div> <div class="fx pl10 comment-content__content"> <div class="bold text-dark-grey comment-content__body" translate> {{ feedback.user.title }} and Me <span class="ml10 label label-success">{{ feedback.type }}</span> </div> <div class="mt10 fx-lc"> {{ feedback.commentOwner.name }}: <div class="comment-content__body pl5 ellipsis" ng-bind-html=feedback.body></div> </div> </div> <div> <div class=tac>{{ feedback.lastActivityTime | fromNow }}</div> </div> </div> </div> </div> </div> </div> </div> <div ng-show=loading class="tac mt60"><i class="udi udi-circle-loader a1"></i></div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(i,n)}]),e.exports=i},3005:function(e,t){var i="/ng/apps/course-taking-v4/practice-view/practice-view.ng-template.html",n='<div class="fullscreen bg-white" ng-if=loading> <span class="preloader--center preloader--lg icon-spin"> <i class="udi udi-circle-loader"></i> </span> </div> <div class="fullscreen theme-gray practice-viewer" user-activity-check user-activity-check-enabled=false ng-if=!loading> <div class="player-container fullscreen" ng-class="{\n            \'questions-panel-open\': questionsPanelOpen,\n            \'scroll-wrapper\': currentState.data.showProgressBar || currentState.data.tab == \'summary\'\n         }"> <div class="message-container message-container--practice" ui-view></div> <footer class="player-footer player-controls"> <div class=player-footer__left> <ask-question-button hide-for-early-access></ask-question-button> </div> <div class=player-footer__center> <button ng-if="currentState.data.tab == \'summary\'" class="btn btn-sm btn-default--white" ng-click="changeState(\'assignment\')"> Back to Assignment </button> <button ng-if="currentState.data.tab != \'summary\' && submission.is_complete" class="btn btn-sm btn-primary hidden-xs" ng-click="changeState(\'summary\')"> Go to Summary </button> </div> <div class=player-footer__right> <continue-button ng-show="!submission.is_complete && currentState.name == \'base.taking.practice.start-page\'" button-classes="btn btn-sm btn-tertiary--white btn-skip-practice main-if-sm" button-text="{{ \'Skip Assignment\' | translate }}" object-type="\'practice\'" object-id=practice.id> </continue-button> <continue-button ng-if="currentState.data.tab == \'summary\'" button-classes="btn btn-sm btn-primary btn-control btn-continue" button-text="{{ \'Next Lecture\' | translate }}" object-type="\'practice\'" object-id=practice.id> </continue-button> <button ng-if=currentState.data.prevTab class="btn btn-sm btn-default--white" ng-click="changeState(\'prev\')"> <i class="udi udi-previous text-white"></i>Prev </button> <button ng-if="currentState.data.nextTab && currentState.data.tab !== \'give_feedback\'" class="btn btn-sm btn-primary btn-control btn-continue hidden-xs" ng-hide="submission.is_complete && currentState.data.tab == \'give_feedback\'" ng-click="changeState(\'next\')"> <span ng-if="currentState.data.tab == \'start_page\'" translate>Start Assignment</span> <span ng-if="currentState.data.tab != \'start_page\'" translate>Next</span> <i class="udi udi-next text-white"></i> </button> <button ng-if="currentState.data.tab == \'give_feedback\' && !submission.is_complete" class="btn btn-sm btn-primary btn-control btn-continue" ng-click="changeState(\'complete\')"> Complete Assignment<i class="udi udi-next text-white"></i> </button> <continue-button ng-if=submission.is_complete button-classes="btn btn-sm btn-primary btn-control btn-continue visible-xs-inline" button-text="{{ \'Next Lecture\' | translate }}" object-type="\'practice\'" object-id=practice.id> </continue-button> <curriculum-item-controls hotkeys-enabled=false report-type="\'practice\'" report-id=practice.id> </curriculum-item-controls> </div> </footer> </div> <div class=player-header ng-class="{\'questions-panel-open\': questionsPanelOpen}"> <div class="player-header__gradient hide-when-user-inactive"></div> <curriculum-navigation-button class="slidable-curriculum-nav hidden-on-mobile-app" show-title=false current-section=currentSection current-section-item=curriculumItem> </curriculum-navigation-button> <div class="player-header__button-group hide-when-user-inactive" user-active-on> <dashboard-button hide-for-early-access class=hidden-on-mobile-app></dashboard-button> </div> <div ng-if="currentState.data.tab == \'summary\'" class=feedback-view> <div class=feedback-view__header> <div class=feedback-view__title> <div class=a2>Great job, you finished this assignment!</div> <div class="a3 mt10">"{{ practice.title }}"</div> </div> </div> </div> <ul class="nav nav-tabs nav-tabs--wizard df practice-navs" ng-class="{\'nav-tabs--wizard--completed\': submission.is_complete}" ng-if=currentState.data.showProgressBar> <li ui-sref-active-eq=active class=fx> <a ui-sref=base.taking.practice.introduction translate>Instructions</a> </li> <li ui-sref-active-eq=active class=fx> <a ui-sref=base.taking.practice.submission translate>Submission</a> </li> <li ui-sref-active-eq=active class=fx> <a ui-sref=base.taking.practice.instructor_solution translate>Instructor Example</a> </li> <li ui-sref-active-eq=active class=fx> <a ui-sref=base.taking.practice.give_feedback translate>Give Feedback</a> </li> </ul> </div> <questions-panel hide-for-early-access read-only=isFreePreviewer practice=practice></questions-panel> </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(i,n)}]),e.exports=i},3006:function(e,t){var i="/ng/apps/course-taking-v4/question-answer/question-body-form-directive.ng-template.html",n='<div ng-show=editorState.isEditing> <p class="mb20 h4" translate>Have a technical issue? Our <a ng-href={{supportUrl}} target=_blank>Support Team</a> can help.</p> <div ng-if="!isInstructor && !replyCreateEnabled" class="alert alert-danger"> <p translate> This instructor is no longer actively answering questions, but we encourage you to continue to ask and answer questions from other students. </p> </div> <input placeholder="{{ \'Question title\' | translate }}" ng-model=editorState.title class="form-control mb10"/> <form-alert ng-if=editorState.formError.getMessage() error=editorState.formError.getCurrent() class="mb5 p10"></form-alert> <ud-wysiwyg request-editor-init=editorState.initialize request-reset-value=editorState.resetValue placeholder-text="{{\'Describe what you\\\'re trying to achieve and where you\\\'re getting stuck.\' | translate}}" editor-value=editorState.body redactor-theme={{editorState.redactorTheme}}> </ud-wysiwyg> <div class="fx fx-rt"> <button ng-click=cancelQuestion() class="mr20 btn btn-sm btn-tertiary" type=button translate>Cancel</button> <button ng-click=submitQuestion($event) ng-disabled="editorState.submitDisabled || editorState.title.length < 1" class="btn btn-sm btn-primary" type=button> <span ng-show="editorState.formError.getType() === \'warning\'" translate> Proceed </span> <span ng-show="editorState.formError.getType() !== \'warning\'" translate> Post Question </span> </button> </div> </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(i,n)}]),e.exports=i},3007:function(e,t){var i="/ng/apps/course-taking-v4/question-answer/question-list.ng-template.html",n='<div> <div class=questions-panel__content__course-questions> <div ng-repeat="question in questions.data" class=course-questions__question ng-click="openDetails($event, question)"> <div class="course-questions__question__question-content a11 w100p"> <div class=fx-jsb> <div> <img ng-src="{{ question.user.image_50x50 }}" ng-class="{\'img-circle\': !question.is_instructor}"/> </div> <div class="fx pl10 question-content__content"> <div class="bold ellipsis">{{ question.title }}</div> <div class=question-content__body ng-bind-html="question.body | replaceImgTag | trimTags"> </div> </div> <div ng-if=showResponses> <div class="tac bold">{{ question.num_replies }}</div> <div translate translate-n=question.num_replies translate-plural=Responses>Response</div> </div> </div> <div class=question-content__confirmation-box ng-show="$index === 0 && questions.showNew"> <i class="udi udi-check"></i> <h4 translate>Question added successfully</h4> <p translate>We\'ll notify you of responses so you can mark them as helpful or as the answer to your question.</p> <p translate>If your question is more general in nature you can try searching Google, Quora, or StackExchange while you wait for the instructor or other students to help.</p> <i class="udi udi-close" ng-click=closeConfirmationBox($event)></i> </div> </div> </div> <div class=fx-c ng-if=questions.loading> <span class="udi udi-circle-loader udi-large m60"></span> </div> </div> <div class="fx-c p20" ng-show=showRaiseHand()> <div class="fx tac"> <div class="bold pt10" translate ng-hide=questions.params.search>No questions yet</div> <div class="bold pt10" translate ng-show=questions.params.search>No related questions found</div> <div translate> Be the first to ask your question! You’ll be able to add details in the next step. </div> <img src=/staticx/udemy/images/course-taking/raise_your_hand.png> </div> </div> <div class="fx-c mt15" ng-if="questions.hasMore && !questions.loading"> <button class="btn btn-primary" ng-click=loadMore() translate> Load more </button> </div> </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(i,n)}]),e.exports=i},3008:function(e,t){var i="/ng/apps/course-taking-v4/question-answer/question-title-form-directive.ng-template.html",n='<div ng-if=::!createEnabled class="alert alert-danger"> <div> <h3><i class="udi udi-warning"></i><span translate>Trust &amp; Safety Alert</span></h3> <p translate> Your access to the Q&amp;A feature is temporarily suspended. Please contact <a ng-href="{{ supportUrl }}">support</a> for more information. </p> </div> </div> <div class="alert alert-warning" ng-if=::is_owner_terms_banned> <h3><i class="udi udi-exclamation-circle"></i>Warning</h3> <p translate> The instructor for this course is no longer active on Udemy, but we encourage you to still post new questions as other students can also provide helpful answers. </p> </div> <div ng-show=!editorState.isEditing class=mb20> <form ng-if="displayType===\'questionsPanel\'"> <div class="ud-search mb20 mt10"> <div class=mb15> <input ng-model=editorState.title type=text class=form-control ng-change=searchQuestions() placeholder="{{\'Search for a question\'|translate}}" tabindex=-1> </div> <div class=fx-lc> <div class="questions-description fx" ng-model=descriptionText> <p ng-show=questions.params.search translate translate-n=questions.searchCount translate-plural="We found {{ $count }} related questions"> We found {{ $count }} related question </p> <p ng-if=lecture ng-hide=questions.params.search translate translate-n=questions.count translate-plural="{{ $count }} questions in this lecture"> {{ $count }} question in this lecture </p> <p ng-if=quiz translate translate-n=questions.count translate-plural="{{ $count }} questions in this quiz"> {{ $count }} question in this quiz </p> </div> <div class=tooltip-container> <button ng-disabled="readOnly || !createEnabled" ng-click=addQuestion($event) class="ml5 btn btn-primary ask-button" type=button translate tabindex=-1> <span translate> Ask a new question </span> </button> </div> </div> </div> </form> <form ng-if="displayType!==\'questionsPanel\'"> <div class="ud-search clearfix fx fx-lc fx-wrap"> <div class=fx> <input ng-model=editorState.title type=text class=form-control ng-change=searchQuestions() placeholder="{{\'Search for a question\'|translate}}"> </div> <span class="ml20 mr20" translate>or</span> <span class=tooltip-container> <button ng-disabled="readOnly || !createEnabled" ng-click=addQuestion($event) class="ml5 btn btn-primary ask-button" type=button translate> <span class=ask-button__long-label translate> Ask a new question </span> <span class=ask-button__short-label translate> Ask </span> </button> </span> </div> </form> </div>';
window.angular.module("ng").run(["$templateCache",function(e){e.put(i,n)}]),e.exports=i},3009:function(e,t){var i="/ng/apps/course-taking-v4/question-answer/questions-panel-directive.ng-template.html",n='<div class=questions-panel ng-class="{\'panel--open\': isPanelOpen}"> <div class="questions-panel__title a3 bold fx-c"> <span ng-show=editorState.isEditing translate>My Question</span> <span ng-show=!editorState.isEditing translate>Questions</span> </div> <i class="udi udi-thin-arrow-left" ng-show=editorState.isEditing ng-click="editorState.isEditing = false"></i> <i class="udi udi-minimize" ng-click=minimize()></i> <i class="udi udi-close" ng-click=close()></i> <div ng-if=::questions.featureEnabled class="questions-panel__content m10 p15 mr0 bg-white"> <question-title-form></question-title-form> <question-body-form class=mt10></question-body-form> <question-list ng-show=!editorState.isEditing questions=questions on-select=questions.onSelect></question-list> </div> <div ng-if=::!questions.featureEnabled class="mt20 tac" translate> Questions are currently disabled for your organization. </div> </div> <div class=questions-panel ng-class="{\'panel--open\': isPanelOpen && questions.isDetailsOpen}"> <i class="udi udi-thin-arrow-left" ng-click=back()></i> <div class="questions-panel__title a3 bold fx-c" translate> Question Details </div> <i class="udi udi-minimize" ng-click=minimize()></i> <i class="udi udi-close" ng-click=close()></i> <div class="questions-panel__content m10 p15 mr0 bg-white"> <question-details read-only=readOnly show-new-tab=true on-delete=back lecture-id=lecture.id ng-if=questions.activeQuestion></question-details> </div> </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(i,n)}]),e.exports=i},3010:function(e,t){var i="/ng/apps/course-taking-v4/quiz-view/coding-exercise-editor-footer.ng-template.html",n='<div> <span class=mr20 ng-if="line && column" translate>Line {{ line }}, Column {{ column }}</span> <span class=mr20 ng-if="savingStatus == \'waiting\'" translate>Saving changes ...</span> <span class=mr20 ng-if="savingStatus == \'success\'" translate>All changes saved</span> <span class=mr20 ng-if="savingStatus == \'error\'" translate>Error saving your changes!</span> </div> <a ng-click=openResetModal() translate>Reset Code</a>';window.angular.module("ng").run(["$templateCache",function(e){e.put(i,n)}]),e.exports=i},3011:function(e,t){var i="/ng/apps/course-taking-v4/quiz-view/coding-exercise-files.ng-template.html",n='<div class=coding-exercise__files> <ul class=coding-exercise__files__list> <li ng-repeat="file in files"> <a ng-click=selectFile(file) ng-class="{\'active\': file === activeFile}">{{ file.file_name }}</a> </li> </ul> </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(i,n)}]),e.exports=i},3012:function(e,t){var i="/ng/apps/course-taking-v4/quiz-view/coding-exercise-hint.ng-template.html",n='<div ng-hide="me.settings.coding_exercise_hint === \'off\'" class=hint-container> <p translate> Stuck? Ask a question to get help from your instructor &amp; fellow students. </p> <button class="btn btn-primary btn-xs" ng-click=hideTooltip() style=margin-left:0> <span translate>OK, got it</span> </button> </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(i,n)}]),e.exports=i},3013:function(e,t){var i="/ng/apps/course-taking-v4/quiz-view/coding-exercise-output.ng-template.html",n='<div class=coding-exercise__output> <div class=coding-exercise__header--info ng-if="error && checkedSolutionOnce"> <strong class=coding-exercise__title--info> <i class="text-red udi udi-warning"></i> <span translate>Oops, there was an error on our end. Please try again.</span> </strong> </div> <div class=coding-exercise__header--info ng-if="!error && checkedSolutionOnce"> <strong class=coding-exercise__title--info ng-if=!solutionPassed> <i class="text-red udi udi-warning"></i> <span translate>Oops, your solution is incorrect.</span> </strong> <strong class=coding-exercise__title--info ng-if=solutionPassed> <i class="text-green udi udi-check"></i> <span translate>Well done, your solution is correct!</span> </strong> <pre ng-if="output.evaluatorFeedback && !solutionPassed">{{output.evaluatorFeedback}}</pre> </div> <div class="coding-exercise__header--info border-top" ng-if="checkedSolutionOnce && output.userOutput"> <strong class=coding-exercise__title--info> <span translate>Your output</span> </strong> <pre>{{output.userOutput}}</pre> </div> <div class=coding-exercise__content--info ng-if="showPreview && previewFiles" ng-class="{\'border-top\': checkedSolutionOnce}"> <iframe src=https://null.udemy.com/staticx/udemy/js/libs/jsbin/iframe.html sandbox="allow-pointer-lock allow-same-origin allow-modals allow-forms allow-popups allow-scripts"></iframe> </div> </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(i,n)}]),e.exports=i},3014:function(e,t){var i="/ng/apps/course-taking-v4/quiz-view/coding-exercise-page.ng-template.html",n='<div class="player-container fullscreen"> <div class="fullscreen full-top-nav__scroll-wrapper fx-dc" ng-class="{\'questions-panel-open\': questionsPanelOpen}"> <coding-exercise-statement instructions=question.prompt.instructions title=quiz.title class=coding-exercise__statement></coding-exercise-statement> <div class=coding-exercise__container> <coding-exercise-files files=studentFiles active-file=activeFile select-file=selectFile class=coding-exercise__left></coding-exercise-files> <div class=coding-exercise__content> <ace ng-if=activeFile file=activeFile update-file=updateFile update-cursor-position=updateCursorPosition register-resize-handler=registerResizeHandler class="fx coding-exercise__editor"></ace> <coding-exercise-editor-footer line=currentLine column=currentColumn saving-status=savingStatus reset=reset class=coding-exercise__coding-footer></coding-exercise-editor-footer> </div> <coding-exercise-output class=coding-exercise__right ng-if="showPreview || checkedSolutionOnce" ng-init=makeOutputPaneResizable() show-preview=showPreview checked-solution-once=checkedSolutionOnce preview-files=studentFiles output=evaluator.checkSolutionOutput solution-passed=evaluator.solutionPassed error=evaluator.checkSolutionError></coding-exercise-output> </div> <footer class="player-footer coding-exercise-footer"> <div class=player-footer__left> <coding-exercise-hint ng-if="checkedSolutionOnce && !evaluator.solutionPassed"></coding-exercise-hint> <ask-question-button hide-for-early-access></ask-question-button> </div> <div class=player-footer__right> <button class="btn btn-sm coding-exercise__btn-check" ng-click=checkSolution() ng-class="evaluator.checkSolutionWaiting ? \'btn-waiting\' : \'btn-primary\'"> <div class=primary> <span translate>Check Solution</span> </div> <div class=waiting> <span class="udi udi-circle-loader udi-small"></span> <span translate>Checking</span> </div> </button> <continue-button button-classes="btn btn-sm btn-default coding-exercise__btn-continue" object-type="\'quiz\'" object-id=quiz.id> </continue-button> <div class=hidden-on-mobile-app> <curriculum-item-controls report-type="\'assessment\'" report-id=question.id> </curriculum-item-controls> </div> </div> </footer> </div> </div> <div class="player-header coding-exercise full-top-nav" ng-class="{\'questions-panel-open\': questionsPanelOpen}"> <div class="player-header__gradient hide-when-user-inactive quiz-section"></div> <curriculum-navigation-button class="slidable-curriculum-nav hidden-on-mobile-app" current-section=currentSection current-section-item=curriculumItem> </curriculum-navigation-button> <div class="player-header__button-group hide-when-user-inactive" user-active-on> <dashboard-button hide-for-early-access class=hidden-on-mobile-app></dashboard-button> </div> </div> <questions-panel quiz=quiz></questions-panel>';window.angular.module("ng").run(["$templateCache",function(e){e.put(i,n)}]),e.exports=i},3015:function(e,t){var i="/ng/apps/course-taking-v4/quiz-view/coding-exercise-reset-modal.ng-template.html",n='<div class=modal-body translate> Are you sure? This will delete the code that you wrote so far to solve this problem. </div> <div class=modal-footer> <div class=modal-footer--inner> <button type=button class="btn btn-tertiary" ng-click=$dismiss() translate> Cancel </button> <button type=button class="btn btn-primary" ng-click=$close();reset() translate> Yes, reset </button> </div> </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(i,n)}]),e.exports=i},3016:function(e,t){var i="/ng/apps/course-taking-v4/quiz-view/coding-exercise-statement.ng-template.html",n="<div class=coding-exercise__statement__content> <div class=coding-exercise__statement__content__inner> <h2 class=coding-exercise__title>{{ title }}</h2> <p class=coding-exercise__desc ng-bind-html=instructions prettify></p> </div> </div>";window.angular.module("ng").run(["$templateCache",function(e){e.put(i,n)}]),e.exports=i},3017:function(e,t){var i="/ng/apps/course-taking-v4/quiz-view/hotkeys.ng-template.html",n='<div class="fullscreen bg-black fx-lc"> <div class="message-container message-container--hotkeys"> <a href=javascript:void(0) class="udi udi-close message-container__splash-close-bt" ng-click="$dismiss(\'cancel\')"></a> <div class="row mb30"> <div class="col-xs-6 p0 a1 hotkey-label" translate>Keyboard shortcuts</div> <div class="col-xs-3 p0"> <div class=icon-hotkey><div>Shift</div></div> <div class=icon-hotkey><div>?</div></div> </div> </div> <div class="row a3 m0"> <div class="col-xs-3 p0 hotkey-label" translate>Select answer 1-9</div> <div class="col-xs-3 p0"> <div class=icon-hotkey><div>1-9</div></div> </div> <div class="col-xs-3 p0 hotkey-label" translate>Select answer 10-15</div> <div class="col-xs-3 p0"> <div class=icon-hotkey><div>Shift</div></div> <div class=icon-hotkey><div>0-5</div></div> </div> </div> <div class="row a3 m0"> <div class="col-xs-3 p0 hotkey-label" translate>Next question</div> <div class="col-xs-3 p0"> <div class=icon-hotkey><div class="udi udi-thin-arrow-right"></div></div> </div> <div class="col-xs-3 p0 hotkey-label" translate>Skip question</div> <div class="col-xs-3 p0"> <div class=icon-hotkey><div>Shift</div></div> <div class=icon-hotkey><div class="udi udi-thin-arrow-right"></div></div> </div> </div> <div class="row a3 m0"> <div class="col-xs-3 p0 hotkey-label" translate>Course Content</div> <div class="col-xs-3 p0"> <div class=icon-hotkey><div>C</div></div> </div> </div> </div> </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(i,n)}]),e.exports=i},3018:function(e,t){var i="/ng/apps/course-taking-v4/quiz-view/practice-test-attempt-results-page.ng-template.html",n='<div class="fullscreen results-page"><div class="fullscreen test__results-page full-top-nav__scroll-wrapper"> <div class="container message-container--results"> <div class="fx fx-lc test__results-page__header"> <section class="quiz__info fx"> <h2 class=quiz__title>{{quiz.title}}</h2> </section> </div> <a class="btn btn-lg btn-tertiary test__results-page__btn-back" ui-sref="base.taking.quiz.results({expanded: quizAttempt.id})"> <i class="udi udi-previous"></i> <span translate>Return to review</span> </a> <div class="test__result test-review panel"> <div class=fx-jsb> <div class=fx-lc> <highchart class=small-chart config=quizAttempt.chart ng-if=quizAttempt.chart></highchart> <h2 class=test__result__attempt-title translate>Attempt {{quizAttempt.results_summary.index}}</h2> </div> <div class=fx-rc> <div class="dropdown test__result__knowledge-filter" ng-if="sectionFilters.length > 1"> <button class="btn btn-default" id=dLabel type=button data-toggle=dropdown aria-haspopup=true aria-expanded=false> {{selectedSectionFilter.label}} <i class="udi udi-chevron-down"></i> </button> <ul class=dropdown-menu role=menu aria-labelledby=dLabel> <li role=presentation ng-repeat="filter in sectionFilters"> <a role=menuitem tabindex=-1 ng-click="applyFilters(selectedQuestionFilter, filter)"> {{filter.label}} </a> </li> </ul> </div> <div class=dropdown> <button class="btn btn-default" id=dLabel type=button data-toggle=dropdown aria-haspopup=true aria-expanded=false> {{selectedQuestionFilter.label}} <i class="udi udi-chevron-down"></i> </button> <ul class=dropdown-menu role=menu aria-labelledby=dLabel> <li role=presentation ng-repeat="filter in questionFilters"> <a role=menuitem tabindex=-1 ng-click="applyFilters(filter, selectedSectionFilter)"> {{filter.label}} </a> </li> </ul> </div> </div> </div> <div class="fx-c test__results-page__loader" ng-if=isLoading> <span class="udi udi-circle-loader udi-medium"></span> </div> <div class="fx-c test__results-page__loader" ng-if="filteredQuestions.length === 0"> <span class=h2 translate>No questions match this filter.</span> </div> <div class=question-review ng-repeat="question in filteredQuestions" ng-if=!isLoading> <quiz-question-multiple-choice question=question is-reviewing=true></quiz-question-multiple-choice> </div> <div class=p20 ng-if="isLoading || filteredQuestions.length === 0"> </div> </div> </div> <footer class=player-footer> <div class=player-footer__left> </div> <div class=player-footer__right> <a class="btn btn-sm btn-tertiary" ui-sref=base.taking.quiz.start> <span translate>Retake Test</span> </a> <continue-button button-classes="btn btn-sm btn-primary hidden-on-mobile-app" object-type="\'quiz\'" object-id=quiz.id> </continue-button> <div class=hidden-on-mobile-app> <curriculum-item-controls report-type="\'quiz\'" report-id=quiz.id hotkeys-enabled=true></curriculum-item-controls> </div> </div> </footer> </div></div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(i,n)}]),e.exports=i},3019:function(e,t){var i="/ng/apps/course-taking-v4/quiz-view/practice-test-hotkeys.ng-template.html",n='<div class="fullscreen bg-black fx-lc"> <div class="message-container message-container--hotkeys"> <a href=javascript:void(0) class="udi udi-close message-container__splash-close-bt" ng-click="$dismiss(\'cancel\')"></a> <div class="row mb30"> <div class="col-xs-6 p0 a1 hotkey-label" translate>Keyboard shortcuts</div> <div class="col-xs-3 p0"> <div class=icon-hotkey><div>Shift</div></div> <div class=icon-hotkey><div>?</div></div> </div> </div> <div class="row a3 m0"> <div class="col-xs-3 p0 hotkey-label" translate>Select answer 1-9</div> <div class="col-xs-3 p0"> <div class=icon-hotkey><div>1-9</div></div> </div> <div class="col-xs-3 p0 hotkey-label" translate>Select answer 10-15</div> <div class="col-xs-3 p0"> <div class=icon-hotkey><div>Shift</div></div> <div class=icon-hotkey><div>0-5</div></div> </div> </div> <div class="row a3 m0"> <div class="col-xs-3 p0 hotkey-label" translate>Submit question</div> <div class="col-xs-3 p0"> <div class=icon-hotkey><div class="udi udi-thin-arrow-right"></div></div> </div> <div class="col-xs-3 p0 hotkey-label" translate>Skip question</div> <div class="col-xs-3 p0"> <div class=icon-hotkey><div>Shift</div></div> <div class=icon-hotkey><div class="udi udi-thin-arrow-right"></div></div> </div> </div> <div class="row a3 m0"> <div class="col-xs-3 p0 hotkey-label" translate>Course Content</div> <div class="col-xs-3 p0"> <div class=icon-hotkey><div>C</div></div> </div> </div> </div> </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(i,n)}]),e.exports=i},3020:function(e,t){var i="/ng/apps/course-taking-v4/quiz-view/practice-test-page.ng-template.html",n='<hotkeys hotkeys-type=test></hotkeys> <div class="player-container fullscreen practice-test" ng-class=quizState ng-switch=quizState> <div class="mobile-overlay fx-c"> <div class="mobile-overlay__content tac"> <div translate><b>Whoops! This content doesn\'t play well with mobile devices.</b></div> <div translate>BUT... It\'s available to view on a desktop computer.</div> </div> </div> <ui-view ng-if=quizDataLoaded></ui-view> </div> <div class="player-header full-top-nav"> <div class="player-header__gradient hide-when-user-inactive quiz-section"></div> <curriculum-navigation-button class="slidable-curriculum-nav hidden-on-mobile-app" current-section=currentSection current-section-item=curriculumItem> </curriculum-navigation-button> <div class="player-header__float-group fx fx-lc"> <div class="player-header__timer fx"> <div class="timer__inner fx-lc" ng-if="\'base.taking.quiz.question\' | isState"> <span class="question-count mr5">{{currentQuestion.questionIndex}}/{{quiz.questions.length}}</span> <div class="quiz-progress ml5 fx"> <div class=quiz-progress__fill ng-style="{width: testProgressPercent() + \'%\'}"> </div> </div> <i class="udi udi-clock-o mr5 ml20" ng-class="{\'timer-expired\': timeRemaining() < 0}" aria-hidden=true></i> <span ng-if="timeRemaining() >= 0"> {{timeRemaining() | humanizeForceHours}}</span> <span class=timer-expired ng-if="timeRemaining() < 0"> {{-timeRemaining() | humanizeForceHours}}</span> <span class=control-btn ng-click=toggleTimer()><i class="udi udi-pause ml10 mr10"></i></span> <span class=control-btn ng-click=showStopTestModal()><i class="udi udi-stop"></i></span> </div> </div> <div class="player-header__button-group hide-when-user-inactive" user-active-on> <dashboard-button hide-for-early-access class=hidden-on-mobile-app></dashboard-button> </div> </div> </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(i,n)}]),e.exports=i},3021:function(e,t){var i="/ng/apps/course-taking-v4/quiz-view/practice-test-question-page.ng-template.html",n='<div class="fullscreen fx-lc full-top-nav__scroll-wrapper"> <div class="message-container message-container--quiz"> <quiz-question-multiple-choice question=question is-reviewing=false></quiz-question-multiple-choice> </div> <footer class=player-footer> <div class=player-footer__left> <a class="btn btn-sm btn-tertiary" href=javascript:void(0); ng-click=markForReview()> <i class="mr5 udi udi-star" aria-hidden=true ng-class="question.is_marked_for_review ? \'filled\' : \'\'"></i> <span class=dn-sm translate>Mark for Review</span> <span class="dn db-force-sm" translate>Review</span> </a> </div> <div class=player-footer__right> <a class="btn btn-sm btn-tertiary" href=javascript:void(0); ng-click=skipQuestion()> <span class=dn-sm translate>Skip &amp; Answer Later</span> <span class="dn db-force-sm" translate>Skip</span> </a> <button class="btn btn-sm btn-primary" ng-click=submitAnswer() ng-disabled=!question.answered> <span class="dn-sm mr5" translate>Submit</span> <i class="udi udi-next"></i> </button> <div class=hidden-on-mobile-app> <curriculum-item-controls hotkeys-enabled=true report-type="\'assessment\'" report-id=question.id> </curriculum-item-controls> </div> </div> </footer> </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(i,n)}]),e.exports=i},3022:function(e,t){var i="/ng/apps/course-taking-v4/quiz-view/practice-test-results-page.ng-template.html",n='<div class="fullscreen results-page"><div class="fullscreen test__results-page full-top-nav__scroll-wrapper"> <div class="container message-container--results"> <section class="quiz__info test__results-page__header"> <div class=quiz__title>{{quiz.title}}</div> <div class=quiz__status> <span translate translate-n=quiz.num_assessments translate-plural="{{ quiz.num_assessments }} Questions"> 1 Question </span> <span class=m10>|</span> <span> <span translate translate-n=quiz.durationHours ng-show="quiz.durationHours > 0" translate-plural="{{ quiz.durationHours }} Hours"> 1 Hour </span> <span translate translate-n=quiz.durationMinutes ng-show="quiz.durationMinutes > 0" translate-plural="{{ quiz.durationMinutes }} Minutes"> 1 Minute </span> </span> <span class=m10>|</span> <span translate>{{ quiz.pass_percent }}% correct required to pass</span> </div> </section> <div class="fx-c test__results-page__loader" ng-if=isLoading> <span class="udi udi-circle-loader udi-medium"></span> </div> <div class=test__results-page__panel-container ng-if=!isLoading><div class="test__result panel" ng-repeat="quizAttempt in allQuizAttempts"> <i class="udi udi-chevron-down expander" ng-class="quizAttempt.expanded ? \'expanded\' : \'\'" ng-click=toggleExpandQuizAttempt(quizAttempt)> </i> <div ng-if=!quizAttempt.expanded class="fx fx-jsb panel__small" ng-click=toggleExpandQuizAttempt(quizAttempt)> <div class=fx-lc> <highchart class=small-chart config=quizAttempt.chart></highchart> <span class=attempt> <span translate ng-if=quizAttempt.results_summary.passed>Passed!</span> <span translate ng-if=!quizAttempt.results_summary.passed class=attempt__failed>Failed</span> </span> </div> <div class="percent-correct correct fx-ic"> <span class=percent>{{quizAttempt.results_summary.correctPercentage}}%</span> <span translate>Correct</span> </div> <div class=fx-ic> <span ng-show="quizAttempt.elapsedHours > 0" translate translate-n=quizAttempt.elapsedHours translate-plural="{{quizAttempt.elapsedHours}} hours"> {{quizAttempt.elapsedHours}} hour </span> <span translate translate-n=quizAttempt.elapsedMinutes translate-plural="{{quizAttempt.elapsedMinutes}} minutes"> {{quizAttempt.elapsedHours}} minute </span> </div> <div class=fx-ic>{{quizAttempt.created | humanDate}}</div> <div class=fx-ic></div> </div> <div class=p10 ng-if=quizAttempt.expanded> <div class="header fx fx-lt"> <div> <highchart class=big-chart config=quizAttempt.chart></highchart> <div class="legend mt10 tac"> <span class="correct ml5"><i class="udi udi-square"></i> <span translate>Correct</span></span> <span class="incorrect ml15"><i class="udi udi-square"></i> <span translate>Wrong Answer</span></span> <span class="skipped ml15"><i class="udi udi-square"></i> <span translate>Skipped</span></span> </div> </div> <div class="fx main-summary mt15 mr15"> <div class=attempt translate>Attempt {{ quizAttempt.results_summary.index }}: <span translate ng-if=quizAttempt.results_summary.passed>Passed! ({{ quizAttempt.results_summary.pass_percent }}% required to pass)</span> <span translate ng-if="!quizAttempt.results_summary.passed && quizAttempt.overTime > 0" class=attempt__failed> Failed (exceeded time limit) </span> <span translate ng-if="!quizAttempt.results_summary.passed && quizAttempt.overTime <= 0" class=attempt__failed> Failed ({{ quizAttempt.results_summary.pass_percent }}% required to pass) </span> </div> <div class=percent-correct> <span class=percent>{{quizAttempt.results_summary.correctPercentage}}%</span> <span translate>Correct</span> <span class=summary>({{quizAttempt.results_summary.correct}}/{{quizAttempt.results_summary.total}})</span> </div> <div> <span ng-show="quizAttempt.elapsedHours > 0" translate translate-n=quizAttempt.elapsedHours translate-plural="{{quizAttempt.elapsedHours}} hours"> 1 hour </span> <span ng-show="quizAttempt.elapsedMinutes > 0" translate translate-n=quizAttempt.elapsedMinutes translate-plural="{{quizAttempt.elapsedMinutes}} minutes"> 1 minute </span> <span ng-show="quizAttempt.elapsedHours === 0 && quizAttempt.elapsedMinutes === 0" translate translate-n=quizAttempt.elapsedSeconds translate-plural="{{quizAttempt.elapsedSeconds}} seconds"> 1 second </span> <span ng-show="quizAttempt.overTimeMinutes > 0" class=red translate translate-n=quizAttempt.overTimeMinutes translate-plural="(+{{quizAttempt.overTimeMinutes}} minutes)"> (+1 minute) </span> <span ng-show="quizAttempt.overTimeMinutes === 0 && quizAttempt.overTime > 0" class=red translate translate-n=quizAttempt.overTime translate-plural="(+{{quizAttempt.overTime}} seconds)"> (+1 second) </span> </div> <div>{{quizAttempt.created | humanLongDateTime}}</div> <a class="mt30 btn btn-default" translate ui-sref="base.taking.quiz.attempt-results({attemptId: quizAttempt.id})"> Review Questions </a> </div> </div> <div ng-if="quizAttempt.results_summary.sections.length > 0"> <h2 translate>Knowledge Areas</h2> <div ng-repeat="section in quizAttempt.results_summary.sections"> <div class="section-name h3 mt30"> <span>{{section.name}}</span> <span translate translate-n=section.results.total translate-plural="({{section.results.total}} questions)"> ({{section.results.total}} question) </span> </div> <div class=stats-bar-chart> <div ng-if=section.results.correct class=correct ng-style="{width: 100 * section.results.correct / section.results.total + \'%\'}"> {{ percentage(section.results.correct / section.results.total) }}% </div> <div ng-if=section.results.incorrect class=incorrect ng-style="{width: 100 * section.results.incorrect / section.results.total + \'%\'}"> {{ percentage(section.results.incorrect / section.results.total) }}% </div> <div ng-if=section.results.skipped class=skipped ng-style="{width: 100 * section.results.skipped / section.results.total + \'%\'}"> {{ percentage(section.results.skipped / section.results.total) }}% </div> </div> </div> <div class="legend mt30"> <span class="correct ml5"><i class="udi udi-square"></i> <span translate>Correct</span></span> <span class="incorrect ml15"><i class="udi udi-square"></i> <span translate>Wrong Answer</span></span> <span class="skipped ml15"><i class="udi udi-square"></i> <span translate>Skipped</span></span> </div> </div> </div> </div></div> </div> <footer class=player-footer> <div class=player-footer__left> </div> <div class=player-footer__right> <a class="btn btn-sm btn-tertiary" ui-sref=base.taking.quiz.start> <span translate>Retake Test</span> </a> <continue-button button-classes="btn btn-sm btn-primary hidden-on-mobile-app" object-type="\'quiz\'" object-id=quiz.id> </continue-button> <div class=hidden-on-mobile-app> <curriculum-item-controls report-type="\'quiz\'" report-id=quiz.id hotkeys-enabled=true></curriculum-item-controls> </div> </div> </footer> </div></div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(i,n)}]),e.exports=i},3023:function(e,t){var i="/ng/apps/course-taking-v4/quiz-view/practice-test-start-page.ng-template.html",n='<div class="fullscreen quiz__start-page fx-lc full-top-nav__scroll-wrapper"> <div class="message-container message-container--quiz"> <section class=quiz__info> <div class=quiz__title>{{quiz.title}}</div> <div class=quiz__status> <span translate translate-n=quiz.num_assessments translate-plural="{{ quiz.num_assessments }} Questions"> 1 Question </span> <span class=m20>|</span> <span> <span translate translate-n=quiz.durationHours ng-show="quiz.durationHours > 0" translate-plural="{{ quiz.durationHours }} Hours"> 1 Hour </span> <span translate translate-n=quiz.durationMinutes ng-show="quiz.durationMinutes > 0" translate-plural="{{ quiz.durationMinutes }} Minutes"> 1 Minute </span> </span> <span class=m20>|</span> <span translate>{{ quiz.pass_percent }}% correct required to pass</span> </div> <p class=quiz__description ng-bind-html=quiz.description></p> </section> <hr class="mt30 mb30"> <div translate class=quiz__tips>Tips:<ul> <li translate>You can pause the test at any time and resume later.</li> <li translate>You can retake the test as many times as you would like.</li> <li translate>The progress bar at the top of the screen will show your progress as well as the time remaining in the test. If you run out of time, don’t worry; you will still be able to finish the test.</li> <li translate>You can skip a question to come back to at the end of the exam.</li> <li translate>You can also use “Mark for Review” to come back to questions you are unsure about before you submit your test.</li> <li translate>If you want to finish the test and see your results immediately, press the stop button.</li> </ul></div> </div> <footer class=player-footer> <div class=player-footer__left> </div> <div class=player-footer__right> <continue-button button-classes="btn btn-sm btn-tertiary hidden-on-mobile-app" object-type="\'quiz\'" object-id=quiz.id button-text="{{ \'Skip Test\' | translate }}"> </continue-button> <button class="btn btn-primary" autofocus ng-click=startQuiz()> <span translate>Begin Test</span> </button> <div class=hidden-on-mobile-app> <curriculum-item-controls report-type="\'quiz\'" report-id=quiz.id hotkeys-enabled=true></curriculum-item-controls> </div> </div> </footer> </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(i,n)}]),e.exports=i},3024:function(e,t){var i="/ng/apps/course-taking-v4/quiz-view/quiz-question-fitb.ng-template.html",n='<div class=quiz__fitb> <related-lecture quiz=quiz question=question ng-if=question.related_lectures.length></related-lecture> <question class=quiz__question wrap-images=question></question> <div class=quiz__answer> <button class="btn btn-primary" ng-click=answerQuestionFITB() ng-disabled="question.answered || question.answer_shown || question.fill_count < question.answers.length"> <span translate>Check Your Answer</span> </button> <button class="btn btn-default" ng-click=showAnswerFITB() ng-hide="question.answered || question.answer_shown || question.attempts < 1"> <span translate>Show Answer(s)</span> </button> </div> <b class="fs15 db mt10" ng-show=question.answered translate> Good job, please continue to the next question. </b> </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(i,n)}]),e.exports=i},3025:function(e,t){var i="/ng/apps/course-taking-v4/quiz-view/quiz-question-list.ng-template.html",n='<ul> <li class=result__question ng-repeat="questionIndex in questionList" ng-init="question = quizAttempt.questions[questionIndex]"> <a href=javascript:void(0); ng-click=revisitQuestion(questionIndex)> <span ng-if=question.question_plain ng-bind-html=question.question_plain></span> <span ng-if=!question.question_plain translate>Question {{question.questionIndex}}</span> </a> <a class="result__related-lecture hidden-on-mobile-app" target=_blank href={{question.related_lectures[0].url}} ng-if="questionOutcome == \'wrong\' && question.related_lectures.length"> <p> <span translate>Lecture {{question.related_lectures[0].object_index}}:</span> {{question.related_lectures[0].title}} </p> </a> </li> </ul>';window.angular.module("ng").run(["$templateCache",function(e){e.put(i,n)}]),e.exports=i},3026:function(e,t){var i="/ng/apps/course-taking-v4/quiz-view/quiz-question-mc.ng-template.html",n='<div class=quiz__mc> <question class=quiz__question ng-bind-html=question.prompt.question prettify wrap-images=question></question> <a href=javascript:void(0); ng-click=showAnswerMC() ng-hide="question.answered || question.answer_shown || question.attempts < 2" class="mb10 dib" translate> Show Answer </a> <related-lecture quiz=quiz question=question ng-if=question.related_lectures.length></related-lecture> <ul class=quiz__answers> <li class="answers__option answers--{{answer.result}}" ng-class="answer.correct && question.answer_shown ? \'answers__shown\': \'\'" ng-repeat="answer in question.answers" ng-click="answer.result || answerQuestionMC(answer)"> <span class=answers__number> <span ng-hide=answer.result> {{$index+1}} </span> <i class="udi udi-close" ng-show="answer.result == \'wrong\'"></i> <i class="udi udi-check" ng-show="answer.result == \'correct\'"></i> </span> <span class=answers__question-text> <view-more text="" filter-html=true view-more-style="\'3-line\'"> <div ng-bind-html=answer.text class=answers__question-text__content prettify prettify-delay=1000 prettify-stop-propagation=true wrap-images=question></div> </view-more> <span ng-show=answer.result>{{answer.feedback}}</span> <b class="fs15 db mt10" ng-show="answer.result == \'wrong\'" translate> Please try again. </b> <b class="fs15 db mt10" ng-show="answer.result == \'correct\' && !answer.autofilled" translate> Good job, please continue to the next question. </b> </span> </li> </ul> </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(i,n)}]),e.exports=i},3027:function(e,t){var i="/ng/apps/course-taking-v4/quiz-view/quiz-question-multiple-choice.ng-template.html",n='<form class=quiz__multiple-choice ng-class="{\'is-reviewing\': isReviewing}"> <div class="mb5 header"> <span translate ng-hide="question.assessment_type === \'multi-select\' && !isReviewing"> Question {{question.questionIndex}}: </span> <span translate ng-show="question.assessment_type === \'multi-select\' && !isReviewing"> Question {{question.questionIndex}} (choose all answers that apply): </span> <span ng-if="question.state === \'correct\'" class=correct translate>Correct</span> <span ng-if="question.state === \'incorrect\'" class=incorrect translate>Incorrect</span> <span ng-if="question.state === \'skipped\'" translate>Skipped</span> <div class=question-prompt ng-bind-html=question.prompt.question prettify wrap-images=question></div> </div> <ul> <li class="fx fx-lc mc-answers" ng-class=answer.state ng-repeat="answer in question.answers"> <span class="radio fx" ng-if="question.assessment_type === \'multiple-choice\'"> <label> <input name=answer type=radio ng-change=answersChanged(answer) ng-disabled=isReviewing ng-model=question.selectedValue ng-value="\'answer-\' + $index"> <span class="radio-label fx fx-lc"> <div ng-bind-html=answer.text class="question-copy fx" prettify prettify-delay=1000 prettify-stop-propagation=true wrap-images=answer.text> </div> </span> </label> </span> <span class="checkbox fx" ng-if="question.assessment_type === \'multi-select\'"> <label> <input name=answer type=checkbox ng-change=answersChanged() ng-disabled=isReviewing ng-model=answer.selected> <span class="checkbox-label fx fx-lc"> <div ng-bind-html=answer.text class="question-copy fx" prettify prettify-delay=1000 prettify-stop-propagation=true wrap-images=answer.text> </div> </span> </label> </span> <div ng-if="answer.state == \'correct\'" class=correctness translate>(Correct)</div> <div ng-if="answer.state == \'incorrect\'" class=correctness translate>(Incorrect)</div> </li> </ul> <div class=explanation ng-if="isReviewing && question.prompt.explanation"> <h3 translate>Explanation</h3> <div ng-bind-html=question.prompt.explanation></div> </div> </form>';
window.angular.module("ng").run(["$templateCache",function(e){e.put(i,n)}]),e.exports=i},3028:function(e,t){var i="/ng/apps/course-taking-v4/quiz-view/quiz-question-page.ng-template.html",n='<div class="fullscreen fx-lc scroll-wrapper"> <div class="message-container message-container--quiz" ng-show=question.show> <quiz-question-mc ng-if="question.assessment_type == \'multiple-choice\'"></quiz-question-mc> <quiz-question-fitb ng-if="question.assessment_type == \'fill-in-the-blanks\'"></quiz-question-fitb> </div> <footer class=player-footer> <div class=player-footer__left> <div ng-hide=question.answered> <a class="btn btn-sm btn-tertiary" href=javascript:void(0); ng-click=skipQuestion() ng-hide=question.answered> <span class=dn-sm translate>Skip Question</span> <span class="dn db-force-sm" translate>Skip</span> </a> </div> </div> <div class=player-footer__right> <div class=btn-text--sm> <span class=dn-sm translate>Question {{question.questionIndex}} of {{quiz.questions.length}}</span> <span class="dn db-force-sm" translate>{{question.questionIndex}} of {{quiz.questions.length}}</span> </div> <button class="btn btn-sm btn-primary" ng-click=nextQuestion() ng-show="!question.revisiting && question.nextQuestionIndex" ng-disabled=!question.answered> <span class="dn-sm mr5" translate>Next</span> <i class="udi udi-next"></i> </button> <button class="btn btn-sm btn-primary" ng-click=showResults() ng-show="!question.revisiting && !question.nextQuestionIndex" ng-disabled=!question.answered> <span translate>See Results</span> </button> <button class="btn btn-sm btn-default" ng-click=backToResults() ng-show=question.revisiting> <span translate>Back to Results</span> </button> <div class=hidden-on-mobile-app> <curriculum-item-controls hotkeys-enabled="quiz.type !== \'coding-exercise\'" report-type="\'assessment\'" report-id=question.id> </curriculum-item-controls> </div> </div> </footer> </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(i,n)}]),e.exports=i},3029:function(e,t){var i="/ng/apps/course-taking-v4/quiz-view/quiz-results-page.ng-template.html",n='<div class=fullscreen sticky-nav=result__header--sticky> <header class=result__header ng-class="{\'result__header--fail\': !quizAttempt.stats.user_passed}"> <div class="message-container message-container--quiz"> <span class=icon ng-show="!quizAttempt.stats.summary.skipped.length && quizAttempt.stats.user_passed"> <i class="udi udi-line-star"></i> </span> <h2 class=quiz__title> <span ng-show=quizAttempt.stats.summary.skipped.length translate>Complete the quiz to see your results.</span> <span ng-show="!quizAttempt.stats.summary.skipped.length && quizAttempt.stats.user_passed" translate>Great job! You are ready to move on to the next lecture.</span> <span ng-show="!quizAttempt.stats.summary.skipped.length && !quizAttempt.stats.user_passed" translate>Review the course materials to expand your learning.</span> </h2> <div class=quiz__summary> <span translate>You got {{quizAttempt.stats.summary.correct.length}} out of {{quizAttempt.stats.user_num_answers}} correct on the first attempt. </span> <span ng-show=quizAttempt.stats.summary.skipped.length translate translate-n=quizAttempt.stats.summary.skipped.length translate-plural="{{quizAttempt.stats.summary.skipped.length}} questions are skipped."> {{quizAttempt.stats.summary.skipped.length}} question is skipped. </span> </div> </div> </header> <div class="message-container message-container--quiz"> <section class=quiz__result> <div class=skipped ng-show=quizAttempt.stats.summary.skipped.length> <b class=result__title translate> <i class="icon udi udi-rotate-right"></i> <span translate>What you skipped</span> </b> <quiz-question-list quiz-attempt=quizAttempt question-outcome="\'skipped\'"></quiz-question-list> </div> <div class=correct ng-show=quizAttempt.stats.summary.correct.length> <b class=result__title> <i class="icon udi udi-check text-green"></i> <span translate>What you know</span> <a class="result__hint tooltip-container hidden-on-mobile-app" href=javascript:void(0)> <i class="udi udi-info-circle"></i> <span class="tooltip tooltip-neutral bottom"> <span class=tooltip-inner translate> These are questions you got right on the first try. </span> </span> </a> </b> <quiz-question-list quiz-attempt=quizAttempt question-outcome="\'correct\'"></quiz-question-list> </div> <div class=wrong ng-show=quizAttempt.stats.summary.wrong.length> <b class=result__title> <i class="icon udi udi-close text-red"></i> <span translate>What you should review</span> </b> <quiz-question-list quiz-attempt=quizAttempt question-outcome="\'wrong\'"></quiz-question-list> </div> </section> <footer class=player-footer> <div class=player-footer__left> <button class="btn btn-sm btn-default" ng-click=retryQuiz() ng-if=quizAttempt.stats.user_passed> <span translate class=dn-sm> Retry Quiz </span> <span class="dn db-force-sm" translate>Retry</span> </button> <button class="btn btn-sm btn-default hidden-on-mobile-app" ng-click=continueCourse() ng-disabled=transitionToNextItem ng-if=!quizAttempt.stats.user_passed> <span ng-show=transitionToNextItem> <span class="udi udi-circle-loader udi-small"></span> </span> <span class="dn-sm mr5" translate ng-hide=transitionToNextItem>Continue</span> <i class="udi udi-next"></i> </button> </div> <div class=player-footer__right> <button class="btn btn-sm btn-primary" ng-click=retryQuiz() ng-if=!quizAttempt.stats.user_passed> <span translate class=dn-sm> Retry Quiz </span> <span class="dn db-force-sm" translate>Retry</span> </button> <button class="btn btn-sm btn-primary hidden-on-mobile-app" ng-click=continueCourse() ng-disabled=transitionToNextItem ng-if=quizAttempt.stats.user_passed> <span class="udi udi-circle-loader udi-small" ng-show=transitionToNextItem></span> <span class="dn-sm mr5" translate ng-hide=transitionToNextItem>Continue</span> <i class="udi udi-next"></i> </button> <div class=hidden-on-mobile-app> <curriculum-item-controls hotkeys-enabled=true report-type="\'quiz\'" report-id=quiz.id> </curriculum-item-controls> </div> </div> </footer> </div> </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(i,n)}]),e.exports=i},3030:function(e,t){var i="/ng/apps/course-taking-v4/quiz-view/quiz-start-page.ng-template.html",n='<div class="fullscreen quiz__start-page fx-lc scroll-wrapper"> <div class="message-container message-container--quiz"> <section class=quiz__info> <h2 class=quiz__title>{{quiz.title}}</h2> <div class=quiz__status> <span translate>Quiz {{quiz.object_index}}</span> <span class=m20>|</span> <span translate translate-n=quiz.num_assessments translate-plural="{{ quiz.num_assessments }} Questions"> 1 Question </span> </div> <p class=quiz__description ng-bind-html=quiz.description></p> </section> <nav class="quiz__nav mb10"> <button class="btn btn-primary" ng-click=startQuiz() autofocus> <span ng-hide="quizAttempt && quizAttempt.viewed_time" translate> Start Quiz </span> <span ng-show="quizAttempt && quizAttempt.viewed_time" translate> Resume Quiz </span> </button> <button class="btn btn-tertiary hidden-on-mobile-app" href=javascript:void(0); ng-click=skipQuiz() ng-disabled=transitionToNextItem> <span ng-show=transitionToNextItem> <span class="udi udi-circle-loader udi-small"></span> </span> <span ng-if="quiz.type === \'simple-quiz\' && !transitionToNextItem" translate>Skip Quiz</span> </button> </nav> </div> <footer class=player-footer> <div class=player-footer__left>&nbsp;</div> <div class=player-footer__right> <div class=hidden-on-mobile-app> <curriculum-item-controls hotkeys-enabled=true report-type="\'quiz\'" report-id=quiz.id> </curriculum-item-controls> </div> </div> </footer> </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(i,n)}]),e.exports=i},3031:function(e,t){var i="/ng/apps/course-taking-v4/quiz-view/quiz-view.ng-template.html",n='<div class="fullscreen bg-white" ng-if=!quiz> <span class="preloader--center preloader--lg icon-spin"> <i class="udi udi-circle-loader"></i> </span> </div> <div class="fullscreen theme-white" user-activity-check user-activity-check-enabled=false ng-if=quiz ng-switch=quiz.type> <simple-quiz-page quiz=quiz latest-quiz-attempt=latestQuizAttempt current-section=currentSection curriculum-item=curriculumItem ng-switch-when=simple-quiz> </simple-quiz-page> <coding-exercise-page quiz=quiz quiz-attempt=latestQuizAttempt current-section=currentSection curriculum-item=curriculumItem ng-switch-when=coding-exercise> </coding-exercise-page> <practice-test-page quiz=quiz latest-quiz-attempt=latestQuizAttempt current-section=currentSection curriculum-item=curriculumItem ng-switch-when=practice-test> </practice-test-page> </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(i,n)}]),e.exports=i},3032:function(e,t){var i="/ng/apps/course-taking-v4/quiz-view/related-lecture.ng-template.html",n='<div class="quiz__related-lecture hidden-on-mobile-app"> <div class=fx-jsb> <a href=javascript:void(0); ng-click=toggleRelatedLecture() ng-show=question.attempts class="fx link--gray ellipsis"> <i class="udi udi-angle-down" ng-show=relatedLectureType></i> <i class="udi udi-angle-right" ng-hide=relatedLectureType></i> <span translate>This was discussed in Lecture {{lecture.object_index}}:</span> <b>{{lecture.title}}</b> </a> </div> <div class=quiz__related-video ng-if="relatedLectureType == \'Video\' || relatedLectureType == \'VideoMashup\'"> <video-player class=related-video__player lecture=video_lecture page-config=embed></video-player> </div> </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(i,n)}]),e.exports=i},3033:function(e,t){var i="/ng/apps/course-taking-v4/quiz-view/simple-quiz-page.ng-template.html",n='<hotkeys hotkeys-type=quiz></hotkeys> <div class="player-container fullscreen" ng-switch=quizState> <quiz-start-page quiz=quiz quiz-attempt=latestQuizAttempt ng-switch-when=start_page> </quiz-start-page> <quiz-question-page quiz=quiz quiz-attempt=latestQuizAttempt question=currentQuestion ng-switch-when=question_page> </quiz-question-page> <quiz-results-page quiz=quiz quiz-attempt=latestQuizAttempt ng-switch-when=results_page> </quiz-results-page> </div> <div class=player-header> <div class="player-header__gradient hide-when-user-inactive quiz-section"></div> <curriculum-navigation-button class="slidable-curriculum-nav hidden-on-mobile-app" current-section=currentSection current-section-item=curriculumItem> </curriculum-navigation-button> <div class="player-header__button-group hide-when-user-inactive" user-active-on> <dashboard-button hide-for-early-access class=hidden-on-mobile-app></dashboard-button> </div> </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(i,n)}]),e.exports=i},3034:function(e,t){var i="/ng/apps/course-taking-v4/quiz-view/u-blank.ng-template.html",n='<div class="blank-question blank-question--{{blank.result}}"> <input type=text class=blank-question__text placeholder=blank ng-model=blank.fill ng-change=fillChanged() ng-disabled="question.answer_shown || blank.result == \'correct\'"/> </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(i,n)}]),e.exports=i},3035:function(e,t){var i="/ng/apps/course-taking-v4/review/review-prompt.ng-template.html",n="<div> <div ng-if=\"experimentVariant === 'default'\" class=\"player-container fullscreen bg-light-grey\"> <div class=\"message-container message-container--nps message-container--review\"> <div class=message-container--nps__review> <div ng-show=reviewEnabled() class=dib id=in-course-review> <div ng-show=\"reviewSM.is('survey')\" ng-click=reviewSM.back() class=back translate>Back</div> <div class=clearfix> <div ng-show=\"!reviewSM.is('complete')\"> <div ng-show=\"reviewSM.is('rating') || reviewSM.is('feedback')\" ng-switch=courseReview.location> <div ng-switch-when=course_taking__middle class=choose-rate-text translate>Great job! Now that you are halfway through this course, would you like to update your review?</div> <div ng-switch-when=course_taking__final class=choose-rate-text translate>Congratulations, you have completed this course! Would you like to update your review to summarize your entire experience?</div> <div ng-switch-default ng-hide=courseReview.rating class=choose-rate-text translate>Based on what you've seen so far, how would you rate this course?</div> </div> <review-star star-click-handler=updateCourseRating(rating) current-rating=courseReview.rating></review-star> </div> <div ng-show=\"reviewSM.is('complete')\"> <div class=thanks-rate-text translate>Thank you for contributing to the Udemy community!</div> </div> </div> <div class=form ng-show=\"!reviewSM.is('complete')\"> <div class=survey ng-show=\"reviewSM.is('survey')\"> <h2 translate>Please tell us more (optional).</h2> <survey survey-code=review-survey populate course=\"{{ course.id }}\" api=surveyDirectiveActions></survey> <div class=dib> <button class=\"btn btn-primary\" ng-click=saveSurvey() translate>Save &amp; Continue</button> <a href ng-show=\"courseReview.location == 'course_taking__initial'\" ng-click=cancelReview() prevent-click class=ask-me-later translate>I'll respond later</a> </div> </div> <div class=review ng-show=\"reviewSM.is('feedback')\"> <h2 translate>Why did you leave this rating?</h2> <textarea class=review-textarea ng-keydown=$event.stopPropagation() ng-attr-placeholder=\"{{'Share your opinion about the quality of this course.' | translate}}\" ng-model=courseReview.content></textarea> </div> <div ng-show=\"reviewSM.is('feedback')\"> <span ng-show=isUfbUser translate>Your review will be available to other users in your learning portal.</span> <span ng-show=!isUfbUser translate>Your review will be publicly visible within 24 hours.</span> <a target=_blank href=\"{{ reviewsSupportLink }}\" translate>Here’s how to write a great review.</a> </div> <div class=review--actions> <div class=dib ng-show=\"reviewSM.is('feedback')\"> <button class=\"btn btn-primary btn-sm\" ng-click=saveReview() translate>Save &amp; Continue</button> </div> <span ng-show=\"courseReview.location == 'course_taking__initial' && reviewSM.is('rating')\" translate>Is it too soon to tell?</span> <a href ng-show=\"courseReview.location == 'course_taking__initial' && reviewSM.is('rating')\" ng-click=cancelReview() prevent-click class=\"btn btn-default ask-me-later\" translate>I'll leave a rating later</a> <a href ng-show=\"courseReview.location == 'course_taking__initial' && reviewSM.is('feedback') && !courseReview.id\" ng-click=cancelReview() prevent-click class=ask-me-later translate>Nevermind, I'll leave a rating later</a> <a href ng-show=\"courseReview.location == 'course_taking__initial--end'\" ng-click=cancelReview() prevent-click class=ask-me-later translate>Cancel</a> </div> </div> </div> </div> </div> </div> <div ng-if=\"experimentVariant === 'A'\" class=\"player-container fullscreen bg-light-grey\"> <div class=\"message-container message-container--nps message-container--review\"> <div class=message-container--nps__review> <div ng-show=reviewEnabled() class=dib id=in-course-review> <div ng-show=\"reviewSM.is('survey')\" ng-click=reviewSM.back() class=back translate>Back</div> <div class=clearfix> <div ng-show=\"reviewSM.is('rating') || reviewSM.is('feedback')\" ng-switch=courseReview.location> <div ng-switch-when=course_taking__middle class=choose-rate-text translate>Great job! Now that you are halfway through this course, would you like to update your review?</div> <div ng-switch-when=course_taking__final class=choose-rate-text translate>Congratulations, you have completed this course! Would you like to update your review to summarize your entire experience?</div> <div ng-switch-default ng-hide=courseReview.rating class=choose-rate-text translate>Based on what you've seen so far, how would you rate this course?</div> </div> <div ng-show=\"reviewSM.is('complete')\"> <div class=thanks-rate-text translate>Thank you for contributing to the Udemy community!</div> </div> </div> <div class=form ng-show=\"!reviewSM.is('complete')\" ng-class=\"{'review--experiment-variant-a': reviewSM.is('rating')}\"> <review-star star-click-handler=updateCourseRating(rating) current-rating=courseReview.rating ng-class=\"{'review--experiment-variant-a': reviewSM.is('rating')}\"></review-star> <div class=survey ng-show=\"reviewSM.is('survey')\"> <h2 translate>Please tell us more (optional).</h2> <survey survey-code=review-survey populate course=\"{{ course.id }}\" api=surveyDirectiveActions></survey> <div class=review--experiment-variant-a> <a href ng-show=\"courseReview.location == 'course_taking__initial'\" ng-click=cancelReview() prevent-click translate>I'll respond later</a> <button class=\"btn btn-primary\" ng-click=saveSurvey() translate> Save &amp; Continue</button> </div> </div> <div class=review ng-show=\"reviewSM.is('feedback')\"> <h2 translate>Why did you leave this rating?</h2> <textarea class=review-textarea ng-keydown=$event.stopPropagation() ng-attr-placeholder=\"{{'Share your opinion about the quality of this course.' | translate}}\" ng-model=courseReview.content></textarea> </div> <div ng-show=\"reviewSM.is('feedback')\"> <span ng-show=isUfbUser translate>Your review will be available to other users in your learning portal.</span> <span ng-show=!isUfbUser translate>Your review will be publicly visible within 24 hours.</span> <a target=_blank href=\"{{ reviewsSupportLink }}\" translate>Here’s how to write a great review.</a> </div> <span ng-show=\"reviewSM.is('rating')\" class=review--experiment-variant-a translate>or</span> <a href ng-show=\"courseReview.location == 'course_taking__initial' && reviewSM.is('rating')\" ng-click=cancelReview() prevent-click class=\"btn btn-default ask-me-later review--experiment-variant-a\" translate>I'm not ready to leave a rating yet</a> <a href ng-show=\"courseReview.location == 'course_taking__initial--end' && reviewSM.is('rating')\" ng-click=cancelReview() prevent-click class=\"btn btn-default ask-me-later review--experiment-variant-a\" translate>Cancel</a> <div ng-show=\"!reviewSM.is('rating')\" class=\"review--actions review--experiment-variant-a\"> <a href ng-show=\"courseReview.location == 'course_taking__initial' && reviewSM.is('feedback') && !courseReview.id\" ng-click=cancelReview() prevent-click translate>Nevermind, I'll leave a rating later</a> <a href ng-show=\"courseReview.location == 'course_taking__initial--end'\" ng-click=cancelReview() prevent-click class=ask-me-later translate>Cancel</a> <button ng-show=\"reviewSM.is('feedback')\" ng-click=saveReview() class=\"btn btn-primary btn-sm\" translate> Save &amp; Continue</button> </div> </div> </div> </div> </div> </div> <div ng-if=\"experimentVariant === 'B'\" class=\"player-container fullscreen bg-light-grey\"> <div class=\"message-container message-container--nps message-container--review\"> <div class=message-container--nps__review> <div ng-show=reviewEnabled() class=dib id=in-course-review> <div ng-show=\"reviewSM.is('survey')\" ng-click=reviewSM.back() class=back translate>Back</div> <div class=clearfix> <div ng-show=\"reviewSM.is('prompt')\"> <div class=choose-rate-text translate>Would you like to rate this course?</div> </div> <div ng-show=\"['prompt', 'complete'].indexOf(reviewSM.current)===-1\"> <div ng-show=\"reviewSM.is('rating') || reviewSM.is('feedback')\" ng-switch=courseReview.location> <div ng-switch-when=course_taking__middle class=choose-rate-text translate>Great job! Now that you are halfway through this course, would you like to update your review?</div> <div ng-switch-when=course_taking__final class=choose-rate-text translate>Congratulations, you have completed this course! Would you like to update your review to summarize your entire experience?</div> <div ng-switch-default ng-hide=courseReview.rating class=choose-rate-text translate>Based on what you've seen so far, how would you rate this course?</div> </div> <review-star star-click-handler=updateCourseRating(rating) current-rating=courseReview.rating></review-star> </div> <div ng-show=\"reviewSM.is('complete')\"> <div class=thanks-rate-text translate>Thank you for contributing to the Udemy community!</div> </div> </div> <div class=form ng-show=\"!reviewSM.is('complete')\"> <div class=survey ng-show=\"reviewSM.is('survey')\"> <h2 translate>Please tell us more (optional).</h2> <survey survey-code=review-survey populate course=\"{{ course.id }}\" api=surveyDirectiveActions></survey> <div class=dib> <button class=\"btn btn-primary\" ng-click=saveSurvey() translate>Save &amp; Continue</button> <a href ng-show=\"courseReview.location == 'course_taking__initial'\" ng-click=cancelReview() prevent-click class=ask-me-later translate>I'll respond later</a> </div> </div> <div class=review ng-show=\"reviewSM.is('feedback')\"> <h2 translate>Why did you leave this rating?</h2> <textarea class=review-textarea ng-keydown=$event.stopPropagation() ng-attr-placeholder=\"{{'Share your opinion about the quality of this course.' | translate}}\" ng-model=courseReview.content></textarea> </div> <div ng-show=\"reviewSM.is('feedback')\"> <span ng-show=isUfbUser translate>Your review will be available to other users in your learning portal.</span> <span ng-show=!isUfbUser translate>Your review will be publicly visible within 24 hours.</span> <a target=_blank href=\"{{ reviewsSupportLink }}\" translate>Here’s how to write a great review.</a> </div> <div ng-class=\"{'review--actions': !reviewSM.is('prompt'), 'review--prompt-actions': reviewSM.is('prompt')}\"> <div ng-show=\"reviewSM.is('prompt')\"> <a href prevent-click ng-click=cancelReview(experiment.dontAsk) class=\"btn btn-default ask-me-later\" translate>No, continue viewing course</a> <span class=checkbox> <label> <input type=checkbox ng-model=experiment.dontAsk> <span class=checkbox-label translate>Don't ask me again</span> </label> </span> </div> <div ng-show=\"reviewSM.is('prompt')\"> <a href prevent-click ng-click=reviewSM.forward() class=\"btn btn-primary\" translate>Yes, leave a rating</a> </div> <div class=dib ng-show=\"reviewSM.is('feedback')\"> <button class=\"btn btn-primary btn-sm\" ng-click=saveReview() translate>Save &amp; Continue</button> </div> <span ng-show=\"courseReview.location == 'course_taking__initial' && reviewSM.is('rating')\" translate>Is it too soon to tell?</span> <a href ng-show=\"courseReview.location == 'course_taking__initial' && reviewSM.is('rating')\" ng-click=cancelReview() prevent-click class=\"btn btn-default ask-me-later\" translate>I'll leave a rating later</a> <a href ng-show=\"courseReview.location == 'course_taking__initial' && reviewSM.is('feedback') && !courseReview.id\" ng-click=cancelReview() prevent-click class=ask-me-later translate>Nevermind, I'll leave a rating later</a> <a href ng-show=\"courseReview.location == 'course_taking__initial--end' && !reviewSM.is('prompt')\" ng-click=cancelReview() prevent-click class=ask-me-later translate>Cancel</a> </div> </div> </div> </div> </div> </div> <div ng-if=\"experimentVariant === 'C'\" class=\"player-container fullscreen bg-light-grey\"> <div class=\"message-container message-container--nps message-container--review\"> <div class=message-container--nps__review> <div ng-show=reviewEnabled() class=dib id=in-course-review> <div ng-show=\"reviewSM.is('survey')\" ng-click=reviewSM.back() class=back translate>Back</div> <div class=clearfix> <div ng-show=\"reviewSM.is('prompt')\"> <div class=\"choose-rate-text review--experiment-variant-c\" translate>Your feedback is valuable and greatly appreciated.</div> <div class=\"choose-rate-text review--experiment-variant-c\" translate>Would you like to rate this course?</div> </div> <div ng-show=\"['prompt', 'complete'].indexOf(reviewSM.current)===-1\"> <div ng-show=\"reviewSM.is('rating') || reviewSM.is('feedback')\" ng-switch=courseReview.location> <div ng-switch-when=course_taking__middle class=choose-rate-text translate>Great job! Now that you are halfway through this course, would you like to update your review?</div> <div ng-switch-when=course_taking__final class=choose-rate-text translate>Congratulations, you have completed this course! Would you like to update your review to summarize your entire experience?</div> <div ng-switch-default ng-hide=courseReview.rating class=choose-rate-text translate>Based on what you've seen so far, how would you rate this course?</div> </div> <review-star star-click-handler=updateCourseRating(rating) current-rating=courseReview.rating></review-star> </div> <div ng-show=\"reviewSM.is('complete')\"> <div class=thanks-rate-text translate>Thank you for contributing to the Udemy community!</div> </div> </div> <div class=form ng-show=\"!reviewSM.is('complete')\"> <div class=survey ng-show=\"reviewSM.is('survey')\"> <h2 translate>Please tell us more (optional).</h2> <survey survey-code=review-survey populate course=\"{{ course.id }}\" api=surveyDirectiveActions></survey> <div class=dib> <button class=\"btn btn-primary\" ng-click=saveSurvey() translate>Save &amp; Continue</button> <a href ng-show=\"courseReview.location == 'course_taking__initial'\" ng-click=cancelReview() prevent-click class=ask-me-later translate>I'll respond later</a> </div> </div> <div class=review ng-show=\"reviewSM.is('feedback')\"> <h2 translate>Why did you leave this rating?</h2> <textarea class=review-textarea ng-keydown=$event.stopPropagation() ng-attr-placeholder=\"{{'Share your opinion about the quality of this course.' | translate}}\" ng-model=courseReview.content></textarea> </div> <div ng-show=\"reviewSM.is('feedback')\"> <span ng-show=isUfbUser translate>Your review will be available to other users in your learning portal.</span> <span ng-show=!isUfbUser translate>Your review will be publicly visible within 24 hours.</span> <a target=_blank href=\"{{ reviewsSupportLink }}\" translate>Here’s how to write a great review.</a> </div> <div ng-class=\"{'review--actions': !reviewSM.is('prompt'), 'review--prompt-actions': reviewSM.is('prompt')}\"> <div ng-show=\"reviewSM.is('prompt')\"> <a href prevent-click ng-click=cancelReview(experiment.dontAsk) class=\"btn btn-default ask-me-later\" translate>No, continue viewing course</a> <span class=checkbox> <label> <input type=checkbox ng-model=experiment.dontAsk> <span class=checkbox-label translate>Don't ask me again</span> </label> </span> </div> <div ng-show=\"reviewSM.is('prompt')\"> <a href prevent-click ng-click=reviewSM.forward() class=\"btn btn-primary\" translate>Yes, leave a rating</a> </div> <div class=dib ng-show=\"reviewSM.is('feedback')\"> <button class=\"btn btn-primary btn-sm\" ng-click=saveReview() translate>Save &amp; Continue</button> </div> <span ng-show=\"courseReview.location == 'course_taking__initial' && reviewSM.is('rating')\" translate>Is it too soon to tell?</span> <a href ng-show=\"courseReview.location == 'course_taking__initial' && reviewSM.is('rating')\" ng-click=cancelReview() prevent-click class=\"btn btn-default ask-me-later\" translate>I'll leave a rating later</a> <a href ng-show=\"courseReview.location == 'course_taking__initial' && reviewSM.is('feedback') && !courseReview.id\" ng-click=cancelReview() prevent-click class=ask-me-later translate>Nevermind, I'll leave a rating later</a> <a href ng-show=\"courseReview.location == 'course_taking__initial--end' && !reviewSM.is('prompt')\" ng-click=cancelReview() prevent-click class=ask-me-later translate>Cancel</a> </div> </div> </div> </div> </div> </div> </div>";window.angular.module("ng").run(["$templateCache",function(e){e.put(i,n)}]),e.exports=i},3036:function(e,t){var i="/ng/apps/course-taking-v4/sidenav/sidenav.ng-template.html",n='<div class="sidebar--nav nav-close" tab-index=-1> <ng-transclude></ng-transclude> </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(i,n)}]),e.exports=i},3050:function(e,t){var i="/ng/apps/my-courses/views/discovery-units.ng-template.html",n='<courses-list ng-repeat="unit in recommendationUnits" card-width=235 action="{{ unit.action }}" source=unit.source exclude=unit.exclude title="{{ unit.title }}" tracking-context="{{ unit.trackingContext }}" tracking-subcontext="{{ unit.trackingSubcontext }}" source-page="{{ unit.sourcePage }}" after-load=unit.afterLoad() type=recommendations> </courses-list>';window.angular.module("ng").run(["$templateCache",function(e){e.put(i,n)}]),e.exports=i},3152:function(e,t){var i="/ng/directives/early-access/early-access-footer-directive.ng-template.html",n='<div class=early-access-footer ng-show=earlyAccess.shouldShow ng-class="{\'survey-open\':earlyAccess.surveyOpen}"> <div class=footer-buttons> <div class=pl30> <a ng-href="{{ myCoursesUrl }}" class="btn btn-tertiary--white"> &lt; Back to My Courses </a> </div> <div ng-hide=earlyAccess.statusComplete class="fx text-center"> <span class=bold> Step 2 of 2: View at Least 20 Minutes of the Course and Share Your Feedback </span> <early-access-timer is-expired=earlyAccess.isExpired expiration="{{ expiration }}" expiration-handler=expirationHandler> </early-access-timer> </div> <div ng-hide=earlyAccess.statusComplete class=pr30> <span ng-click="earlyAccess.surveyOpen=false" ng-show=earlyAccess.surveyOpen> <i class="udi udi-close"></i> </span> <button class="btn btn-primary" ng-disabled=!watchedEnough ng-click=openSurveyAndPauseVideo() ng-hide=earlyAccess.surveyOpen> <span>Finish Reviewing</span> </button> </div> <div ng-show=earlyAccess.statusComplete class="fx text-center"> Your early access course feedback has been received, thank you! </div> </div> <div ng-show=earlyAccess.surveyOpen> <survey survey-code=early-access-course-taking populate early-access=course-taking course="{{ courseId }}" user-answers=userAnswers api=surveyDirectiveActions> </survey> <div class=survey-buttons> <button class="btn btn-tertiary" ng-disabled="saving || submitting" ng-click=saveSurvey()> <span ng-show=saving class="udi udi-circle-loader udi-small"></span> Save and Close </button> <button class="btn btn-primary" ng-disabled="saving || submitting || !surveyFormComplete" ng-click=submitSurvey()> <span ng-show=submitting class="udi udi-circle-loader udi-small"></span> Submit </button> </div> </div> </div> <div ng-if="earlyAccess.isExpired && !earlyAccess.surveyComplete" class="early-access-footer survey-complete"> <h2 style=margin-bottom:50px> The time to review this course has run out, but there are new courses available! </h2> <a ng-href="{{ myCoursesUrl }}"> <button class="btn btn-primary"> <span>Go to My Courses</span> </button> </a> </div> <div ng-if="earlyAccess.surveyComplete && !earlyAccess.statusComplete" class="early-access-footer survey-complete"> <div ng-hide=coursesLoaded class=fullscreen> <span class="preloader--center preloader--lg icon-spin"> <i class="udi udi-circle-loader text-white"></i> </span> </div> <div ng-show=coursesLoaded> <div ng-hide=hasRedeemed class=pb60> <h2 class="text-center pb30"> <div class=pb5> Thanks for your review of this course! </div> <div ng-hide=hasReward> It has been submitted to the early access review program. </div> <div ng-show=hasReward> You now have 30 day access to one of your reviewed courses! </div> </h2> <early-access-progress class=fx-c ng-if=coursesLoaded course-data=courseData> </early-access-progress> <div class=pt30 ng-show=hasReward> <div class="text-center pb30"> Choose the course you want extra access to: </div> <ul class="fx-c course-card-wrapper" ng-if="redeemableCourses.length > 0"> <li> <early-access-course-card has-reward=hasReward redeem-reward=redeemReward redeeming-course-id=redeemingCourseId course=course on-page=course-taking ng-repeat="course in redeemableCourses"> </early-access-course-card> </li> </ul> </div> </div> <div ng-show=hasRedeemed class=pb30> <h2 class="text-center pb30"> <div class=pb5> You now have 30 days access to </div> {{ redeemedCourse.title }} </h2> <ul class="fx-c course-card-wrapper" ng-if=redeemedCourse> <li> <early-access-course-card course=redeemedCourse on-page=my-courses> </early-access-course-card> </li> </ul> </div> <div ng-hide="hasReward && !hasRedeemed"> <button class="btn btn-continue-viewing" ng-click=continueViewing()> Continue viewing course </button> <a ng-href="{{ myCoursesUrl }}" class="btn btn-primary"> Review another course </a> </div> <div class=reminder-text> <div ng-hide="hasReward || hasRedeemed"> You will have access to this course for the next 7 days. </div> <div ng-show="numReviewsLeft > 0"> You still have 1 course to review before {{ periodEnd }} if you’d like to stay in the program. </div> </div> </div> </div>';
window.angular.module("ng").run(["$templateCache",function(e){e.put(i,n)}]),e.exports=i},3153:function(e,t){var i="/ng/directives/early-access/early-access-review-star.ng-template.html",n='<div class=fx-lc> <review-star star-click-handler="starClicked($event, rating)" star-hover-handler=updateHoverRating(rating) current-rating=getCurrentRating()></review-star> <div ng-show=getCurrentHoverRating()> {{ getCurrentHoverRating() }} of 5 </div> </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(i,n)}]),e.exports=i},3438:function(e,t,i){var n;!function(s,r){"use strict";n=function(){return r(s)}.call(t,i,t,e),!(void 0!==n&&(e.exports=n))}(this,function(e){"use strict";function t(e,t){if(0===e)return!1;var i=e,n=1,s=-1,r=-1;do{if(s=t[i].indexOf("*/"),r=t[i].indexOf("/*"),s!==-1&&n++,s===t[i].length-2&&r!==-1&&n--,r!==-1&&(n--,0===n))return!0;i-=1}while(0!==i);return!1}function i(e,t){for(var i;--e>-1;){if(i=t.substr(e,1),'"'===i||"'"===i||"."===i)return!0;if(("/"===i||"*"===i)&&(--e,"/"===i))return!0}return!1}function n(e,t,i){a.lastIndex=0,l.lastIndex=0;var n=!1,s=i.slice(t).join("\n").substr(e).replace(l,"");return s.replace(a,function(e,t,i){var r=s.substr(0,i).replace(c,"").trim();0===r.length&&(n=!0)}),n}function s(e,s){function r(e,t,i){return t.slice(0,i)+"{;"+h+"({ line: "+e+", reset: true }); "+t.slice(i)}var a=[],c=e.split("\n"),d=!1,h=u.alias+".protect",p={},f={},g=null;return s||(s=0),c.forEach(function(e,u){if(o.lastIndex=0,l.lastIndex=0,!d){e.toLowerCase().indexOf("noprotect")!==-1&&(d=!0);var m=-1,v=-1,b=u,w=u-s+1,y="",A=!1,k=!1,C=!1,x=e.match(o)||[],_=x.length?x[0]:"",S=e.match(l)||[],E=0,F=0,D=!1;if(S.length&&(m=e.indexOf(S[1]),i(m,e)||t(u,c)||n(m,u,c)&&(g=u)),!p[u]){if(f[u])return void a.push(e);if(_&&1===x.length&&e.indexOf("jsbin")===-1){if(A="do"===_,v=m=e.indexOf(_),i(m,e))return void a.push(e);if(t(u,c))return void a.push(e);for(m=e.indexOf(_)+_.length,m===e.length&&m===e.length&&u<c.length-1&&(a.push(e),u++,e=c[u],p[u]=!0,m=0);m<e.length;){if(y=e.substr(m,1),"("===y&&E++,")"===y&&(E--,0===E&&C===!1&&(C=m)),"{"===y&&F++,"}"===y&&F--,0===E&&(";"===y||"{"===y)){if(";"===y)u!==b?(a[b]=a[b].substring(0,C+1)+"{\nif ("+h+"({ line: "+w+" })) break;\n"+a[b].substring(C+1),e+="\n}}\n"):e=e.substring(0,C+1)+"{\nif ("+h+"({ line: "+w+" })) break;\n"+e.substring(C+1)+"\n}}\n",D=!0;else if("{"===y){var $=";\nif ("+h+"({ line: "+w+" })) break;\n";e=e.substring(0,m+1)+$+e.substring(m+1),m+=$.length}if(u===b&&null===g?(e=r(w,e,v),m+=(";"+h+"({ line: "+u+", reset: true }); ").length):null===g?a[b]=r(w,a[b],v):(void 0===a[g]&&(g--,v=0),a[g]=r(w,a[g],v),g=null),A){for(k=!1;m<e.length;){if(y=e.substr(m,1),"{"===y&&F++,"}"===y&&F--,k=0===F,k&&e.indexOf("while")!==-1)return e+="}",a.push(e),void(p[u]=!0);m++,m===e.length&&u<c.length-1&&(a.push(e),p[u]=!0,u++,e=c[u],m=0)}return}if(D)return void a.push(e);for(;null!==e;){if(y=e.substr(m,1),"{"===y&&F++,"}"===y&&(F--,0===F))return e=e.substring(0,m+1)+"}"+e.substring(m+1),a.push(e),void(p[u]=!0);m++,m>=e.length&&(a.push(e),p[u]=!0,u++,e=c[u],m=0)}return}m++,m===e.length&&u<c.length-1&&(a.push(e),u++,e=c[u],p[u]=!0,m=0)}}else a.push(e)}}}),d?e:a.join("\n")}var r=null,o=/\b(for|while|do)\b/g,a=/\b(for|while|do)\b/,l=/\b(?!default:)([a-z_]{1}\w+:)/i,c=/(?:\/\*(?:[\s\S]*?)\*\/)|(?:([\s;])+\/\/(?:.*)$)/gm,u=s;return u.counters={},u.debug=function(e){r=e?function(){console.log.apply(console,[].slice.apply(arguments))}:function(){}},u.debug(!1),u.alias="loopProtect",u.protect=function(e){u.counters[e.line]=u.counters[e.line]||{};var t=u.counters[e.line],i=(new Date).getTime();return e.reset&&(t.time=i,t.hit=0,t.last=0),t.hit++,i-t.time>100?(u.hit(e.line),!0):(t.last++,!1)},u.hit=function(t){var i="Exiting potential infinite loop at line "+t+'. To disable loop protection: add "// noprotect" to your code';e.proxyConsole?e.proxyConsole.error(i):console.error(i)},u.reset=function(){u.counters={}},u})}});